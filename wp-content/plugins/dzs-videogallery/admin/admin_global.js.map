{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////Users/raduh/Dropbox/hosts/videogallery/wp/wp-content/plugins/dzs-videogallery/admin/js_common/_dzs_helpers.js","webpack:////Users/raduh/Dropbox/hosts/videogallery/wp/wp-content/plugins/dzs-videogallery/admin/admin_global.sourcepack.js","webpack:////Users/raduh/Dropbox/hosts/videogallery/wp/wp-content/plugins/dzs-videogallery/admin/js_common/_dzs_dependency.js","webpack:////Users/raduh/Dropbox/hosts/videogallery/wp/wp-content/plugins/dzs-videogallery/admin/jsinc/_misc.js","webpack:////Users/raduh/Dropbox/hosts/videogallery/wp/wp-content/plugins/dzs-videogallery/admin/jsinc/_adminHelpers.js","webpack:////Users/raduh/Dropbox/hosts/videogallery/wp/wp-content/plugins/dzs-videogallery/admin/jsinc/_mainoptions.js","webpack:////Users/raduh/Dropbox/hosts/videogallery/wp/wp-content/plugins/dzs-videogallery/admin/jsinc/_check_block_editors.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","get_query_arg","purl","indexOf","regtest","RegExp","exec","replace","sanitize_to_youtube_id","arg","String","dataSrc","auxa","split","auxb","console","info","detect_video_type_and_source","forceType","cthis","playFrom","type","source","aux","length","attr","dzsDep","require","miscFuncs","adminHelpers","mainoptions","jQuery","document","ready","$","handle_input","e","_t","this","hasClass","mainarray","val","window","dzsvg_settings","playlists_mode","data","action","postdata","post","ajaxurl","response","undefined","log","css","html","trigger","confirm","setTimeout","_cache","eq","parent","sel","find","wrap","prepend","text","off","on","selval","children","undelegate","delegate","url3","ad_builder_url","ad_target_field","prev","encodeURIComponent","open_ultibox","scaling","suggested_width","suggested_height","item","quality_builder_url","quality_target_field","mainoptions_init","dep_init","_targetInput","searched_type","frame","wp","media","frames","dzsp_addimage","title","library","button","close","attachment","state","first","attributes","url","id","open","stopPropagation","preventDefault","_targetInputTitle","_con","uploader_frame","dzsvg_addplayer","multiple","args","item_gallery_frame","downloadable_file","selection","toJSON","ik","_c","location","href","newvrs","Number","version","before","after","append","next","addClass","history","pushState","foo","generateThumbnailForField","con_generate_buttons","extra_skin_hiddenselect","handle_change","each","str_dependency","dep_arr","JSON","parse","target_con","lab","label","element","cval","sw_show","i3","relation","prop","_arg","removeClass","hide","err","error","ind","_t2","index","add_query_arg","change_selecthidden","click_anoption","selind","_slidercon","do_changemainsliderclass","removeAttr","argval","remove","dzsHelpers","generateThumbnailForVideo","videoSource","videoType","Promise","resolve","reject","admin_try_to_generate_thumb_for_self_hosted_videos","aux43","debug_mode","$canvas_","$canvasContext_","getContext","$videoElement_","currentTime","addEventListener","drawImage","xhr","canvasData","toDataURL","XMLHttpRequest","dzsvg_site_url","setRequestHeader","onreadystatechange","responseText","readyState","status","send","substr","alert","fadeIn","delay","fadeOut","$autoGenerateButton_","$item_tabContent","warn","$itemThumbnailField","videoThumbComputed","then","result","catch","$tabs_","querySelector","inter_debounce_search","search_for_setting_name","$t","searchedSettingName","toLowerCase","currentSettingLabel","currentSettingSidenote","show","isHasAnyDisplayOtherThanNone","check_which_tabs_have_settings_visible","api_handle_resize","handle_change_settings_search","currentTarget","api_set_fixed_mode","classList","add","clearTimeout","setInterval","tinyMCE","editors","$_el","_cach","dzsvg_add_media_buttons"],"mappings":"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","file":"admin/admin_global.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","exports.get_query_arg = function (purl, key) {\n  //console.log(purl, key)\n  //console.info(purl);\n  if (purl.indexOf(key + '=') > -1) {\n    //faconsole.log('testtt');\n    var regexS = \"[?&]\" + key + \"(.+?)(?=&|$)\";\n    var regex = new RegExp(regexS);\n    var regtest = regex.exec(purl);\n\n\n    //console.info(regex, regtest);\n    if (regtest != null) {\n      //var splitterS = regtest;\n\n\n      if (regtest[1]) {\n        var aux = regtest[1].replace(/=/g, '');\n        return aux;\n      } else {\n        return '';\n      }\n\n\n    }\n    //$('.zoombox').eq\n  }\n}\n\n\nexports.sanitize_to_youtube_id = function (arg) {\n\n  if (String(arg).indexOf('youtube.com/watch')) {\n\n    var dataSrc = arg;\n    var auxa = String(dataSrc).split('youtube.com/watch?v=');\n//                            console.info(auxa);\n\n    // console.info('auxa - ', auxa);\n    if (auxa[1]) {\n\n      dataSrc = auxa[1];\n      if (auxa[1].indexOf('&') > -1) {\n        var auxb = String(auxa[1]).split('&');\n        console.info('auxb - ', auxb);\n        dataSrc = auxb[0];\n      }\n\n\n      return dataSrc;\n    }\n  }\n\n  return arg;\n}\n\n\n/**\n * detect video type and source\n * @param dataSrc\n * @param forceType we might want to force the type if we know it\n * @returns {{source: *, playFrom: null, type: string}}\n */\nexports.detect_video_type_and_source = function (dataSrc, forceType = null, cthis = null) {\n\n  // console.log('dataSrc -> ', dataSrc, String(dataSrc).indexOf('youtube.com/watch?') > -1 || String(dataSrc).indexOf('youtube.com/embed') > -1 || String(dataSrc).indexOf('https://youtu.be/') > -1 || String(dataSrc).indexOf('https://youtu.be/') > -1);\n\n  var playFrom = null;\n  var type = 'selfHosted';\n  var source = dataSrc;\n  if (String(dataSrc).indexOf('youtube.com/watch?') > -1 || String(dataSrc).indexOf('youtube.com/embed') > -1 || String(dataSrc).indexOf('youtu.be/') > -1) {\n    type = 'youtube';\n\n    var aux = /http(?:s?):\\/\\/(?:www\\.)?youtu(?:be\\.com\\/watch\\?v=|\\.be\\/)([\\w\\-\\_]*)(&(amp;)?‌​[\\w\\?‌​=]*)?/g.exec(dataSrc);\n    // console.log('aux -7 ', aux);\n\n    if (get_query_arg(dataSrc, 't')) {\n      playFrom = get_query_arg(dataSrc, 't');\n    }\n    if (aux && aux[1]) {\n      source = aux[1];\n    } else {\n      // -- let us try youtube embed\n      source = dataSrc.replace(/http(?:s?):\\/\\/(?:www\\.)?youtu(?:be\\.com\\/watch\\?v=|\\.be\\/|be\\.com)\\/embed\\//g, '');\n    }\n  }\n\n  if (String(dataSrc).indexOf('vimeo.com/') > -1) {\n    type = 'vimeo';\n\n    var aux = /(?:www\\.|player\\.)?vimeo.com\\/(?:channels\\/(?:\\w+\\/)?|groups\\/(?:[^\\/]*)\\/videos\\/|album\\/(?:\\d+)\\/video\\/|video\\/|)(\\d+)(?:[a-zA-Z0-9_\\-]+)?/g.exec(dataSrc);\n\n\n    if (aux && aux[1]) {\n      source = aux[1];\n    }\n  }\n\n  if (String(dataSrc).indexOf('.mp4') > -1) {\n    type = 'selfHosted';\n\n  }\n  if (String(dataSrc).indexOf('.mpd') > String(dataSrc).length - 5) {\n    type = 'dash';\n\n  }\n  if (forceType && forceType != 'detect') {\n    type = forceType;\n  }\n\n  // console.log('playFrom -' , playFrom);\n  if (!playFrom) {\n    // console.log(cthis.attr('data-play_from'));\n    if (cthis && cthis.attr('data-play_from')) {\n      playFrom = cthis.attr('data-play_from');\n    }\n  }\n  return {\n    type,\n    source,\n    playFrom\n  };\n}","\"use strict\";\nconst dzsDep = require('./js_common/_dzs_dependency.js');\nconst miscFuncs = require('./jsinc/_misc');\nvar dzsHelpers = require('./js_common/_dzs_helpers');\nvar adminHelpers = require('./jsinc/_adminHelpers');\nvar mainoptions = require('./jsinc/_mainoptions');\nrequire('./jsinc/_check_block_editors.js');\njQuery(document).ready(function ($) {\n  //return;\n  // Create the media frame.\n\n\n  setTimeout(reskin_select, 10);\n  $(document).undelegate(\".select-wrapper select\", \"change\");\n  $(document).delegate(\".select-wrapper select\", \"change\", change_select);\n\n\n  $(document).on('click', '.quick-edit-adarray, .quick-edit-qualityarray', handle_mouse);\n  $(document).on('change', '.wpb-input[name=\"db\"]', handle_input);\n  $(document).on('submit', '.delete-all-settings', handle_input);\n\n  mainoptions.mainoptions_init();\n\n\n  dzsDep.dep_init();\n\n\n  function handle_mouse(e) {\n    var _t = $(this);\n\n\n    if (e.type === 'click') {\n      if (_t.hasClass('quick-edit-adarray')) {\n        // console.info(\"ceva\");\n        var url3 = dzsvg_settings.ad_builder_url;\n\n\n        window.ad_target_field = _t.prev();\n        if(_t.parent().parent().hasClass('zoomsounds-inspector-setting')){\n          window.ad_target_field = _t.parent().parent().find('input').eq(0);\n        }\n        if (window.ad_target_field.val()) {\n          url3 += '&adstart=' + encodeURIComponent(window.ad_target_field.val());\n        }\n\n        console.log('window.ad_target_field - ', window.ad_target_field);\n\n        window.open_ultibox(null, {\n          type: 'iframe'\n          , source: url3\n          , scaling: 'fill' // -- this is the under description\n          , suggested_width: '800' // -- this is the under description\n          , suggested_height: '700' // -- this is the under description\n          , item: null // -- we can pass the items from here too\n\n        });\n\n\n        return false;\n      }\n\n      if (_t.hasClass('quick-edit-qualityarray')) {\n        // console.info(\"ceva\");\n        var url3 = dzsvg_settings.quality_builder_url;\n\n\n        window.quality_target_field = _t.prev();\n        if (_t.prev().val()) {\n          url3 += '&qualitystart=' + encodeURIComponent(_t.prev().val());\n        }\n\n        window.open_ultibox(null, {\n\n\n          type: 'iframe'\n          , source: url3\n          , scaling: 'fill' // -- this is the under description\n          , suggested_width: '800' // -- this is the under description\n          , suggested_height: '700' // -- this is the under description\n          , item: null // -- we can pass the items from here too\n\n        });\n\n\n        return false;\n      }\n    }\n  }\n\n  function handle_input(e) {\n    var _t = $(this);\n\n\n    if (e.type === 'change') {\n      if (_t.hasClass('wpb-input')) {\n\n        // -- vico get db\n\n        var mainarray = _t.val();\n\n\n        if (window.dzsvg_settings && dzsvg_settings.playlists_mode !== 'normal') {\n\n          var data = {\n            action: 'dzsvg_get_db_gals',\n            postdata: mainarray\n          };\n          jQuery.post(ajaxurl, data, function (response) {\n            if (window.console !== undefined) {\n              console.log('Got this from the server: ' + response);\n            }\n            jQuery('#save-ajax-loading').css('opacity', '0');\n\n            var aux = '';\n            var auxa = response.split(';');\n            for (let i = 0; i < auxa.length; i++) {\n              aux += '<option>' + auxa[i] + '</option>'\n            }\n            jQuery('.wpb-input[name=id]').html(aux);\n            jQuery('.wpb-input[name=id]').trigger('change');\n            jQuery('.wpb-input[name=slider]').html(aux);\n            jQuery('.wpb-input[name=slider]').trigger('change');\n\n          });\n        }\n      }\n    }\n    if (e.type === 'submit') {\n      if (_t.hasClass('delete-all-settings')) {\n\n\n        var r = confirm(\"Are you sure you want to delete all video gallery data ? \");\n\n        if (r) {\n\n        } else {\n          return false;\n        }\n      }\n    }\n  }\n\n\n  $(document).off('click.dzswup', '.dzs-wordpress-uploader');\n  $(document).on('click.dzswup', '.dzs-wordpress-uploader', function (e) {\n    var _t = $(this);\n    var _targetInput = _t.prev();\n\n    var searched_type = '';\n\n    if (_targetInput.hasClass('upload-type-audio')) {\n      searched_type = 'audio';\n    }\n    if (_targetInput.hasClass('upload-type-video')) {\n      searched_type = 'video';\n    }\n    if (_targetInput.hasClass('upload-type-image')) {\n      searched_type = 'image';\n    }\n\n\n    var frame = wp.media.frames.dzsp_addimage = wp.media({\n      title: \"Insert Media\",\n      library: {\n        type: searched_type\n      },\n\n      // Customize the submit button.\n      button: {\n        // Set the text of the button.\n        text: \"Insert Media\",\n        close: true\n      }\n    });\n\n    // When an image is selected, run a callback.\n    frame.on('select', function () {\n      // Grab the selected attachment.\n      var attachment = frame.state().get('selection').first();\n\n      //console.log(attachment.attributes.url);\n      var arg = attachment.attributes.url;\n\n      // console.info(attachment);\n      if (_t.hasClass('insert-id')) {\n        arg = attachment.attributes.id;\n      }\n\n      _targetInput.val(arg);\n      _targetInput.trigger('change');\n      // _targetInput.trigger('keyup');\n\n      // console.info('_targetInput - ',_targetInput);\n//            frame.close();\n    });\n\n    // Finally, open the modal.\n    frame.open();\n\n    e.stopPropagation();\n    e.preventDefault();\n    return false;\n  });\n\n\n  // console.info('hmm - ',$('.dzsvg-wordpress-uploader'));\n\n  $(document).off('click', '.dzsvg-wordpress-uploader');\n  $(document).on('click', '.dzsvg-wordpress-uploader', function (e) {\n    var _t = $(this);\n    var _targetInput = _t.prev();\n    var _targetInputTitle = null;\n\n\n    var _con = _t.parent();\n\n\n    if (_con.find('.upload-target-prev').length) {\n      _targetInput = _con.find('.upload-target-prev').eq(0);\n    }\n    if (_con.find('.upload-target-title').length) {\n      _targetInputTitle = _con.find('.upload-target-title').eq(0);\n    }\n\n    var searched_type = '';\n\n    if (_targetInput.hasClass('upload-type-audio')) {\n      searched_type = 'audio';\n    }\n    if (_targetInput.hasClass('upload-type-image')) {\n      searched_type = 'image';\n    }\n    if (_targetInput.hasClass('upload-type-video')) {\n      searched_type = 'video';\n    }\n\n\n    if (typeof wp != 'undefined' && typeof wp.media != 'undefined') {\n      var uploader_frame = wp.media.frames.dzsvg_addplayer = wp.media({\n        // Set the title of the modal.\n        title: \"Insert Media Modal\",\n        multiple: true,\n        // Tell the modal to show only images.\n        library: {\n          type: searched_type\n        },\n\n        // Customize the submit button.\n        button: {\n          // Set the text of the button.\n          text: \"Insert Media\",\n          // Tell the button not to close the modal, since we're\n          // going to refresh the page when the image is selected.\n          close: false\n        }\n      });\n\n      // When an image is selected, run a callback.\n      uploader_frame.on('select', function () {\n        //console.info(uploader_frame.state().get('selection'), uploader_frame.state().get('selection').length, uploader_frame.state().get('selection')._source);\n        var attachment = uploader_frame.state().get('selection').first();\n\n        //console.log(attachment.attributes, $('*[name*=\"video-player-configs\"]'));\n\n\n        if (_targetInput.hasClass('upload-prop-id')) {\n          _targetInput.val(attachment.attributes.id);\n        } else {\n          _targetInput.val(attachment.attributes.url);\n\n        }\n\n\n        if (_targetInputTitle) {\n          _targetInputTitle.val(attachment.attributes.title);\n        }\n\n\n        _targetInput.trigger('change');\n        uploader_frame.close();\n      });\n\n      // Finally, open the modal.\n      uploader_frame.open();\n    }\n\n    return false;\n  });\n\n\n  $(document).off('click', '.dzs-btn-add-media-att');\n  $(document).on('click', '.dzs-btn-add-media-att', function () {\n    var _t = $(this);\n\n    var args = {\n      title: 'Add Item',\n      button: {\n        text: 'Select'\n      },\n      multiple: false\n    };\n\n    if (_t.attr('data-library_type')) {\n      args.library = {\n        'type': _t.attr('data-library_type')\n      }\n    }\n\n    console.info(_t);\n\n    var item_gallery_frame = wp.media.frames.downloadable_file = wp.media(args);\n\n    item_gallery_frame.on('select', function () {\n\n      var selection = item_gallery_frame.state().get('selection');\n      selection = selection.toJSON();\n\n      var ik = 0;\n      for (ik = 0; ik < selection.length; ik++) {\n\n        var _c = selection[ik];\n        //console.info(_c);\n        if (_c.id == undefined) {\n          continue;\n        }\n\n        if (_t.hasClass('button-setting-input-url')) {\n\n          _t.parent().parent().find('input').eq(0).val(_c.url);\n        } else {\n\n          _t.parent().parent().find('input').eq(0).val(_c.id);\n        }\n\n\n        _t.parent().parent().find('input').eq(0).trigger('change');\n\n      }\n    });\n\n\n    // Finally, open the modal.\n    item_gallery_frame.open();\n\n    return false;\n  });\n\n\n  function change_select() {\n    var selval = ($(this).find(':selected').text());\n    $(this).parent().children('span').text(selval);\n  }\n\n  function reskin_select() {\n    for (let i = 0; i < jQuery('select').length; i++) {\n      var _cache = jQuery('select').eq(i);\n      //console.log(_cache.parent().attr('class'));\n\n      if (_cache.hasClass('styleme') == false || _cache.parent().hasClass('select_wrapper') || _cache.parent().hasClass('dzs--select-wrapper')) {\n        continue;\n      }\n      var sel = (_cache.find(':selected'));\n      _cache.wrap('<div class=\"dzs--select-wrapper\"></div>')\n      _cache.parent().prepend('<span>' + sel.text() + '</span>')\n    }\n    jQuery(document).off(\"change.dzsselectwrap\");\n    jQuery(document).on(\"change.dzsselectwrap\", \".dzs--select-wrapper select\", change_select);\n\n\n    function change_select() {\n      var selval = (jQuery(this).find(':selected').text());\n      jQuery(this).parent().children('span').text(selval);\n    }\n\n  }\n\n\n  var aux = window.location.href;\n\n\n  if (aux.indexOf('plugins.php') > -1 || (aux.indexOf('index.php') > -1 && aux.indexOf('?') == -1)) {\n\n\n    setTimeout(function () {\n      jQuery.get(\"https://zoomthe.me/cronjobs/cache/dzsvg_get_version.static.html\", function (data) {\n\n//            console.info(data);\n        var newvrs = Number(data);\n        if (newvrs > Number(dzsvg_settings.version)) {\n\n          console.info('newvrs - ', newvrs, Number(dzsvg_settings.version));\n\n\n          if ($('#welcome-panel').length) {\n\n\n            var _c = $('#welcome-panel');\n\n\n            _c.before('<div id=\"welcome-panel\" class=\"dzsvg-update-available welcome-panel\">\\n' +\n              '<input type=\"hidden\" id=\"welcomepanelnonce\" name=\"welcomepanelnonce\" value=\"5855c9d8b6\">\\t\\t<a class=\"welcome-panel-close\" href=\"http://devsite/wpfactory/dzsvg/wp-admin/?welcome=0\" aria-label=\"Dismiss the welcome panel\">Dismiss</a>\\n' +\n              '\\t\\t\\t<div class=\"welcome-panel-content\"><a class=\"update-available\" href=\"admin.php?page=dzsvg-autoupdater\" aria-label=\"Update video gallery\">Update available</a> for <strong>Video Gallery WordPress</strong>\\n' +\n\n              '\\t</div>\\n' +\n              '\\t\\t</div>')\n\n\n          } else {\n            if ($('tr[data-slug=dzs-video-gallery]').length) {\n\n              var _c = $('tr[data-slug=dzs-video-gallery]').eq(0);\n\n              _c.find('.row-actions').after('<div class=\"row-actions visible\"><span class=\"deactivate\"><a class=\"update-available\" href=\"admin.php?page=dzsvg-autoupdater\" aria-label=\"Update video gallery\">Update available</a></span></div>');\n            } else {\n\n              if (jQuery('.version-number').length) {\n                jQuery('.version-number').append('<span class=\"new-version info-con\" style=\"width: auto;\"> <span class=\"new-version-text\">/ new version ' + data + '</span><div class=\"sidenote\">Download the new version by going to your CodeCanyon accound and accessing the Downloads tab.</div></div> </span>')\n\n                if ($('#the-list > #dzs-video-gallery').next().hasClass('plugin-update-tr') == false) {\n                  $('#the-list > #dzs-video-gallery').addClass('update');\n                  $('#the-list > #dzs-video-gallery').after('<tr class=\"plugin-update-tr\"><td colspan=\"3\" class=\"plugin-update colspanchange\"><div class=\"update-message\">There is a new version of DZS Video Gallery available. <form action=\"admin.php?page=dzsvg-autoupdater\" class=\"mainsettings\" method=\"post\"> &nbsp; <br> <button class=\"button-primary\" name=\"action\" value=\"dzsvg_update_request\">Update</button></form></td></tr>');\n                }\n              }\n            }\n\n          }\n\n        }\n      });\n    }, 300);\n  }\n\n  if (aux.indexOf('&dzsvg_purchase_remove_binded=on') > -1) {\n\n    aux = aux.replace('&dzsvg_purchase_remove_binded=on', '');\n    var stateObj = {foo: \"bar\"};\n    if (history) {\n\n      history.pushState(stateObj, null, aux);\n    }\n  }\n\n\n  $(document).on('click', '.refresh-main-thumb', function () {\n\n    adminHelpers.generateThumbnailForField(this);\n\n\n    return false;\n  })\n\n\n  miscFuncs.con_generate_buttons(ajaxurl);\n\n  miscFuncs.extra_skin_hiddenselect()\n});\n\n\n","function dep_init(){\n\n  jQuery(document).on('change.dzsdepe', '.dzs-dependency-field,*[name=\"0-settings-vpconfig\"], *[name=\"dzsvg_meta_item_type\"]', handle_change);\n\n\n  setTimeout(function () {\n//        console.info(jQuery(\".refresh-thumbnail-yt-vim\"))\n\n    // console.info('ia', jQuery('.dzs-dependency-field'));\n    jQuery('.dzs-dependency-field').trigger('change');\n  }, 1000);\n}\n\nfunction handle_change(e) {\n\n  //console.info(e);\n\n  var _t = jQuery(this);\n  if (_t.hasClass('dzs-dependency-field')) {\n    // console.info(\"ceva\");\n    check_dependency_settings();\n  }\n\n\n  if (_t.attr('name') == 'dzsvg_meta_item_type') {\n\n\n    var val = _t.val();\n\n\n    // console.info('val - ', val);\n\n    var _con = null;\n\n    if (_t.parent().parent().parent().hasClass('select-hidden-con')) {\n      _con = _t.parent().parent().parent();\n    }\n\n\n    if (_con) {\n      _con.removeClass('type_youtube type_vimeo type_video type_inline');\n      _con.addClass('type_' + val);\n    }\n\n\n  }\n  if (_t.attr('name') == '0-settings-vpconfig') {\n\n\n    var ind = 0;\n\n    _t.children().each(function () {\n      var _t2 = jQuery(this);\n\n      // console.info(_t2);\n      if (_t2.prop('selected')) {\n        ind = _t2.parent().children().index(_t2) - 1;\n        return false;\n      }\n    });\n\n    jQuery('#quick-edit').attr('href', add_query_arg(jQuery('#quick-edit').attr('href'), 'currslider', ind));\n    // jQuery('#quick-edit').attr('href', add_query_arg(jQuery('#quick-edit').attr('href'),'dbname',jQuery('*[name=dzsvg_selectdb]').val()));\n    // console.info(ind);\n\n  }\n\n}\n\n\nfunction check_dependency_settings() {\n  jQuery('*[data-dependency]').each(function () {\n    var _t = jQuery(this);\n\n\n    //console.info(_t, _t.attr('data-dependency'));\n\n\n    var margs = {\n      target_attribute: 'name'\n    }\n\n\n    var str_dependency = _t.attr('data-dependency');\n    str_dependency = str_dependency.replace(/{{quot}}/g, '\"');\n\n    str_dependency = str_dependency.replace(/^\"\"/g, '');\n    str_dependency = str_dependency.replace(/\"\"$/g, '');\n\n    // -- remove last and start \"\n    str_dependency = str_dependency.replace(/^\"/g, '');\n    str_dependency = str_dependency.replace(/\"$/g, '');\n\n    var dep_arr = [];\n\n\n    try {\n      dep_arr = JSON.parse(str_dependency);\n\n      var target_attribute = margs.target_attribute;\n\n      var target_con = jQuery(document);\n\n      //console.warn(dep_arr);\n\n      if (dep_arr[0]) {\n        var _c = null;\n\n\n        if (dep_arr[0].lab) {\n          _c = jQuery('*[name=\"' + dep_arr[0].lab + '\"]:not(.fake-input)').eq(0);\n        }\n        if (dep_arr[0].label) {\n          _c = jQuery('*[name=\"' + dep_arr[0].label + '\"]:not(.fake-input)').eq(0);\n        }\n        if (dep_arr[0].element) {\n          _c = jQuery('*[name=\"' + dep_arr[0].element + '\"]:not(.fake-input)').eq(0);\n        }\n\n\n        // console.info('_c - ',_c, dep_arr[0].label, dep_arr,str_dependency);\n\n\n        if (_c) {\n\n          var cval = _c.val();\n\n          // console.info(_c, dep_arr[0].val);\n\n          var sw_show = false;\n\n\n          if (dep_arr[0].val) {\n\n            for (var i3 in dep_arr[0].val) {\n              if (_c.val() == dep_arr[0].val[i3]) {\n                sw_show = true;\n                break;\n\n              }\n            }\n          }\n\n          if (dep_arr.relation) {\n\n\n            // console.error(dep_arr.relation);\n\n            for (var i in dep_arr) {\n              if (i == 'relation') {\n                continue;\n              }\n\n\n              if (dep_arr[i].value) {\n                if (dep_arr.relation == 'AND') {\n                  sw_show = false;\n                }\n\n\n                if (dep_arr[0].element) {\n                  _c = target_con.find('*[' + target_attribute + '=\"' + dep_arr[i].element + '\"]:not(.fake-input)').eq(0);\n                }\n\n\n                for (var i3 in dep_arr[i].value) {\n\n\n                  // console.info('_c.val() -  ',_c.val(), dep_arr[i].value[i3]);\n                  if (_c.val() == dep_arr[i].value[i3]) {\n\n\n                    if (_c.attr('type') == 'checkbox') {\n                      if (_c.val() == dep_arr[i].value[i3] && _c.prop('checked')) {\n\n                        sw_show = true;\n                      }\n                    } else {\n\n                      sw_show = true;\n                    }\n\n                    break;\n\n                  }\n\n\n                  if (dep_arr[i].value[i3] == 'anything_but_blank' && cval) {\n\n                    sw_show = true;\n                    break;\n                  }\n                }\n\n                if (dep_arr.relation == 'AND') {\n                  if (sw_show == false) {\n                    break;\n                  }\n                }\n                // console.info('sw_show - ',sw_show);\n              }\n\n            }\n\n          } else {\n\n            if (dep_arr[0].value) {\n\n              for (var i3 in dep_arr[0].value) {\n                if (_c.val() == dep_arr[0].value[i3]) {\n\n\n                  if (_c.attr('type') == 'checkbox') {\n                    if (_c.val() == dep_arr[0].value[i3] && _c.prop('checked')) {\n\n                      sw_show = true;\n                    }\n                  } else {\n\n                    sw_show = true;\n                  }\n\n                  break;\n\n                }\n\n\n                if (dep_arr[0].value[i3] == 'anything_but_blank' && cval) {\n\n                  sw_show = true;\n                  break;\n                }\n              }\n            }\n          }\n\n          if (sw_show) {\n            _t.css('display','');\n            _t.addClass('dzs-dependency-recently-revealed');\n            setTimeout(function(_arg){\n              _arg.removeClass('dzs-dependency-recently-revealed');\n            },500,_t);\n          } else {\n            _t.hide();\n          }\n        }\n\n\n      }\n    } catch (err) {\n      console.error('json dependency error - ', str_dependency);\n      console.error(err);\n    }\n  })\n}\n\n\n\n\nexports.dep_init = dep_init;","exports.extra_skin_hiddenselect = function () {\n  for (var i = 0; i < jQuery('.select-hidden-metastyle').length; i++) {\n    var _t = jQuery('.select-hidden-metastyle').eq(i);\n    if (_t.hasClass('inited')) {\n      continue;\n    }\n    //console.log(_t);\n    _t.addClass('inited');\n    _t.children('select').eq(0).bind('change', change_selecthidden);\n    change_selecthidden(null, _t.children('select').eq(0));\n    _t.find('.an-option').bind('click', click_anoption);\n  }\n\n  function change_selecthidden(e, arg) {\n    var _c = jQuery(this);\n    if (arg != undefined) {\n      _c = arg;\n    }\n    var _con = _c.parent();\n    var selind = _c.children().index(_c.children(':selected'));\n    var _slidercon = _con.parent().parent();\n    //console.log(selind);\n    _con.find('.an-option').removeClass('active');\n    _con.find('.an-option').eq(selind).addClass('active');\n    //console.log(_con);\n    do_changemainsliderclass(_slidercon, selind);\n  }\n\n  function click_anoption(e) {\n    var _c = jQuery(this);\n    var ind = _c.parent().children().index(_c);\n    var _con = _c.parent().parent();\n    var _slidercon = _con.parent().parent();\n    _c.parent().children().removeClass('active');\n    _c.addClass('active');\n    _con.children('select').eq(0).children().removeAttr('selected');\n    _con.children('select').eq(0).children().eq(ind).attr('selected', 'selected');\n    do_changemainsliderclass(_slidercon, ind);\n    //console.log(_c, ind, _con, _slidercon);\n  }\n\n  function do_changemainsliderclass(arg, argval) {\n    //extra function - handmade\n    //console.log(arg, argval, arg.find('.mainsetting').eq(0).children().eq(argval).val());\n\n    if (arg.hasClass('select-hidden-con')) {\n      arg.removeClass('mode_thumb');\n      arg.removeClass('mode_gallery');\n      arg.removeClass('mode_audio');\n      arg.removeClass('mode_video');\n      arg.removeClass('mode_youtube');\n      arg.removeClass('mode_vimeo');\n      arg.removeClass('mode_link');\n      arg.removeClass('mode_testimonial');\n      arg.removeClass('mode_link');\n      arg.removeClass('mode_twitter');\n\n      arg.addClass('mode_' + arg.find('.mainsetting').eq(0).children().eq(argval).val());\n\n    }\n    if (arg.hasClass('item-settings-con')) {\n      arg.removeClass('type_youtube');\n      arg.removeClass('type_normal');\n      arg.removeClass('type_vimeo');\n      arg.removeClass('type_audio');\n      arg.removeClass('type_image');\n      arg.removeClass('type_link');\n\n      if (argval == 0) {\n        arg.addClass('mode_youtube')\n      }\n      if (argval == 1) {\n        arg.addClass('mode_normal')\n      }\n      if (argval == 2) {\n        arg.addClass('mode_vimeo')\n      }\n      if (argval == 3) {\n        arg.addClass('mode_audio')\n      }\n      if (argval == 4) {\n        arg.addClass('mode_image')\n      }\n      if (argval == 5) {\n        arg.addClass('mode_link')\n      }\n    }\n  }\n\n}\n\n\n\nexports.con_generate_buttons = function (ajaxurl) {\n  var $ =jQuery;\n  $('#generate-upload-page').bind('click', function () {\n    var _t = $(this);\n\n    _t.css('opacity', 0.5);\n\n\n    var data = {\n      action: 'dzsvp_insert_upload_page'\n      , postdata: '1'\n    };\n    $.post(ajaxurl, data, function (response) {\n      if (window.console != undefined) {\n        console.log('Got this from the server: ' + response);\n      }\n\n      $('select[name=dzsvp_page_upload]').prepend('<optgroup label=\"Generated Pages\"><option value=\"' + response + '\">Upload</option></optgroup>')\n\n      $('select[name=dzsvp_page_upload]').find('option').eq(0).prop('selected', true);\n      $('select[name=dzsvp_page_upload]').trigger('change');\n\n      _t.parent().parent().remove();\n\n    });\n\n    return false;\n  })\n}","\nvar dzsHelpers = require('../js_common/_dzs_helpers');\nexports.generateThumbnailForVideo = function(videoSource, videoType, _con){\n\n  console.log('videoSource - ', videoSource, videoType);\n\n\n  var $ = jQuery;\n\n\n\n\n\n  return new Promise((resolve,reject)=>{\n\n\n    if (videoType == 'video') {\n\n\n      // -- try to generate image\n      if (window.dzsvg_settings && dzsvg_settings.admin_try_to_generate_thumb_for_self_hosted_videos == 'on') {\n\n\n        $('.dzs-single-upload-preview-img').addClass('generating-thumb');\n\n\n        var source = _con.find('*[name=dzsvg_meta_featured_media]').eq(0).val();\n\n\n        var aux43 = '<div class=\"screenshot-canvas-con';\n\n\n        if (window.dzsvg_settings && window.dzsvg_settings.debug_mode == 'on') {\n          aux43 += ' debug-mode';\n        }\n\n\n        aux43 += '\"><video crossOrigin=\"Anonymous\" class=\"temp-screenshot-video\" width=\"600\" height=\"400\" src=\"' + source + '\" style=\"opacity: 0;\"></video><canvas crossOrigin=\"Anonymous\" width=\"600\" height=\"400\" class=\"temp-screenshot-canvas\" style=\"opacity: 0;\"></canvas></div>';\n\n\n        _con.after(aux43);\n\n        // console.warn('_con - ', videoType);\n        // console.warn('aux43 - ', aux43);\n\n\n        var _c = _con.next();\n        var $canvas_ = _c.find('canvas').get(0);\n        var $canvasContext_ = $canvas_.getContext('2d');\n        var $videoElement_ = _c.find('video').get(0);\n\n        _c.find('video').get(0).currentTime = 5;\n\n        console.log('$videoElement_ - ', $videoElement_);\n\n        $videoElement_.addEventListener('error', (err)=>{\n          console.log(\"VIDEO ERROR \", err);\n\n          reject('');\n        })\n\n        setTimeout(function () {\n\n          $canvasContext_.drawImage($videoElement_, 0, 0);\n\n\n          var xhr = null;\n\n          var canvasData = $canvas_.toDataURL(\"image/png\");\n          var xmlHttpReq = false;\n          if (window.XMLHttpRequest) {\n            xhr = new XMLHttpRequest();\n          }\n\n          xhr.open('POST', dzsvg_settings.dzsvg_site_url + '/?dzsvg_action=savescreenshot&name=' + encodeURIComponent(source), true);\n          xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n          xhr.onreadystatechange = function () {\n            // console.log(ajax.responseText);\n            var response = xhr.responseText;\n\n            if (xhr.readyState == 4 && xhr.status == 200) {\n\n              // _con.find('*[name=dzsvg_meta_thumb]').val(response);\n              _con.find('*[name=dzsvg_meta_thumb]').trigger('change');\n              // _auxcon.find('.dzs-single-upload-preview-img').css('background-image', 'url('+response+')');\n              $('.dzs-single-upload-preview-img').removeClass('generating-thumb');\n\n              $('.screenshot-canvas-con:not(.debug-mode)').remove();\n\n              resolve(response);\n\n            }\n          }\n          console.log('canvasData - ', canvasData);\n          xhr.send(\"imgData=\" + canvasData);\n\n        }, 4500);\n\n\n      }\n\n    }\n    if (videoType == 'vimeo') {\n\n      var _thumbfield = _con.find('*[name=dzsvg_meta_thumb]').eq(0);\n\n      if (_thumbfield.val() == '') {\n        //_con.find('.main-thumb').eq(0).val('http://img.youtube.com/vi/'+_t.val()+'/0.jpg');\n\n\n        var data = {\n          action: 'dzsvg_vimeo_get_vimeothumb',\n          postdata: _con.find('*[name=dzsvg_meta_featured_media]').eq(0).val()\n        };\n\n        jQuery.post(ajaxurl, data, function (response) {\n          //console.log(response);\n          if (window.console != undefined) {\n            //console.log(response);\n          }\n          if (response.substr(0, 6) == 'error:') {\n            //console.log('ceva');\n\n            alert(response.substr(7));\n            jQuery('.import-error').fadeIn('fast').delay(5000).fadeOut('slow');\n            return false;\n          }\n          resolve(response);\n\n        });\n      }\n    }\n\n    if (videoType == 'youtube') {\n\n\n      resolve('https://img.youtube.com/vi/' + dzsHelpers.sanitize_to_youtube_id(videoSource) + '/0.jpg');\n    }\n  })\n\n\n}\n\n\nexports.generateThumbnailForField = function($autoGenerateButton_){\n\n  // -- refresh main thumbnail\n\n  var $ = jQuery;\n  var _t = $($autoGenerateButton_);\n  var $item_tabContent = null;\n  var adminHelpers = this;\n\n\n  console.info('_t - ', _t);\n  console.info('_t.parent().parent() - ', _t.parent().parent());\n  console.warn('refresh main-thumb _con - ', $item_tabContent);\n\n\n  if (_t.parent().parent().hasClass('select-hidden-con')) {\n    $item_tabContent = _t.parent().parent();\n  }\n  if (_t.parent().parent().parent().hasClass('select-hidden-con')) {\n    $item_tabContent = _t.parent().parent().parent();\n  }\n  if (_t.parent().parent().parent().hasClass('tab-content')) {\n    $item_tabContent = _t.parent().parent().parent();\n  }\n\n  console.info('_con - ', $item_tabContent);\n\n  if ($item_tabContent) {\n\n    const videoSource = $item_tabContent.find('*[name=\"dzsvg_meta_featured_media\"]').eq(0).val();\n    let videoType = $item_tabContent.find('select[name=\"dzsvg_meta_item_type\"]').eq(0).val();\n    var $itemThumbnailField = $item_tabContent.find('*[name=dzsvg_meta_thumb]').eq(0);\n\n\n    if (videoType == 'detect' || videoType == '') {\n      videoType = dzsHelpers.detect_video_type_and_source(videoSource).type;\n      console.log('detected video type - ', videoType);\n    }\n\n    if (videoType == 'detect' || videoType == '') {\n      videoType = 'video';\n    }\n    console.info('videoSource - ', videoSource, 'videoType - ', videoType);\n    const videoThumbComputed = adminHelpers.generateThumbnailForVideo(videoSource, videoType, $item_tabContent).then(result => {\n\n\n      console.log('result -  ', result, '... $item_tabContent - ', $item_tabContent);\n\n\n      // console.log('_thumbfield- ', _thumbfield);\n      $itemThumbnailField.val(result).trigger('change');\n\n\n      // console.warn('type - ', videoType, videoType == 'video', ' window.dzsvg_settings - ', window.dzsvg_settings);\n      // console.warn('_con - ', $item_tabContent);\n\n\n    }).catch(err => {\n      console.log(err);\n\n    });\n\n\n    console.log('videoThumbComputed - ', videoThumbComputed)\n\n\n  } else {\n    console.log('[dzsvg][admin][warning] _con is null - ', $item_tabContent, _t);\n  }\n}","exports.mainoptions_init = function () {\n\n  var $ = jQuery;\n  var $tabs_ = document.querySelector('#dzs-tabs--main-options');\n\n  var inter_debounce_search = 0;\n\n  function search_for_setting_name(arg) {\n    $('.setting').each(function (e) {\n\n      var $t = $(this);\n      var searchedSettingName = arg.toLowerCase();\n      var currentSettingLabel = $t.find('.setting-label').length ? String($t.find('.setting-label').eq(0).text()).toLowerCase() : '';\n      var currentSettingSidenote = $t.find('.sidenote').length ? String($t.find('.sidenote').eq(0).text()).toLowerCase() : '';\n\n      // console.log($t, currentSettingSidenote, currentSettingLabel);\n\n      if (searchedSettingName) {\n        if (currentSettingLabel.indexOf(searchedSettingName) > -1 || currentSettingSidenote.indexOf(searchedSettingName) > -1) {\n          $t.show();\n        } else {\n          $t.hide();\n        }\n      } else {\n        $t.show();\n      }\n    })\n\n    check_which_tabs_have_settings_visible(arg);\n    setTimeout(()=>{\n      $tabs_.api_handle_resize();\n    }, 300);\n  }\n\n  function check_which_tabs_have_settings_visible(arg) {\n\n    $('.tab-menu-con').each(function (e) {\n      var $t = $(this);\n      // console.log('setting NAME - ', $t.find('.the-label').eq(0).text());\n\n      var isHasAnyDisplayOtherThanNone = false;\n      $t.find('.setting').each(function (e) {\n\n        var $setting = $(this);\n        // console.log('$setting - ', $setting, $setting.css('display'));\n        if ($setting.css('display') !== 'none') {\n          isHasAnyDisplayOtherThanNone = true;\n        }\n      });\n\n      isHasAnyDisplayOtherThanNone  ? $t.css('display','') : $t.hide();\n\n      if (arg === '') {\n        $t.css('display','');\n      }\n    })\n  }\n\n  function handle_change_settings_search(e) {\n\n    var $t = $(e.currentTarget);\n    // console.log(e, e.currentTarget);\n\n    var val = $t.val();\n    // console.log($t, val);\n\n    if (val) {\n      // console.log($tabs_);\n      $tabs_.api_set_fixed_mode('toggle');\n      $tabs_.classList.add('dzstaa-all-tabs-content-visible');\n\n    } else {\n\n      $tabs_.api_set_fixed_mode('');\n      $tabs_.classList.remove('dzstaa-all-tabs-content-visible');\n    }\n    search_for_setting_name(val);\n  }\n\n  $(document).on('keyup change mouseup', '#dzs--settings-search', function(e){\n    clearTimeout(inter_debounce_search);\n    inter_debounce_search = setTimeout(handle_change_settings_search, 400, e);\n  })\n}","\n\n\nfunction docReady(){\n\n  // console.log('doc ready');\n\n\n// -- add shortcode buttons to gutenberg classic block\n  setInterval(function(){\n    // console.info(' tinymce - ',window.tinyMCE,window.tinyMCE.editors);\n\n    // console.log('doc ready 2 3');\n    if(window.tinyMCE){\n      for(var i in window.tinyMCE.editors){\n\n\n        var _el = window.tinyMCE.editors[i];\n        var $_el = _el.$();\n\n        // -- gutenberg ..\n\n        if($_el.hasClass('wp-block-freeform')){\n\n          var _cach = $_el.parent().parent().parent();\n          if(_cach.find('.wp-content-media-buttons').length===0){\n\n\n            _cach.find('.block-library-classic__toolbar .mce-last .mce-btn-group').children().eq(0).append('<div style=\"display: inline-block;\" class=\"wp-content-media-buttons\"></div>');\n\n          }\n          window.dzsvg_add_media_buttons();\n        }\n\n      }\n    }\n  },2000);\n// -- END add shortcode buttons to gutenberg classic block\n}\ndocument.addEventListener('DOMContentLoaded', docReady, false);\n"],"sourceRoot":""}