{"version":3,"file":"audioplayer.js","mappings":"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","sources":["webpack://dzsap--compile-files/../source/audioplayer/configs/_constants.js","webpack://dzsap--compile-files/../source/audioplayer/js_common/_dzs_helpers.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/_dzsap_helpers.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/player/_player_keyboard.js","webpack://dzsap--compile-files/webpack/bootstrap","webpack://dzsap--compile-files/webpack/runtime/define property getters","webpack://dzsap--compile-files/webpack/runtime/hasOwnProperty shorthand","webpack://dzsap--compile-files/../source/audioplayer/jsinc/player/_player_volume.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/player/_player_scrubModeWave.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/wave-render/_wave-render-functions.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/player/_player_scrubModeWave_spectrum.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/media/_media_functions.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/_dzsap_misc.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/_dzsap_svgs.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/player/_player_config.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/_dzsap_time_model.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/_dzsap_ajax.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/helper-classes/_ClassMetaParts.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/components/_comments.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/extra-functionality/_innerPlaylist.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/view/player/_view_playerStructure.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/components/_structure.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/extra-functionality/_extraHtmlFunctions.js","webpack://dzsap--compile-files/../source/audioplayer/configs/_settingsPlayer.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/player/features/_zoomsounds-radio-features.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/player/_player_commentsSelector.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/player/_player_nextPrevButtons.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/player/_player_feederFunctions.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/player/_player_viewSetup.js","webpack://dzsap--compile-files/../source/audioplayer/audioplayer.sourcepack.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/player/_player_scrubbar.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/view/player/_view_dimensionHelpers.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/media/_onePlayer_changeMedia.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/player/_player_setupMiscButtons.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/player/_player_touchFunctionality.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/player/_player_menuState.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/player/_player-one-time-setups.js"],"sourcesContent":["export const ConstantsDzsAp = {\n  PLAYLIST_TRANSITION_DURATION: 300,\n  'DEBUG_STYLE_1': 'background-color: #aaa022; color: #222222;',\n  'DEBUG_STYLE_2': 'background-color: #7c3b8e; color: #ffffff;',\n  'DEBUG_STYLE_3': 'background-color: #3a696b; color: #eeeeee;',\n  'DEBUG_STYLE_ERROR': 'background-color: #3a696b; color: #eeeeee;',\n  URL_WAVESURFER_HELPER_BACKUP: 'https://zoomthe.me/assets/dzsap-wave-generate.js',\n  WAVESURFER_MAX_TIMEOUT: 20000,\n  URL_JQUERY: 'https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js',\n  DEBUG_STYLE_PLAY_FUNCTIONS: 'background-color: #daffda; color: #222222;',\n  ERRORED_OUT_CLASS: 'errored-out',\n  ERRORED_OUT_MAX_ATTEMPTS: 5\n}\n\nexport const DZSAP_PLAYER_CLASS_FOOTER_PLAYER = 'dzsap_footer';\nexport const DZSAP_PLAYER_CLASS_LOADED = 'dzsap-loaded';\nexport const DZSAP_PLAYER_CLASS_FOR_STICK_TO_BOTTOM_SHOW = 'audioplayer-loaded';\nexport const DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM = 'dzsap-sticktobottom';\nexport const DZSAP_PLAYER_PLACEHOLDER_CLASS_STICK_TO_BOTTOM = 'dzsap-sticktobottom-placeholder';\nexport const DZSAP_PLAYER_TYPE_FOR_ACCEPTING_FEED = 'fake';\nexport const DZSAP_PLAYER_ATTR_PLAY_FROM_LAST_POS = 'last';\n\nexport const DZSAP_SCRIPT_SELECTOR_MAIN_SETTINGS = '#dzsap-main-settings';\nexport const DZSAP_SCRIPT_SELECTOR_KEYBOARD = '#dzsap-keyboard-controls';\nexport const DZSAP_VIEW_PLAYER_PLAYING_EASED_TIMEOUT = 500;\n","import {ConstantsDzsAp} from \"../configs/_constants\";\n\nexport const decode_json = function (arg) {\n  var fout = {};\n\n  if (arg) {\n\n    try {\n\n      fout = JSON.parse(arg);\n    } catch (err) {\n\n      return null;\n    }\n  }\n\n  return fout;\n}\nexport async function dzsap_jQueryInit(callback, reject) {\n\n  return new Promise((resolve, reject) => {\n\n    if (window.jQuery) {\n      resolve('jQuery loaded');\n    } else {\n      const script = document.createElement('script');\n      script.onload = function () {\n        if (window.jQuery) {\n          resolve('jQuery loaded');\n        } else {\n          reject('error loading');\n        }\n      };\n      script.src = ConstantsDzsAp.URL_JQUERY;\n\n      document.head.appendChild(script);\n    }\n\n    setTimeout(() => {\n      reject('error loading');\n    }, 15000);\n  })\n}\n/**\n *\n * @param {string} arg\n * @return {string}\n */\nexport function string_curateClassName(arg){\n\n  arg = arg.replace('feed-dzsap', '');\n  arg = arg.replace('feed-dzsap--extra-html', '');\n  return arg;\n}\n\n\nexport function simpleStringify (object){\n  if (object && typeof object === 'object') {\n    object = copyWithoutCircularReferences([object], object);\n  }\n  return JSON.stringify(object);\n\n  function copyWithoutCircularReferences(references, object) {\n    const cleanObject = {};\n    Object.keys(object).forEach(function(key) {\n      var value = object[key];\n      if (value && typeof value === 'object') {\n        if (references.indexOf(value) < 0) {\n          references.push(value);\n          cleanObject[key] = copyWithoutCircularReferences(references, value);\n          references.pop();\n        } else {\n          cleanObject[key] = '###_Circular_###';\n        }\n      } else if (typeof value !== 'function') {\n        cleanObject[key] = value;\n      }\n    });\n    return cleanObject;\n  }\n}\n\nexport const loadScriptIfItDoesNotExist = (scriptSrc, checkForVar) => {\n  return new Promise((resolve, reject) => {\n    if (checkForVar) {\n      resolve('loadfromvar');\n      return;\n    }\n\n    var script = document.createElement('script');\n    script.onload = function () {\n      resolve('loadfromload');\n    };\n    script.onerror = function () {\n      reject();\n    };\n    script.src = scriptSrc;\n\n    document.head.appendChild(script);\n  })\n}\n\n\nexport const getBaseUrl = (baseUrlVar, scriptName) => {\n  if (window[baseUrlVar]) {\n    return window[baseUrlVar];\n  }\n\n  let scripts = document.getElementsByTagName(\"script\");\n  for (var scriptKey in scripts) {\n    if (scripts[scriptKey] && scripts[scriptKey].src && String(scripts[scriptKey].src).indexOf(scriptName) > -1) {\n      break;\n    }\n  }\n  var baseUrl_arr = String(scripts[scriptKey].src).split('/');\n  baseUrl_arr.splice(-1, 1);\n  const result = string_addTrailingSlash(baseUrl_arr.join('/'));\n  window[baseUrlVar] = result+'/';\n  return result;\n}\n\nfunction string_addTrailingSlash(url){\n  var lastChar = url.substr(-1); // Selects the last character\n  if (lastChar != '/') {         // If the last character is not a slash\n    url = url + '/';            // Append a slash to it.\n  }\n  return url;\n}\nexport const sanitizeToCssPx = (arg) => {\n\n  if (String(arg).indexOf('%') > -1 || String(arg).indexOf('em') > -1 || String(arg).indexOf('px') > -1 || String(arg).indexOf('auto') > -1) {\n    return arg;\n  }\n  return arg + 'px';\n}\n\n\nexport const setupTooltip = (args) => {\n\n  var mainArgs = Object.assign({\n    tooltipInnerHTML: '',\n    tooltipIndicatorText: '',\n    tooltipConClass: '',\n  }, args)\n\n  return `<div class=\"dzstooltip-con ${mainArgs.tooltipConClass}\"><span class=\"dzstooltip main-tooltip   talign-end arrow-bottom style-rounded color-dark-light  dims-set transition-slidedown \" style=\"width: 280px;\"><span class=\"dzstooltip--inner\">${mainArgs.tooltipInnerHTML}</span> </span></span><span class=\"tooltip-indicator\">${mainArgs.tooltipIndicatorText}</span></div>`;\n}\n\n\nexport const isInt = function (n) {\n  return typeof n == 'number' && Math.round(n) % 1 == 0;\n}\n\nexport const isValid = function (n) {\n  return typeof n != 'undefined' && n != '';\n}\n\n\nexport function getRelativeX (mouseX, $el_) {\n  if (jQuery) {\n    return mouseX - jQuery($el_).offset().left;\n  }\n}\n","import {isValid, string_curateClassName} from \"../js_common/_dzs_helpers\";\nimport {svg_share_icon} from \"./_dzsap_svgs\";\nimport {dzsap_keyboardSetup} from \"./player/_player_keyboard\";\nimport {DZSAP_PLAYER_CLASS_FOOTER_PLAYER, DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM} from \"../configs/_constants\";\n\n\nexport function formatTime(arg) {\n\n  var s = Math.round(arg);\n  var m = 0;\n  var h = 0;\n  if (s > 0) {\n    while (s > 3599 && s < 3000000 && isFinite(s)) {\n      h++;\n      s -= 3600;\n    }\n    while (s > 59 && s < 3000000 && isFinite(s)) {\n      m++;\n      s -= 60;\n    }\n    if (h) {\n\n      return String((h < 10 ? \"0\" : \"\") + h + \":\" + String((m < 10 ? \"0\" : \"\") + m + \":\" + (s < 10 ? \"0\" : \"\") + s));\n    }\n    return String((m < 10 ? \"0\" : \"\") + m + \":\" + (s < 10 ? \"0\" : \"\") + s);\n  } else {\n    return \"00:00\";\n  }\n}\n\nexport function can_history_api() {\n  return !!(window.history && history.pushState);\n}\n\nexport function dzs_clean_string(arg) {\n\n  if (arg) {\n\n    arg = arg.replace(/[^A-Za-z0-9\\-]/g, '');\n\n    arg = arg.replace(/\\./g, '');\n    return arg;\n  }\n\n  return '';\n\n\n}\n\n\nexport function get_query_arg(purl, key) {\n  if (purl) {\n\n    if (String(purl).indexOf(key + '=') > -1) {\n\n      var regexS = \"[?&]\" + key + \"=.+\";\n      var regex = new RegExp(regexS);\n      var regtest = regex.exec(purl);\n\n\n      if (regtest != null) {\n        var splitterS = regtest[0];\n        if (splitterS.indexOf('&') > -1) {\n          var aux = splitterS.split('&');\n          splitterS = aux[1];\n        }\n\n        var splitter = splitterS.split('=');\n\n\n        return splitter[1];\n\n      }\n\n    }\n\n  } else {\n  }\n}\n\nexport function add_query_arg(purl, key, value) {\n\n  key = encodeURIComponent(key);\n  value = encodeURIComponent(value);\n\n  if (!(purl)) {\n    purl = '';\n  }\n  var s = purl;\n  var pair = key + \"=\" + value;\n\n  var r = new RegExp(\"(&|\\\\?)\" + key + \"=[^\\&]*\");\n\n  s = s.replace(r, \"$1\" + pair);\n\n  if (s.indexOf(key + '=') > -1) {\n\n\n  } else {\n    if (s.indexOf('?') > -1) {\n      s += '&' + pair;\n    } else {\n      s += '?' + pair;\n    }\n  }\n\n\n  if (value === 'NaN') {\n    var regex_attr = new RegExp('[\\?|\\&]' + key + '=' + value);\n    s = s.replace(regex_attr, '');\n\n\n    if (s.indexOf('?') === -1 && s.indexOf('&') > -1) {\n      s = s.replace('&', '?');\n    }\n  }\n\n  return s;\n}\n\n\nexport function dzsap_is_mobile() {\n\n\n  return is_ios() || is_android();\n}\n\nexport function is_ios() {\n\n  return ((navigator.platform.indexOf(\"iPhone\") !== -1) || (navigator.platform.indexOf(\"iPod\") !== -1) || (navigator.platform.indexOf(\"iPad\") !== -1));\n}\n\n\nexport function can_canvas() {\n\n  var oCanvas = document.createElement(\"canvas\");\n  return !!oCanvas.getContext(\"2d\");\n\n}\n\nexport function is_safari() {\n  return Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0;\n}\n\n\nexport function is_android() {\n  var ua = navigator.userAgent.toLowerCase();\n\n  return (ua.indexOf(\"android\") > -1);\n}\n\nexport function select_all(el) {\n  if (typeof window.getSelection !== \"undefined\" && typeof document.createRange !== \"undefined\") {\n    var range = document.createRange();\n    range.selectNodeContents(el);\n    var sel = window.getSelection();\n    sel.removeAllRanges();\n    sel.addRange(range);\n  } else if (typeof document.selection !== \"undefined\" && typeof document.body.createTextRange !== \"undefined\") {\n    var textRange = document.body.createTextRange();\n    textRange.moveToElementText(el);\n    textRange.select();\n  }\n}\n\nexport function is_android_good() {\n\n\n}\n\nexport function htmlEncode(arg) {\n  return jQuery('<div/>').text(arg).html();\n}\n\nexport function dzsap_generate_keyboard_tooltip(keyboard_controls, lab) {\n\n\n  var structureDzsTooltipCommentAfterSubmit = '<span class=\"dzstooltip color-dark-light talign-start transition-slidein arrow-bottom style-default\" style=\"width: auto;  white-space:nowrap;\"><span class=\"dzstooltip--inner\">' + 'Shortcut' + ': ' + keyboard_controls[lab] + '</span></span>';\n\n  structureDzsTooltipCommentAfterSubmit = structureDzsTooltipCommentAfterSubmit.replace('32', 'space');\n  structureDzsTooltipCommentAfterSubmit = structureDzsTooltipCommentAfterSubmit.replace('27', 'escape');\n\n  return structureDzsTooltipCommentAfterSubmit;\n\n\n}\n\n\n/**\n *\n * @param hex\n * @param {number|null} targetAlpha 0-1\n * @returns {string}\n */\nexport function hexToRgb(hex, targetAlpha = null) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var str = '';\n  if (result) {\n    result = {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16)\n    };\n\n\n    var alpha = 1;\n\n    if (targetAlpha !== null) {\n      alpha = targetAlpha;\n    }\n\n\n    str = 'rgba(' + result.r + ',' + result.g + ',' + result.b + ',' + alpha + ')';\n  }\n\n\n  return str;\n\n\n}\n\nexport function assignHelperFunctionsToJquery($) {\n\n\n  Math.easeIn = function (t, b, c, d) {\n    return -c * (t /= d) * (t - 2) + b;\n  };\n\n\n  /**\n   *\n   * @param {string} argfind\n   * @param {string} arg\n   * @returns {string}\n   */\n  const checkIfHasClass = (argfind, arg) => {\n\n    if (!argfind) {\n      var regex = new RegExp('class=\"(.*?)\"');\n      var auxarr = regex.exec(arg);\n\n\n      if (auxarr && auxarr[1]) {\n        argfind = '.' + auxarr[1];\n      }\n    }\n\n    return argfind;\n  }\n  $.fn.prependOnce = function (arg, argfind) {\n    var _t = $(this)\n\n\n    argfind = checkIfHasClass(argfind, arg);\n\n\n    if (_t.children(argfind).length < 1) {\n      _t.prepend(arg);\n      return true;\n    }\n    return false;\n  };\n  $.fn.appendOnce = function (arg, argfind) {\n    var _t = $(this)\n\n    argfind = checkIfHasClass(argfind, arg);\n\n    if (_t.children(argfind).length < 1) {\n      _t.append(arg);\n      return true;\n    }\n    return false;\n  };\n};\n\n\nexport function registerTextWidth($) {\n\n  $.fn.textWidth = function () {\n    var _t = jQuery(this);\n    var html_org = _t.html();\n    if (_t[0].nodeName === 'INPUT') {\n      html_org = _t.val();\n    }\n    var html_calcS = '<span class=\"forcalc\">' + html_org + '</span>';\n    jQuery('body').append(html_calcS);\n    var _lastspan = jQuery('span.forcalc').last();\n\n    _lastspan.css({\n      'font-size': _t.css('font-size'),\n      'font-family': _t.css('font-family')\n    })\n    var width = _lastspan.width();\n\n    _lastspan.remove();\n    return width;\n  };\n}\n\nexport function player_checkIfWeShouldShowAComment(selfClass, real_time_curr, real_time_total) {\n\n  var $ = jQuery;\n  var timer_curr_perc = Math.round((real_time_curr / real_time_total) * 100) / 100;\n  if (selfClass.audioType === 'fake') {\n    timer_curr_perc = Math.round((selfClass.timeCurrent / selfClass.timeTotal) * 100) / 100;\n  }\n  if (selfClass._commentsHolder) {\n    selfClass._commentsHolder.children().each(function () {\n      var _t = $(this);\n      if (_t.hasClass('dzstooltip-con')) {\n        var _t_posx = _t.offset().left - selfClass._commentsHolder.offset().left;\n\n\n        var aux = Math.round((parseFloat(_t_posx) / selfClass._commentsHolder.outerWidth()) * 100) / 100;\n\n\n        if (aux) {\n\n          if (Math.abs(aux - timer_curr_perc) < 0.02) {\n            selfClass._commentsHolder.find('.dzstooltip').removeClass('active');\n            _t.find('.dzstooltip').addClass('active');\n          } else {\n            _t.find('.dzstooltip').removeClass('active');\n          }\n        }\n      }\n    })\n  }\n}\n\n\nexport function sanitizeObjectForChangeMediaArgs(_sourceForChange) {\n\n  var changeMediaArgs = {};\n  var _feed_fakePlayer = _sourceForChange;\n\n  var lab = '';\n\n  if (_sourceForChange.data('original-settings')) {\n    return _sourceForChange.data('original-settings');\n  }\n\n\n  changeMediaArgs.source = null;\n  if (_feed_fakePlayer.attr('data-source')) {\n    changeMediaArgs.source = _feed_fakePlayer.attr('data-source')\n  } else {\n\n    if (_feed_fakePlayer.attr('href')) {\n      changeMediaArgs.source = _feed_fakePlayer.attr('href');\n    }\n  }\n\n  if (_feed_fakePlayer.attr('data-pcm')) {\n    changeMediaArgs.pcm = _feed_fakePlayer.attr('data-pcm');\n  }\n\n\n  lab = 'thumb';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n\n  lab = 'playerid';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n  lab = 'type';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n\n\n  if (_feed_fakePlayer.attr('data-thumb_link')) {\n    changeMediaArgs.thumb_link = _sourceForChange.attr('data-thumb_link');\n  }\n\n\n  if (_sourceForChange.find('.meta-artist').length > 0 || _sourceForChange.find('.meta-artist-con').length > 0) {\n\n    changeMediaArgs.artist = _sourceForChange.find('.the-artist').eq(0).html();\n    changeMediaArgs.song_name = _sourceForChange.find('.the-name').eq(0).html();\n  }\n\n\n  if (_sourceForChange.attr('data-thumb_for_parent')) {\n    changeMediaArgs.thumb = _sourceForChange.attr('data-thumb_for_parent');\n  }\n\n\n  if (_sourceForChange.find('.feed-song-name').length > 0 || _sourceForChange.find('.feed-artist-name').length > 0) {\n    changeMediaArgs.artist = _sourceForChange.find('.feed-artist-name').eq(0).html();\n    changeMediaArgs.song_name = _sourceForChange.find('.feed-song-name').eq(0).html();\n  }\n\n\n  return changeMediaArgs;\n}\n\n\nexport function utils_sanitizeToColor(colorString) {\n  if (colorString.indexOf('#') === -1 && colorString.indexOf('rgb') === -1 && colorString.indexOf('hsl') === -1) {\n    return '#' + colorString;\n  }\n  return colorString;\n}\n\nexport function dzsapInitjQueryRegisters() {\n}\n\nexport function player_radio_isNameUpdatable(selfClass, radio_update_song_name, targetKey) {\n\n  if (selfClass._metaArtistCon.find(targetKey).length && selfClass._metaArtistCon.find(targetKey).eq(0).text().length > 0) {\n\n    if (selfClass._metaArtistCon.find(targetKey).eq(0).html().indexOf('{{update}}') > -1) {\n      return true;\n    }\n  }\n\n\n  return false;\n}\n\nexport function playerRegisterWindowFunctions() {\n\n\n  window['dzsap_functions'] = {};\n  window['dzsap_functions']['send_total_time'] = function (argtime, argcthis) {\n\n\n    if (argtime && argtime !== Infinity) {\n      const data = {\n        action: 'dzsap_send_total_time_for_track',\n        id_track: argcthis.attr('data-playerid'),\n        postdata: Math.ceil(argtime)\n      };\n      jQuery.post(window.dzsap_ajaxurl, data, function (response) {\n      });\n    }\n\n  }\n\n\n  window.dzs_open_social_link = function (arg, argthis) {\n    var leftPosition, topPosition;\n    var w = 500, h = 500;\n\n    leftPosition = (window.screen.width / 2) - ((w / 2) + 10);\n\n    topPosition = (window.screen.height / 2) - ((h / 2) + 50);\n    var windowFeatures = \"status=no,height=\" + h + \",width=\" + w + \",resizable=yes,left=\" + leftPosition + \",top=\" + topPosition + \",screenX=\" + leftPosition + \",screenY=\" + topPosition + \",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no\";\n\n\n    arg = arg.replace('{{replacewithcurrurl}}', encodeURIComponent(window.location.href));\n\n    if (argthis && argthis.attr) {\n      arg = arg.replace(/{{replacewithdataurl}}/g, argthis.attr('data-url'));\n    }\n\n    const locationHref = window.location.href;\n\n\n    const auxa = locationHref.split('?');\n\n    let cid = '';\n    let cid_gallery = '';\n\n\n    if (argthis) {\n\n    } else {\n      if (window.dzsap_currplayer_from_share) {\n\n        argthis = window.dzsap_currplayer_from_share;\n      }\n    }\n\n\n    if (argthis) {\n\n      const $ = jQuery;\n\n      if ($(argthis).hasClass('audioplayer')) {\n        cid = $(argthis).parent().children().index(argthis);\n        cid_gallery = $(argthis).parent().parent().parent().attr('id');\n      } else {\n        if (jQuery(argthis).parent().parent().attr('data-menu-index')) {\n\n          cid = jQuery(argthis).parent().parent().attr('data-menu-index');\n        }\n        if (jQuery(argthis).parent().parent().attr('data-gallery-id')) {\n\n          cid_gallery = jQuery(argthis).parent().parent().attr('data-gallery-id');\n        }\n      }\n\n    }\n\n\n    var shareurl = encodeURIComponent(auxa[0] + '?fromsharer=on&audiogallery_startitem_' + cid_gallery + '=' + cid + '');\n    arg = arg.replace('{{shareurl}}', shareurl);\n\n\n    window.open(arg, \"sharer\", windowFeatures);\n  }\n\n\n  window.dzsap_wp_send_contor_60_secs = function (argcthis, argtitle) {\n\n    var data = {\n      video_title: argtitle\n\n      , video_analytics_id: argcthis.attr('data-playerid')\n      , curr_user: window.dzsap_curr_user\n    };\n    var theajaxurl = 'index.php?action=ajax_dzsap_submit_contor_60_secs';\n\n    if (window.dzsap_settings.dzsap_site_url) {\n\n      theajaxurl = dzsap_settings.dzsap_site_url + theajaxurl;\n    }\n\n\n    jQuery.ajax({\n      type: \"POST\",\n      url: theajaxurl,\n      data: data,\n      success: function (response) {\n\n\n      },\n      error: function (arg) {\n\n      }\n    });\n  }\n\n\n  window.dzsap_init_multisharer = function () {\n\n\n  }\n\n\n}\n\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n */\nexport function assignPcmData(selfClass) {\n\n  selfClass.pcmSource = string_jsonConvertToArray(selfClass.cthis.attr('data-pcm'));\n  if (selfClass.initOptions.skinwave_enableSpectrum === 'on') {\n    var pcmSourceLen = selfClass.pcmSource.length;\n    var desiredSize = 256;\n\n    for (var i = 0; i < pcmSourceLen; i++) {\n      if (i > desiredSize) {\n        continue;\n      }\n      selfClass.pcmSource[i] = selfClass.pcmSource[i * pcmSourceLen / desiredSize] * desiredSize;\n    }\n    selfClass.pcmSource.splice(desiredSize, pcmSourceLen - desiredSize); // removes 3rd element of array\n  }\n}\n\nexport function string_jsonConvertToArray(ar_str) {\n  let waves = [];\n  if (typeof (ar_str) == 'object') {\n    waves = ar_str;\n  } else {\n    try {\n      waves = JSON.parse(ar_str);\n    } catch (err) {\n\n    }\n  }\n\n  return waves;\n}\n\n/**\n * should be called only once on init\n */\nexport function dzsap_singleton_ready_calls() {\n\n  window.dzsap_singleton_ready_calls_is_called = true;\n\n\n  let $feed_dzsapMainSettings = null;\n  const $feed_dzsapMainSettingsAll = document.querySelectorAll('.dzsap-main-settings');\n  if ($feed_dzsapMainSettingsAll.length) {\n    $feed_dzsapMainSettings = $feed_dzsapMainSettingsAll[$feed_dzsapMainSettingsAll.length - 1];\n  }\n  if ($feed_dzsapMainSettings) {\n    window.dzsap_settings = JSON.parse($feed_dzsapMainSettings.innerHTML);\n    window.ajaxurl = window.dzsap_settings.ajax_url;\n    window.dzsap_curr_user = window.dzsap_settings.dzsap_curr_user;\n  }\n\n  jQuery('body').append('<style class=\"dzsap--style\"></style>');\n\n\n  window.dzsap__style = jQuery('.dzsap--style');\n\n\n  jQuery('audio.zoomsounds-from-audio').each(function () {\n    var _t = jQuery(this);\n    _t.after('<div class=\"audioplayer-tobe auto-init skin-silver\" data-source=\"' + _t.attr('src') + '\"></div>');\n    _t.remove();\n  })\n\n  jQuery(document).on('focus.dzsap', 'input', function () {\n    window.dzsap_currplayer_focused = null;\n  })\n\n  registerTextWidth(jQuery);\n\n  dzsap_keyboardSetup();\n}\n\nexport function jQueryAuxBindings($) {\n\n\n  function handleClick_onGlobalZoomSoundsButton(e) {\n    var $t = $(this);\n\n\n    e.preventDefault();\n    e.stopPropagation();\n    e.stopImmediatePropagation();\n\n    if ($t.hasClass('audioplayer-song-changer')) {\n      var _c = $($t.attr('data-fakeplayer')).eq(0);\n\n\n      if (_c && _c.get(0) && _c.get(0).api_change_media) {\n        _c.get(0).api_change_media($t, {\n          'feeder_type': 'button'\n          , 'call_from': 'changed audioplayer-song-changer'\n        });\n      }\n\n      return false;\n    }\n\n    if ($t.hasClass('dzsap-wishlist-but')) {\n\n\n      var data = {\n        action: 'dzsap_add_to_wishlist',\n        playerid: $t.attr('data-post_id'),\n        wishlist_action: 'add',\n      };\n\n\n      if ($t.find('.svg-icon').hasClass('fa-star')) {\n        data.wishlist_action = 'remove';\n      }\n\n\n      if (window.dzsap_lasto.settings_php_handler) {\n        $.ajax({\n          type: \"POST\",\n          url: window.dzsap_lasto.settings_php_handler,\n          data: data,\n          success: function (response) {\n\n\n            if ($t.find('.svg-icon').hasClass('fa-star-o')) {\n              $t.find('.svg-icon').eq(0).attr('class', 'svg-icon fa fa-star');\n            } else {\n\n              $t.find('.svg-icon').eq(0).attr('class', 'svg-icon fa fa-star-o');\n            }\n\n          },\n          error: function (arg) {\n\n          }\n        });\n      }\n\n      return false;\n\n\n    }\n\n  }\n\n\n  $(document).off('click.dzsap_metas')\n  $(document).on('click.dzsap_metas', '.audioplayer-song-changer, .dzsap-wishlist-but', handleClick_onGlobalZoomSoundsButton)\n\n\n}\n\n\n/**\n * for .zoomsounds-wrapper-bg-center\n * @param selfClass\n */\nexport function view_player_playMiscEffects(selfClass) {\n\n  selfClass.$conPlayPause.addClass('playing');\n\n  if (selfClass.cthis.parent().hasClass('zoomsounds-wrapper-bg-center')) {\n    selfClass.cthis.parent().addClass('is-playing');\n  }\n}\n\n\nexport function view_player_globalDetermineSyncPlayersIndex(selfClass) {\n\n  if (selfClass._sourcePlayer === null && window.dzsap_syncList_players) {\n    window.dzsap_syncList_players.forEach(($syncPlayer, index) => {\n      if (selfClass.cthis.attr('data-playerid') == $syncPlayer.attr('data-playerid')) {\n        window.dzsap_syncList_index = index;\n      }\n    })\n  }\n}\n\n\nexport function player_view_addMetaLoaded(selfClass) {\n\n  selfClass.cthis.addClass('meta-loaded');\n  selfClass.cthis.removeClass('meta-fake');\n  if (selfClass._sourcePlayer) {\n    selfClass._sourcePlayer.addClass('meta-loaded');\n    selfClass._sourcePlayer.removeClass('meta-fake');\n  }\n  if (selfClass.$totalTime) {\n\n    selfClass.timeModel.refreshTimes();\n    selfClass.$totalTime.html(formatTime(selfClass.timeModel.getVisualTotalTime()));\n  }\n  if (selfClass._sourcePlayer) {\n    selfClass._sourcePlayer.addClass('meta-loaded');\n  }\n}\n\n\n\nfunction htmlEntities(str) {\n  return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n}\n\nexport function waitForScriptToBeAvailableThenExecute(verifyVar, callbackFn) {\n\n  new Promise((resolve, reject) => {\n\n    var checkInterval = 0;\n\n    function checkIfVarExists() {\n      if (verifyVar) {\n        clearInterval(checkInterval);\n        resolve('var exists');\n      }\n    }\n\n    checkIfVarExists()\n    checkInterval = setInterval(checkIfVarExists, 300);\n    setTimeout(() => {\n      reject('timeout');\n    }, 5000);\n\n  }).then((resolve => {\n    callbackFn(resolve);\n  })).catch((err) => {\n  })\n}\n\n\n\n\nexport function player_reinit_findIfPcmNeedsGenerating(selfClass) {\n  const o = selfClass.initOptions;\n\n  if (selfClass.cthis.attr('data-pcm')) {\n    selfClass.hasInitialPcmData = true;\n  }\n\n  if (!selfClass.hasInitialPcmData && o.skinwave_wave_mode === 'canvas' && (o.design_skin === 'skin-wave' || selfClass.cthis.attr('data-fakeplayer'))) {\n    selfClass.isPcmRequiredToGenerate = true;\n  }\n\n\n  if (o.scrubbar_type === 'wave') {\n    if (o.is_inited_from_playlist) {\n\n      selfClass.cthis.addClass('scrubbar-type-wave--has-reveal-animation');\n    }\n    if (o.scrubbar_type_wave__has_reveal_animation === 'on') {\n\n      selfClass.cthis.addClass('scrubbar-type-wave--has-reveal-animation');\n    }\n    if (selfClass.isPcmRequiredToGenerate) {\n      selfClass.cthis.addClass('scrubbar-type-wave--has-reveal-animation');\n    }\n  }\n}\n\n\nexport function playerFunctions(selfClass, functionType) {\n  var o = selfClass.initOptions;\n\n  if (functionType === 'detectIds') {\n\n\n    if (o.skinwave_comments_playerid === '') {\n      if (typeof (selfClass.cthis.attr('id')) !== 'undefined') {\n        selfClass.the_player_id = selfClass.cthis.attr('id');\n      }\n    }\n\n\n    if (selfClass.the_player_id == '') {\n\n      if (selfClass.cthis.attr('data-computed-playerid')) {\n        selfClass.the_player_id = selfClass.cthis.attr('data-computed-playerid');\n      }\n      if (selfClass.cthis.attr('data-real-playerid')) {\n        selfClass.the_player_id = selfClass.cthis.attr('data-real-playerid');\n      }\n    }\n    selfClass.uniqueId = selfClass.the_player_id;\n\n    if (typeof selfClass.uniqueId === 'string') {\n      selfClass.uniqueId = selfClass.uniqueId.replace('ap', '');\n    }\n    selfClass.identifier_pcm = selfClass.uniqueId;\n\n\n    if (selfClass.uniqueId === '') {\n      o.skinwave_comments_enable = 'off';\n    }\n\n  }\n}\n\nexport function player_delete(selfClass) {\n\n  var _con = null;\n  if (selfClass.cthis.parent().parent().hasClass('dzsap-sticktobottom')) {\n    _con = selfClass.cthis.parent().parent();\n  }\n  if (_con) {\n    if (_con.prev().hasClass(\"dzsap-sticktobottom-placeholder\")) {\n      _con.prev().remove();\n    }\n    _con.remove();\n  }\n  selfClass.cthis.remove();\n  return false;\n}\n\n\n\nexport function sanitizeToHexColor(hexcolor) {\n  if (hexcolor.indexOf('#') === -1) {\n    hexcolor = '#' + hexcolor;\n  }\n  return hexcolor;\n}\n\nexport function player_identifySource(selfClass) {\n\n  selfClass.data_source = selfClass.cthis.attr('data-source') || '';\n}\n\nexport function player_identifyTypes(selfClass) {\n\n\n  var o = selfClass.initOptions;\n  const cthis = selfClass.cthis;\n  if (cthis.attr('data-type') === 'youtube') {\n    o.type = 'youtube';\n    selfClass.audioType = 'youtube';\n  }\n  if (cthis.attr('data-type') === 'soundcloud') {\n    o.type = 'soundcloud';\n    selfClass.audioType = 'soundcloud';\n\n    o.skinwave_enableSpectrum = 'off';\n    cthis.removeClass('skin-wave-is-spectrum');\n  }\n  if (cthis.attr('data-type') === 'mediafile') {\n    o.type = 'audio';\n    selfClass.audioType = 'audio';\n  }\n\n  if (cthis.attr('data-type') === 'shoutcast') {\n    o.type = 'shoutcast';\n    selfClass.audioType = 'audio';\n    o.disable_timer = 'on';\n    o.skinwave_enableSpectrum = 'off';\n\n    if (!cthis.attr('data-streamtype')) {\n\n      selfClass.audioTypeSelfHosted_streamType = 'shoutcast';\n    }\n\n\n    if (o.design_skin === 'skin-default') {\n      o.disable_scrub = 'on';\n    }\n\n  }\n\n\n  if (selfClass.audioType === 'audio' || selfClass.audioType === 'normal' || selfClass.audioType === '') {\n    selfClass.audioType = 'selfHosted';\n  }\n\n\n  if (String(selfClass.data_source).indexOf('https://soundcloud.com/') > -1) {\n    selfClass.audioType = 'soundcloud';\n  }\n}\n\n\n\nexport function player_getPlayFromTime(selfClass) {\n\n  selfClass.playFrom = selfClass.initOptions.playfrom;\n\n  if (isValid(selfClass.cthis.attr('data-playfrom'))) {\n    selfClass.playFrom = selfClass.cthis.attr('data-playfrom');\n  }\n\n  if (isNaN(parseInt(selfClass.playFrom, 10)) === false) {\n    selfClass.playFrom = parseInt(selfClass.playFrom, 10);\n  }\n\n\n  if (selfClass.playFrom === 'off' || selfClass.playFrom === '') {\n    if (get_query_arg(window.location.href, 'audio_time')) {\n      selfClass.playFrom = sanitizeToIntFromPointTime(get_query_arg(window.location.href, 'audio_time'));\n    }\n  }\n\n  if (selfClass.timeModel.sampleTimeStart) {\n    if (selfClass.playFrom < selfClass.timeModel.sampleTimeStart) {\n      selfClass.playFrom = selfClass.timeModel.sampleTimeStart;\n    }\n    if (typeof selfClass.playFrom === 'string') {\n      selfClass.playFrom = selfClass.timeModel.sampleTimeStart;\n    }\n  }\n}\n\n\nexport function sanitizeToIntFromPointTime(arg) {\n\n\n  arg = String(arg).replace('%3A', ':');\n  arg = String(arg).replace('#', '');\n\n  if (arg && String(arg).indexOf(':') > -1) {\n\n    var arr = /(\\d.*):(\\d.*)/g.exec(arg);\n\n\n    var m = parseInt(arr[1], 10);\n    var s = parseInt(arr[2], 10);\n\n\n    return (m * 60) + s;\n  } else {\n    return Number(arg);\n  }\n}\n\n\n/**\n * called in player init()\n * @param {DzsAudioPlayer} selfClass\n */\nexport function player_determineStickToBottomContainer(selfClass) {\n\n  let $conTest = selfClass.cthis.parent();\n\n\n\n  if ($conTest.hasClass(DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM)) {\n    selfClass.$stickToBottomContainer = $conTest;\n    selfClass.isStickyPlayer = true;\n\n  }\n  $conTest = selfClass.cthis.parent().parent();\n  if ($conTest.hasClass(DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM)) {\n    selfClass.$stickToBottomContainer = $conTest;\n    selfClass.isStickyPlayer = true;\n  }\n}\n\n\n/**\n *\n * todo: maybe move\n * @param {DzsAudioPlayer} selfClass\n */\nexport function player_stickToBottomContainerDetermineClasses(selfClass) {\n\n  if (selfClass.$stickToBottomContainer) {\n    if (selfClass.cthis.hasClass('theme-dark')) {\n      selfClass.$stickToBottomContainer.addClass('theme-dark');\n    }\n\n    setTimeout(function () {\n\n      selfClass.$stickToBottomContainer.addClass('inited');\n    }, 500)\n\n\n  }\n\n}\n\nexport function player_service_getSourceProtection(selfClass) {\n\n  return new Promise((resolve, reject) => {\n\n    jQuery.ajax({\n      type: \"POST\",\n      url: selfClass.data_source,\n      data: {},\n      success: function (response) {\n        resolve(response);\n      },\n      error: function (err) {\n        reject(err);\n      }\n    });\n  })\n}\n\nexport function player_isGoingToSetupMediaNow(selfClass) {\n  return selfClass.audioTypeSelfHosted_streamType !== 'icecast' && selfClass.audioType !== 'youtube';\n}\n\n\nexport function player_stopOtherPlayers(dzsap_list, selfClass) {\n\n  let i = 0;\n  for (i = 0; i < dzsap_list.length; i++) {\n\n    if (dzsap_list[i].get(0) && dzsap_list[i].get(0).api_pause_media && (dzsap_list[i].get(0) != selfClass.cthis.get(0))) {\n\n\n      if (dzsap_list[i].data('type_audio_stop_buffer_on_unfocus') && dzsap_list[i].data('type_audio_stop_buffer_on_unfocus') === 'on') {\n        dzsap_list[i].get(0).api_destroy_for_rebuffer();\n      } else {\n        dzsap_list[i].get(0).api_pause_media({\n          'audioapi_setlasttime': false\n        });\n      }\n    }\n  }\n}\n\n\nexport function player_syncPlayers_gotoItem(selfClass, targetIncrement) {\n  if (window.dzsap_settings.syncPlayers_autoplayEnabled) {\n\n    for (let keySyncPlayer in window.dzsap_syncList_players) {\n      let $playerInSyncList = selfClass.cthis;\n\n      if (selfClass._sourcePlayer) {\n        $playerInSyncList = selfClass._sourcePlayer;\n      }\n\n\n      if (window.dzsap_syncList_players[keySyncPlayer].get(0) === $playerInSyncList.get(0)) {\n\n        keySyncPlayer = parseInt(keySyncPlayer, 10);\n        let targetIndex = window.dzsap_syncList_index + targetIncrement;\n        if (targetIndex >= 0 && targetIndex < window.dzsap_syncList_players.length) {\n          const $currentSyncPlayer_ = window.dzsap_syncList_players[targetIndex].get(0);\n\n\n          if ($currentSyncPlayer_ && $currentSyncPlayer_.api_play_media) {\n            setTimeout(function () {\n              $currentSyncPlayer_.api_play_media({\n                'called_from': 'api_sync_players_prev'\n              });\n            }, 200);\n\n          }\n        }\n      }\n    }\n  }\n\n}\n\nexport function player_syncPlayers_buildList() {\n\n  if (!window.syncPlayers_isDzsapListBuilt) {\n\n    window.dzsap_syncList_players = [];\n\n    window.syncPlayers_isDzsapListBuilt = true;\n\n    jQuery('.audioplayer.is-single-player,.audioplayer-tobe.is-single-player').each(function () {\n      var _t23 = jQuery(this);\n\n\n      if (_t23.hasClass(DZSAP_PLAYER_CLASS_FOOTER_PLAYER)) {\n        return;\n      }\n\n\n      if (_t23.attr('data-do-not-include-in-list') !== 'on') {\n        window.dzsap_syncList_players.push(_t23);\n      }\n    })\n\n\n    clearTimeout(window.syncPlayers_buildTimeout);\n\n    window.syncPlayers_buildTimeout = setTimeout(function () {\n      window.syncPlayers_isDzsapListBuilt = false;\n    }, 500);\n\n  }\n}\n\n\n\nexport function convertPluginOptionsToFinalOptions(elThis, defaultOptions, argOptions = null, searchedAttr = 'data-options', $es) {\n\n  var finalOptions = null;\n  var tempOptions = {};\n  var isSetFromJson = false;\n\n  if ($es === undefined) {\n    $es = jQuery;\n  }\n\n\n  var $elThis = $es(elThis);\n\n  const isArgOptionsDefinedViaJs = Boolean(argOptions && typeof argOptions === 'object' && Object.keys(argOptions).length);\n\n\n  if (isArgOptionsDefinedViaJs) {\n    tempOptions = argOptions;\n  } else {\n    if ($elThis.attr(searchedAttr)) {\n      try {\n        tempOptions = JSON.parse($elThis.attr(searchedAttr));\n        isSetFromJson = true;\n      } catch (err) {\n\n      }\n    }\n    if (!isSetFromJson) {\n      if (typeof $elThis.attr(searchedAttr) != 'undefined' && $elThis.attr('data-options') != '') {\n        let aux = $elThis.attr(searchedAttr);\n        aux = 'var aux_opts = ' + aux;\n        eval(aux);\n        tempOptions = Object.assign({}, argOptions);\n      }\n    }\n  }\n  finalOptions = Object.assign(defaultOptions, tempOptions);\n\n  return finalOptions;\n}\n\nexport function generateFakeArrayForPcm() {\n\n\n  var maxlen = 256;\n\n  var arr = [];\n\n  for (let it1 = 0; it1 < maxlen; it1++) {\n    arr[it1] = Math.random() * 100;\n\n  }\n\n  return arr;\n}\n","import {DZSAP_SCRIPT_SELECTOR_KEYBOARD} from \"../../configs/_constants\";\n\nexport const dzsap_generate_keyboard_controls = function () {\n  let keyboard_controls = {\n    'play_trigger_step_back': 'off'\n    , 'step_back_amount': '5'\n    , 'step_back': '37'\n    , 'step_forward': '39'\n    , 'sync_players_goto_next': ''\n    , 'sync_players_goto_prev': ''\n    , 'pause_play': '32'\n    , 'show_tooltips': 'off'\n  }\n\n\n  const $keyboardControlsInfo = jQuery(DZSAP_SCRIPT_SELECTOR_KEYBOARD);\n  if ($keyboardControlsInfo.length) {\n    window.dzsap_keyboard_controls = JSON.parse($keyboardControlsInfo.html());\n  }\n\n  if (window.dzsap_keyboard_controls) {\n    keyboard_controls = jQuery.extend(keyboard_controls, window.dzsap_keyboard_controls);\n  }\n\n  keyboard_controls.step_back_amount = Number(keyboard_controls.step_back_amount);\n\n\n  return keyboard_controls;\n};\n\n\nexport function handle_keypresses(e) {\n\n  if (window.dzsap_isTextFieldFocused) {\n    return;\n  }\n\n\n  function isKeyPressed(checkKeyCode) {\n    let isKeyPressed = false;\n    if (checkKeyCode.indexOf('ctrl+') > -1) {\n      if (e.ctrlKey) {\n        checkKeyCode = checkKeyCode.replace('ctrl+', '');\n        if (e.keyCode === Number(checkKeyCode)) {\n          isKeyPressed = true;\n        }\n      }\n    } else {\n      if (e.keyCode === Number(checkKeyCode)) {\n        isKeyPressed = true;\n      }\n    }\n    return isKeyPressed;\n  }\n\n  var $ = jQuery;\n\n  const keyboard_controls = $.extend({}, dzsap_generate_keyboard_controls());\n\n\n  if (dzsap_currplayer_focused && dzsap_currplayer_focused.api_pause_media) {\n\n    if (isKeyPressed(keyboard_controls.pause_play)) {\n      if (!$(dzsap_currplayer_focused).hasClass('comments-writer-active')) {\n        if ($(dzsap_currplayer_focused).hasClass('is-playing')) {\n          dzsap_currplayer_focused.api_pause_media();\n        } else {\n          dzsap_currplayer_focused.api_play_media();\n        }\n\n        if (window.dzsap_mouseover) {\n          e.preventDefault();\n          return false;\n        }\n      }\n    }\n\n    if (isKeyPressed(keyboard_controls.step_back)) {\n      dzsap_currplayer_focused.api_step_back(keyboard_controls.step_back_amount);\n    }\n\n    if (isKeyPressed(keyboard_controls.step_forward)) {\n      dzsap_currplayer_focused.api_step_forward(keyboard_controls.step_back_amount);\n    }\n\n    if (isKeyPressed(keyboard_controls.sync_players_goto_next)) {\n      dzsap_currplayer_focused.api_sync_players_goto_next();\n    }\n\n\n    if (isKeyPressed(keyboard_controls.sync_players_goto_prev)) {\n      dzsap_currplayer_focused.api_sync_players_goto_prev();\n    }\n\n\n  }\n}\n\n\n/**\n * called in singleton\n */\nexport const dzsap_keyboardSetup = () => {\n\n  let $ = jQuery;\n\n  window.dzsap_isTextFieldFocused = false;\n\n  $(document).off('keydown.dzsapkeyup');\n  $(document).on('keydown.dzsapkeyup', handle_keypresses);\n\n\n  $(document).on('focus blur', 'textarea,input', function (e) {\n\n    if (e.type == 'focusin' || e.type == 'focus') {\n\n      window.dzsap_isTextFieldFocused = true;\n    }\n    if (e.type == 'focusout' || e.type == 'blur') {\n\n      window.dzsap_isTextFieldFocused = false;\n    }\n  });\n\n\n  $(document).on('keydown blur', '.zoomsounds-search-field', function (e) {\n    const _t = $(e.currentTarget);\n\n    setTimeout(function () {\n\n      if (_t) {\n        let $audioGallery = $('.audiogallery').eq(0);\n        if (_t.attr('data-target')) {\n          $audioGallery = $(_t.attr('data-target'));\n        }\n        if ($audioGallery.get(0) && $audioGallery.get(0).api_filter) {\n          $audioGallery.get(0).api_filter('title', _t.val());\n        }\n      }\n    }, 100);\n\n  });\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export function player_volumeSetup(selfClass, volume_lastVolume, $, o) {\n\n  let last_vol_before_mute = 1;\n  var isMuted = false;\n  let volume_dragging = false;\n\n\n  const cthis = selfClass.cthis;\n\n\n  selfClass.$controlsVolume.on('click', '.volumeicon', volume_handleClickMuteIcon);\n\n  selfClass.$controlsVolume.on('mousemove', volume_handleMouse);\n  selfClass.$controlsVolume.on('mousedown', volume_handleMouse);\n\n\n  $(document).on('mouseup', window, volume_handleMouse);\n\n  if (o.design_skin === 'skin-silver') {\n    cthis.on('click', '.volume-holder', volume_handleMouse);\n  }\n\n\n  function volume_handleClickMuteIcon(e) {\n\n    if (isMuted === false) {\n      last_vol_before_mute = volume_lastVolume;\n      volume_setVolume(selfClass, 0, {\n        call_from: \"from_mute\"\n      });\n      isMuted = true;\n    } else {\n      volume_setVolume(selfClass, last_vol_before_mute, {\n        call_from: \"from_unmute\"\n      });\n      isMuted = false;\n    }\n  }\n\n\n\n\n  function volume_handleMouse(e) {\n    var _t = $(this);\n    /**\n     * from 0 to 1\n     * @type number\n     */\n    let mouseXRelativeToVolume = null;\n\n    if (selfClass.$controlsVolume.find('.volume_static').length) {\n\n      mouseXRelativeToVolume = Number((e.pageX - (selfClass.$controlsVolume.find('.volume_static').eq(0).offset().left)) / (selfClass.$controlsVolume.find('.volume_static').eq(0).width()));\n    }\n\n    if (!mouseXRelativeToVolume) {\n      return false;\n    }\n    if (e.type === 'mousemove') {\n      if (volume_dragging) {\n\n        if (_t.parent().hasClass('volume-holder') || _t.hasClass('volume-holder')) {\n        }\n\n        if (o.design_skin === 'skin-redlights') {\n          mouseXRelativeToVolume *= 10;\n          mouseXRelativeToVolume = Math.round(mouseXRelativeToVolume);\n          mouseXRelativeToVolume /= 10;\n        }\n\n\n        volume_setVolume(selfClass, mouseXRelativeToVolume, {\n          call_from: \"set_by_mousemove\"\n        });\n        isMuted = false;\n      }\n\n    }\n    if (e.type === 'mouseleave') {\n\n    }\n    if (e.type === 'click') {\n\n      if (_t.parent().hasClass('volume-holder')) {\n\n\n        mouseXRelativeToVolume = 1 - ((e.pageY - (selfClass.$controlsVolume.find('.volume_static').eq(0).offset().top)) / (selfClass.$controlsVolume.find('.volume_static').eq(0).height()));\n\n      }\n      if (_t.hasClass('volume-holder')) {\n        mouseXRelativeToVolume = 1 - ((e.pageY - (selfClass.$controlsVolume.find('.volume_static').eq(0).offset().top)) / (selfClass.$controlsVolume.find('.volume_static').eq(0).height()));\n\n\n      }\n\n      volume_setVolume(selfClass, mouseXRelativeToVolume, {\n        call_from: \"set_by_mouseclick\"\n      });\n      isMuted = false;\n    }\n\n    if (e.type === 'mousedown') {\n\n      volume_dragging = true;\n      cthis.addClass('volume-dragging');\n\n\n      if (_t.parent().hasClass('volume-holder')) {\n\n\n        mouseXRelativeToVolume = 1 - ((e.pageY - (selfClass.$controlsVolume.find('.volume_static').eq(0).offset().top)) / (selfClass.$controlsVolume.find('.volume_static').eq(0).height()));\n\n      }\n\n      volume_setVolume(selfClass, mouseXRelativeToVolume, {\n        call_from: \"set_by_mousedown\"\n      });\n      isMuted = false;\n    }\n    if (e.type === 'mouseup') {\n\n      volume_dragging = false;\n      cthis.removeClass('volume-dragging');\n\n    }\n\n  }\n\n}\n\n\n\n\nexport function volume_setOnlyVisual(selfClass, arg, margs) {\n  const o = selfClass.initOptions;\n\n  if (selfClass.$controlsVolume.hasClass('controls-volume-vertical')) {\n    selfClass.$controlsVolume.find('.volume_active').eq(0).css({\n      'height': (selfClass.$controlsVolume.find('.volume_static').eq(0).height() * arg)\n    });\n  } else {\n\n    if (selfClass.initOptions.design_skin === 'skin-redlights') {\n\n      selfClass.$controlsVolume.find('.volume_active').eq(0).css({\n        'clip-path': 'inset(0% ' + (Math.abs(1 - arg) * 100) + '% 0% 0%)'\n      });\n    } else {\n\n      selfClass.$controlsVolume.find('.volume_active').eq(0).css({\n        'width': (selfClass.$controlsVolume.find('.volume_static').eq(0).width() * arg)\n      });\n    }\n  }\n\n\n  if (o.design_skin === 'skin-wave' && o.skinwave_dynamicwaves === 'on') {\n    selfClass._scrubbar.find('.scrub-bg-img').eq(0).css({\n      'transform': 'scaleY(' + arg + ')'\n    })\n    selfClass._scrubbar.find('.scrub-prog-img').eq(0).css({\n      'transform': 'scaleY(' + arg + ')'\n    })\n\n  }\n\n\n  if (localStorage !== null && selfClass.the_player_id) {\n\n    localStorage.setItem('dzsap_last_volume_' + selfClass.the_player_id, arg);\n\n  }\n\n  selfClass.volume_lastVolume = arg;\n}\n\n\n\n\n/**\n * outputs a volume from 0 to 1\n * @param {DzsAudioPlayer} selfClass\n * @param {number} arg 0 <-> 1\n * @param pargs\n * @returns {boolean}\n */\nexport function volume_setVolume(selfClass, arg, pargs) {\n\n  var margs = {\n\n    'call_from': 'default'\n  };\n\n  if (pargs) {\n    margs = Object.assign(margs, pargs);\n  }\n\n  if (arg > 1) {\n    arg = 1;\n  }\n  if (arg < 0) {\n    arg = 0;\n  }\n\n  var o = selfClass.initOptions;\n  const $ = selfClass.$;\n  let volume_isSetByUser = false;\n\n\n  if (margs.call_from === 'from_fake_player_feeder_from_init_loaded') {\n    // -- lets prevent call from the init_loaded set_volume if the volume has been changed\n    if (selfClass._sourcePlayer) {\n      if (o.default_volume !== 'default') {\n        volume_isSetByUser = true;\n      }\n      if (volume_isSetByUser) {\n        return false;\n      } else {\n        volume_isSetByUser = true;\n      }\n    }\n  }\n\n  if (margs.call_from === 'set_by_mouseclick' || margs.call_from === 'set_by_mousemove') {\n    volume_isSetByUser = true;\n  }\n\n  if (selfClass.audioType === 'youtube') {\n    if (selfClass.$mediaNode_ && selfClass.$mediaNode_.setVolume) {\n      selfClass.$mediaNode_.setVolume(arg * 100);\n    }\n  }\n  if (selfClass.audioType === 'selfHosted') {\n    if (selfClass.$mediaNode_) {\n\n      selfClass.$mediaNode_.volume = arg;\n    } else {\n      if (selfClass.$mediaNode_) {\n        $(selfClass.$mediaNode_).attr('preload', 'metadata');\n      }\n    }\n  }\n\n\n  volume_setOnlyVisual(selfClass, arg, margs);\n\n  if (selfClass._sourcePlayer) {\n    margs.call_from = ('from_fake_player')\n    if (selfClass._sourcePlayer.get(0) && selfClass._sourcePlayer.get(0).api_visual_set_volume(arg, margs)) {\n      selfClass._sourcePlayer.get(0).api_visual_set_volume(arg, margs);\n    }\n  }\n\n  if (selfClass._actualPlayer) {\n    if (margs.call_from !== ('from_fake_player')) {\n      if (margs.call_from === 'from_init_loaded') {\n\n        margs.call_from = ('from_fake_player_feeder_from_init_loaded')\n      } else {\n\n        margs.call_from = ('from_fake_player_feeder')\n      }\n      if (selfClass._actualPlayer && selfClass._actualPlayer.get(0) && selfClass._actualPlayer.get(0).api_set_volume) {\n        selfClass._actualPlayer.get(0).api_set_volume(arg, margs);\n      }\n    }\n  }\n\n}\n\n\nexport function getDefaultVolume(o, selfClass){\n\n  let defaultVolume = 1;\n  if (o.default_volume === 'default') {\n    defaultVolume = 1;\n  }\n\n  if (isNaN(Number(o.default_volume)) === false) {\n    defaultVolume = Number(o.default_volume);\n  } else {\n    if (o.default_volume === 'last') {\n      if (localStorage !== null && selfClass.the_player_id) {\n        if (localStorage.getItem('dzsap_last_volume_' + selfClass.the_player_id)) {\n          defaultVolume = localStorage.getItem('dzsap_last_volume_' + selfClass.the_player_id);\n        } else {\n          defaultVolume = 1;\n        }\n      } else {\n        defaultVolume = 1;\n      }\n    }\n  }\n\n  if (o.volume_from_gallery) {\n    defaultVolume = o.volume_from_gallery;\n  }\n\n  return defaultVolume;\n}\n","\n\nexport function scrubbar_modeWave_clearObsoleteCanvas(selfClass) {\n  if (selfClass._scrubbar) {\n    selfClass._scrubbar.find('.scrubbar-type-wave--canvas.transitioning-out').remove();\n  }\n}\n\n\nexport function scrubbar_modeWave_setupCanvas_context(_canvas) {\n  if(_canvas.get(0)){\n\n    const _canvasContext = _canvas.get(0).getContext(\"2d\");\n\n    _canvasContext.imageSmoothingEnabled = false;\n    _canvasContext.imageSmoothing = false;\n    _canvasContext.imageSmoothingQuality = \"high\";\n    _canvasContext.webkitImageSmoothing = false;\n  }\n}\n\nexport function scrubbar_modeWave_setupCanvas(pargs, selfClass) {\n\n  var margs = {\n    prepare_for_transition_in: false\n  }\n\n  if (pargs) {\n    margs = Object.assign(margs, pargs);\n  }\n\n\n  var struct_scrubBg_str = '';\n  var struct_scrubProg_str = '';\n  var aux_selector = '';\n  var o = selfClass.initOptions;\n\n\n  struct_scrubBg_str = '<canvas class=\"scrubbar-type-wave--canvas scrub-bg-img';\n  struct_scrubBg_str += '\" ></canvas>';\n\n  struct_scrubProg_str = '<canvas class=\"scrubbar-type-wave--canvas scrub-prog-img';\n  struct_scrubProg_str += '\" ></canvas>';\n\n\n  selfClass._scrubbar.find('.scrub-bg').eq(0).append(struct_scrubBg_str);\n  selfClass._scrubbar.find('.scrub-prog').eq(0).append(struct_scrubProg_str);\n\n\n  selfClass._scrubbarbg_canvas = selfClass._scrubbar.find('.scrub-bg-img').last();\n  selfClass._scrubbarprog_canvas = selfClass._scrubbar.find('.scrub-prog-img').last();\n\n  if (o.skinwave_enableSpectrum === 'on') {\n    selfClass._scrubbarprog_canvas.hide();\n  }\n\n\n  scrubbar_modeWave_setupCanvas_context(selfClass._scrubbarbg_canvas);\n  scrubbar_modeWave_setupCanvas_context(selfClass._scrubbarprog_canvas);\n\n\n  if (margs.prepare_for_transition_in) {\n    selfClass._scrubbarbg_canvas.addClass('preparing-transitioning-in');\n    selfClass._scrubbarprog_canvas.addClass('preparing-transitioning-in');\n    setTimeout(function () {\n      selfClass._scrubbarbg_canvas.addClass('transitioning-in');\n      selfClass._scrubbarprog_canvas.addClass('transitioning-in');\n    }, 20);\n  }\n}\n\n\nexport function view_player_scrubModeWaveAdjustCurrTimeAndTotalTime(selfClass){\n\n  const cthis = selfClass.cthis;\n\n  if (selfClass.scrubbarProgX < 0) {\n    selfClass.scrubbarProgX = 0;\n  }\n  selfClass.scrubbarProgX = parseInt(selfClass.scrubbarProgX, 10);\n\n\n  if (selfClass.scrubbarProgX < 2 && cthis.data('promise-to-play-footer-player-from')) {\n    return false;\n  }\n\n  // -- move currTime\n  selfClass.$currTime.css({\n    'left': selfClass.scrubbarProgX\n  });\n\n  if (selfClass.scrubbarProgX > selfClass.scrubbarWidth - selfClass.currTime_outerWidth) {\n    selfClass.$currTime.css({\n      'left': selfClass.scrubbarWidth - selfClass.currTime_outerWidth\n    })\n  }\n  if (selfClass.scrubbarProgX > selfClass.scrubbarWidth - 30 && selfClass.scrubbarWidth) {\n    selfClass.$totalTime.css({\n      'opacity': 1 - (((selfClass.scrubbarProgX - (selfClass.scrubbarWidth - 30)) / 30))\n    });\n  } else {\n    if (selfClass.$totalTime.css('opacity') !== '1') {\n      selfClass.$totalTime.css({\n        'opacity': ''\n      });\n    }\n  }\n}\n","import {hexToRgb, sanitizeToHexColor, string_jsonConvertToArray, utils_sanitizeToColor} from '../_dzsap_helpers';\n\nimport {ConstantsDzsAp} from \"../../configs/_constants\";\nimport {loadScriptIfItDoesNotExist} from \"../../js_common/_dzs_helpers\";\nimport {scrubbar_modeWave_clearObsoleteCanvas, scrubbar_modeWave_setupCanvas} from \"../player/_player_scrubModeWave\";\n\nwindow.dzsap_wavesurfer_load_attempt = 0;\nwindow.dzsap_wavesurfer_is_trying_to_generate = null;\n\n\nvar dzsapWaveRender = this;\n\n/**\n * called on init_loaded\n * @param selfClass\n * @param pargs\n * @returns {boolean}\n */\nexport function scrubModeWave__checkIfWeShouldTryToGetPcm(selfClass, pargs) {\n\n\n  var margs = {\n    'call_from': 'default'\n    , 'call_attempt': 0\n  };\n  if (pargs) {\n    margs = jQuery.extend(margs, pargs);\n  }\n\n\n  // -- retry\n  if (window.dzsap_wavesurfer_is_trying_to_generate) {\n    setTimeout(function () {\n\n      margs.call_attempt++;\n      if (margs.call_attempt < 10) {\n        scrubModeWave__checkIfWeShouldTryToGetPcm(selfClass, margs);\n        ;\n      }\n    }, 1000)\n    return false;\n  }\n\n\n  if (selfClass.isPcmRequiredToGenerate) {\n\n    if (isWeCanGeneratePcm(selfClass)) {\n\n      window.dzsap_wavesurfer_is_trying_to_generate = selfClass;\n\n\n      window.dzsap_get_base_url();\n\n      let wavesurferUrl = window.dzsap_base_url ? window.dzsap_base_url + 'parts/wavesurfer/dzsap-wave-generate.js' : ConstantsDzsAp.URL_WAVESURFER_HELPER_BACKUP;\n\n\n      window.scrubModeWave__view_transitionIn = scrubModeWave__view_transitionIn;\n\n\n      loadScriptIfItDoesNotExist(wavesurferUrl, window.scrubModeWave__initedGenerateWave).then((resolveStr) => {\n\n\n        scrubModeWave__initGenerateWaveData(selfClass);\n      });\n    }\n  }\n}\n\nfunction isWeCanGeneratePcm(selfClass) {\n\n  if (selfClass.isAlreadyHasRealPcm) {\n    return false;\n  }\n  return selfClass.data_source != 'fake';\n\n}\n\nexport function view_drawCanvases(selfClass, argpcm, calledFrom) {\n  var o = selfClass.initOptions;\n\n  draw_canvas(selfClass._scrubbarbg_canvas.get(0), argpcm, \"#\" + o.design_wave_color_bg, {\n    call_from: calledFrom + '_bg',\n    selfClass,\n    'skinwave_wave_mode_canvas_waves_number': parseInt(o.skinwave_wave_mode_canvas_waves_number, 10),\n    'skinwave_wave_mode_canvas_waves_padding': parseInt(o.skinwave_wave_mode_canvas_waves_padding, 10)\n  });\n  draw_canvas(selfClass._scrubbarprog_canvas.get(0), argpcm, '#' + o.design_wave_color_progress, {\n      call_from: calledFrom + '_prog',\n      selfClass,\n      'skinwave_wave_mode_canvas_waves_number': parseInt(o.skinwave_wave_mode_canvas_waves_number, 10),\n      'skinwave_wave_mode_canvas_waves_padding': parseInt(o.skinwave_wave_mode_canvas_waves_padding, 10),\n    },\n    true);\n}\n\n\n/**\n * called on isPcmRequiredToGenerate ( init_loaded )  / change_media\n * @param selfClass\n * @param argpcm\n */\nexport function scrubModeWave__view_transitionIn(selfClass, argpcm) {\n\n\n  selfClass._scrubbar.find('.scrub-bg-img,.scrub-prog-img').removeClass('transitioning-in');\n  selfClass._scrubbar.find('.scrub-bg-img,.scrub-prog-img').addClass('transitioning-out');\n  ;\n\n  scrubbar_modeWave_setupCanvas({\n    'prepare_for_transition_in': true\n  }, selfClass);\n\n  view_drawCanvases(selfClass, argpcm, 'canvas_generate_wave_data_animate_pcm');\n\n\n  setTimeout(() => {\n    scrubbar_modeWave_clearObsoleteCanvas(selfClass);\n  }, 300);\n\n  // -- warning - not always real pcm\n  selfClass.isAlreadyHasRealPcm = true;\n  selfClass.scrubbar_reveal();\n}\n\n\n/**\n * aggregate wave array based on max\n * @param waveArrayTemp\n * @returns {array}\n */\nfunction waveCalculateWaveArray(waveArrayTemp) {\n  let max = 0;\n  let waveArrayNew = [];\n  let barIndex = 0;\n\n  let waveArray = string_jsonConvertToArray(waveArrayTemp);\n\n\n  // -- normalizing\n  for (barIndex = 0; barIndex < waveArray.length; barIndex++) {\n    if ((waveArray[barIndex]) > max) {\n      max = (waveArray[barIndex]);\n    }\n  }\n\n  for (barIndex = 0; barIndex < waveArray.length; barIndex++) {\n    waveArrayNew[barIndex] = parseFloat(Math.abs(waveArray[barIndex]) / Number(max));\n  }\n  // -- end normalize\n\n  waveArray = waveArrayNew;\n\n  return waveArray;\n\n}\n\n\nfunction view_drawBars(_canvasContext, isReflection, isProgressScrubContext, hexcolor, barCount, waveArray, widthCanvas, heightCanvas, reflection_size, playerOptions, margs, selfClass, bar_space) {\n  let isWithinSample = false;\n  var searched_index = null;\n  var lastBarHeight = 0;\n  var gradient = null;\n  var spectrum_isBarWithinProgress = false; // -- color the bar in progress colors\n\n\n  hexcolor = sanitizeToHexColor(hexcolor);\n  // -- left right gradient\n  var temp_hex = hexcolor;\n  temp_hex = temp_hex.replace('#', '');\n  var hexcolors = []; // -- hex colors array\n  if (temp_hex.indexOf(',') > -1) {\n    hexcolors = temp_hex.split(',');\n  }\n\n\n  if (barCount == 1) {\n    barCount = widthCanvas / barCount;\n  }\n  if (barCount == 2) {\n    barCount = widthCanvas / 2;\n  }\n  if (barCount == 3) {\n    barCount = (widthCanvas) / 3;\n  }\n\n\n  if (widthCanvas / barCount < 1) {\n    barCount = Math.ceil(barCount / 3);\n  }\n\n\n  var widthBar = Math.ceil(widthCanvas / barCount);\n  var sizeRatioNormal = 1 - reflection_size;\n\n\n  if (widthBar == 0) {\n    widthBar = 1;\n    bar_space = 0;\n  }\n  if (widthBar == 1) {\n    bar_space = bar_space / 2;\n  }\n\n\n  var progress_hexcolor = '';\n  var progress_hexcolors = '';\n\n\n  if (margs.call_from == 'spectrum') {\n    progress_hexcolor = playerOptions.design_wave_color_progress;\n    progress_hexcolor = progress_hexcolor.replace('#', '');\n    progress_hexcolors = []; // -- hex colors array\n    if (progress_hexcolor.indexOf(',') > -1) {\n      progress_hexcolors = progress_hexcolor.split(',');\n\n    }\n  }\n\n  for (let barIndex = 0; barIndex < barCount; barIndex++) {\n    isWithinSample = false;\n    _canvasContext.save();\n\n\n    searched_index = Math.ceil(barIndex * (waveArray.length / barCount));\n\n    // -- we'll try to prevent\n    if (barIndex < barCount / 5) {\n      if (waveArray[searched_index] < 0.1) {\n        waveArray[searched_index] = 0.1;\n      }\n    }\n    if (waveArray.length > barCount * 2.5 && barIndex > 0 && barIndex < waveArray.length - 1) {\n      waveArray[searched_index] = Math.abs(waveArray[searched_index] + waveArray[searched_index - 1] + waveArray[searched_index + 1]) / 3\n    }\n    // -- normalize end\n\n\n    let targetRatio = sizeRatioNormal;\n    if (isReflection) {\n      targetRatio = reflection_size;\n    }\n\n    let barHeight = Math.abs(waveArray[searched_index] * heightCanvas * targetRatio);\n\n\n    if (playerOptions.skinwave_wave_mode_canvas_normalize == 'on') {\n      if (isNaN(lastBarHeight)) {\n        lastBarHeight = 0;\n      }\n      barHeight = barHeight / 1.5 + lastBarHeight / 2.5;\n    }\n    lastBarHeight = barHeight;\n\n\n    _canvasContext.lineWidth = 0;\n    barHeight = Math.floor(barHeight);\n\n\n    const barPositionTop = isReflection ? heightCanvas * sizeRatioNormal : Math.ceil(heightCanvas * targetRatio - barHeight);\n\n\n    _canvasContext.beginPath();\n    _canvasContext.rect(barIndex * widthBar, barPositionTop, widthBar - bar_space, barHeight);\n\n\n    if (margs.call_from == 'spectrum') {\n      if (barIndex / barCount < selfClass.timeCurrent / selfClass.timeTotal) {\n        spectrum_isBarWithinProgress = true;\n      } else {\n        spectrum_isBarWithinProgress = false;\n      }\n    }\n\n\n    if (selfClass.isSample) {\n      isWithinSample = isBeforeOrAfterSample(barIndex, barCount, selfClass);\n    }\n\n\n    if (spectrum_isBarWithinProgress) {\n      if (isReflection && playerOptions.skinwave_wave_mode_canvas_mode !== 'reflecto') {\n        _canvasContext.fillStyle = hexToRgb(progress_hexcolor, 0.25);\n      } else {\n        _canvasContext.fillStyle = isWithinSample ? hexToRgb(progress_hexcolor, 0.5) : '#' + progress_hexcolor;\n      }\n\n\n      if (progress_hexcolors.length) {\n\n        const startColor = isReflection && playerOptions.skinwave_wave_mode_canvas_mode !== 'reflecto' ? hexToRgb('#' + progress_hexcolors[0], 0.25) : '#' + progress_hexcolors[0];\n        const endColor = isReflection && playerOptions.skinwave_wave_mode_canvas_mode !== 'reflecto' ? hexToRgb('#' + progress_hexcolors[1], 0.25) : '#' + progress_hexcolors[1];\n\n        gradient = _canvasContext.createLinearGradient(0, 0, 0, heightCanvas);\n        gradient.addColorStop(0, startColor);\n        gradient.addColorStop(1, endColor);\n        _canvasContext.fillStyle = gradient;\n      }\n\n    } else {\n      /**\n       * normal\n       */\n\n\n      if (isReflection && playerOptions.skinwave_wave_mode_canvas_mode !== 'reflecto') {\n        _canvasContext.fillStyle = hexToRgb(hexcolor, 0.25);\n      } else {\n\n        _canvasContext.fillStyle = isWithinSample ? hexToRgb(hexcolor, 0.5) : '' + hexcolor;\n      }\n\n      // -- if we have gradient\n      if (hexcolors.length) {\n        const startColor = isReflection && playerOptions.skinwave_wave_mode_canvas_mode !== 'reflecto' ? hexToRgb(utils_sanitizeToColor(hexcolors[0]), 0.25) : '' + utils_sanitizeToColor(hexcolors[0]);\n        const endColor = isReflection && playerOptions.skinwave_wave_mode_canvas_mode !== 'reflecto' ? hexToRgb(utils_sanitizeToColor(hexcolors[1]), 0.25) : '' + utils_sanitizeToColor(hexcolors[1]);\n\n        gradient = _canvasContext.createLinearGradient(0, 0, 0, heightCanvas);\n        gradient.addColorStop(0, startColor);\n        gradient.addColorStop(1, endColor);\n        _canvasContext.fillStyle = gradient;\n      }\n\n\n    }\n\n\n    if (!(isWithinSample && isProgressScrubContext)) {\n\n\n      _canvasContext.fill();\n      _canvasContext.closePath();\n    }\n\n\n    _canvasContext.restore();\n\n  }\n\n}\n\n\n/**\n * draw with different color\n * @returns {boolean}\n * @param {number} currBarIndex\n * @param {number} barCount\n * @param {DzsAudioPlayer} selfClass\n */\nfunction isBeforeOrAfterSample(currBarIndex, barCount, selfClass) {\n\n\n  if ((currBarIndex / barCount < selfClass.timeModel.sampleTimeStart / selfClass.timeModel.sampleTimeTotal) || currBarIndex / barCount > selfClass.timeModel.sampleTimeEnd / selfClass.timeModel.sampleTimeTotal) {\n\n    return true;\n  }\n  return false;\n}\n\n/**\n * draw canvas here\n * @param $canvas_\n * @param pcm_arr\n * @param hexcolor\n * @param pargs\n * @param {boolean} isProgressScrubContext\n * @returns {boolean}\n */\nexport function draw_canvas($canvas_, pcm_arr, hexcolor, pargs, isProgressScrubContext = false) {\n  let margs = {\n    'call_from': 'default',\n    'is_sample': false,\n    'selfClass': null,\n    'sample_time_start': 0,\n    'sample_time_end': 0,\n    'sample_time_total': 0,\n    'skinwave_wave_mode_canvas_waves_number': 2,\n    'skinwave_wave_mode_canvas_waves_padding': 1,\n  };\n\n  const $ = jQuery;\n  if (pargs) {\n    margs = Object.assign(margs, pargs);\n  }\n\n\n  var _canvas = $($canvas_);\n  var __canvas = $canvas_;\n\n  if (_canvas.get(0)) {\n\n\n    var {selfClass, skinwave_wave_mode_canvas_waves_number, skinwave_wave_mode_canvas_waves_padding} = margs;\n    let playerOptions = {};\n    var _canvasContext = _canvas.get(0).getContext(\"2d\");\n    var waveArrayTemp = pcm_arr;\n    var widthCanvas;\n    var heightCanvas;\n\n    let waveArray = [];\n\n\n    // -- sanitize\n    if (isNaN(Number(skinwave_wave_mode_canvas_waves_number))) {\n      skinwave_wave_mode_canvas_waves_number = 2;\n    }\n\n    if (isNaN(Number(skinwave_wave_mode_canvas_waves_padding))) {\n      if (skinwave_wave_mode_canvas_waves_number !== 1) {\n        skinwave_wave_mode_canvas_waves_padding = 1;\n      } else {\n        skinwave_wave_mode_canvas_waves_padding = 0;\n      }\n    }\n\n    if (selfClass) {\n      playerOptions = selfClass.initOptions;\n    }\n\n\n    let barCount = skinwave_wave_mode_canvas_waves_number;\n    let bar_space = skinwave_wave_mode_canvas_waves_padding;\n\n\n    if (_canvas && _canvas.get(0)) {\n\n    } else {\n      return false;\n    }\n\n\n    if (selfClass && selfClass._scrubbar) {\n      if (selfClass._scrubbarprog_canvas) {\n        selfClass._scrubbarbg_canvas.width(selfClass._scrubbar.width());\n        selfClass._scrubbarprog_canvas.width(selfClass._scrubbar.width());\n        $canvas_.width = selfClass._scrubbar.width();\n        $canvas_.height = selfClass._scrubbar.height();\n      }\n    }\n\n\n    waveArray = waveCalculateWaveArray(waveArrayTemp);\n\n\n    if (selfClass) {\n      __canvas.width = selfClass._scrubbar.width();\n    }\n\n    widthCanvas = __canvas.width;\n    heightCanvas = __canvas.height;\n\n\n    const reflection_size = parseFloat(playerOptions.skinwave_wave_mode_canvas_reflection_size);\n\n\n    // -- left right gradient END\n\n\n    _canvasContext.clearRect(0, 0, widthCanvas, heightCanvas);\n\n\n    view_drawBars(_canvasContext, false, isProgressScrubContext, hexcolor, barCount, waveArray, widthCanvas, heightCanvas, reflection_size, playerOptions, margs, selfClass, bar_space)\n    if (reflection_size > 0) {\n      view_drawBars(_canvasContext, true, isProgressScrubContext, hexcolor, barCount, waveArray, widthCanvas, heightCanvas, reflection_size, playerOptions, margs, selfClass, bar_space)\n    }\n\n    // -- reflection\n    setTimeout(function () {\n      selfClass.scrubbar_reveal();\n    }, 100)\n  }\n\n\n}\n","import {generateFakeArrayForPcm} from \"../_dzsap_helpers\";\nimport {draw_canvas} from \"../wave-render/_wave-render-functions\";\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n */\nexport function player_initSpectrum(selfClass) {\n\n\n  if (window.dzsap_audio_ctx === null) {\n    if (typeof AudioContext !== 'undefined') {\n      selfClass.spectrum_audioContext = new AudioContext();\n    } else if (typeof webkitAudioContext !== 'undefined') {\n      selfClass.spectrum_audioContext = new webkitAudioContext();\n    } else {\n      selfClass.spectrum_audioContext = null;\n    }\n    window.dzsap_audio_ctx = selfClass.spectrum_audioContext;\n  } else {\n    selfClass.spectrum_audioContext = window.dzsap_audio_ctx;\n  }\n\n\n  if (selfClass.spectrum_audioContext) {\n    if (selfClass.spectrum_analyser === null) {\n\n      selfClass.spectrum_analyser = selfClass.spectrum_audioContext.createAnalyser();\n      selfClass.spectrum_analyser.smoothingTimeConstant = 0.3;\n      selfClass.spectrum_analyser.fftSize = 512;\n\n      if (selfClass.audioType === 'selfHosted') {\n        selfClass.$mediaNode_.crossOrigin = \"anonymous\";\n        selfClass.spectrum_mediaElementSource = selfClass.spectrum_audioContext.createMediaElementSource(selfClass.$mediaNode_);\n\n        selfClass.spectrum_mediaElementSource.connect(selfClass.spectrum_analyser);\n        if (selfClass.spectrum_audioContext.createGain) {\n          selfClass.spectrum_gainNode = selfClass.spectrum_audioContext.createGain();\n        }\n        selfClass.spectrum_analyser.connect(selfClass.spectrum_audioContext.destination);\n\n        selfClass.spectrum_gainNode.gain.value = 1;\n\n        const frameCount = selfClass.spectrum_audioContext.sampleRate * 2.0;\n        selfClass.spectrum_audioContext_buffer = selfClass.spectrum_audioContext.createBuffer(2, frameCount, selfClass.spectrum_audioContext.sampleRate);\n      }\n    }\n  }\n\n\n  if (selfClass._scrubbarbg_canvas) {\n\n    selfClass.canvasWidth = selfClass._scrubbarbg_canvas.width();\n    selfClass.heightCanvas = selfClass._scrubbarbg_canvas.height();\n\n\n    if (selfClass.heightCanvas == 0) {\n      selfClass.heightCanvas = 100;\n    }\n\n    selfClass._scrubbarbg_canvas.get(0).width = selfClass.canvasWidth;\n    selfClass._scrubbarbg_canvas.get(0).height = selfClass.heightCanvas;\n  }\n}\n\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n */\nexport function player_initSpectrumOnUserAction(selfClass) {\n\n\n  selfClass.cthis.get(0).addEventListener('mousedown', handleMouseDown, {once: true});\n  selfClass.cthis.get(0).addEventListener('touchdown', handleMouseDown, {once: true});\n\n  function handleMouseDown(e) {\n    player_initSpectrum(selfClass);\n  }\n\n\n}\n\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n * @param $scrubBgCanvas\n * @param {string} spectrum_fakeItMode\n * @param {number} heightCanvas\n */\nexport const view_spectrum_drawMeter = function (selfClass, $scrubBgCanvas, spectrum_fakeItMode, heightCanvas) {\n\n\n  // -- spectrum ON\n  // -- easing\n\n  let duration_viy = 20;\n  let begin_viy = 0;\n  let change_viy = 0;\n\n  if (selfClass.initOptions.type === 'soundcloud' || spectrum_fakeItMode === 'on') {\n    selfClass.lastArray = generateFakeArrayForPcm();\n\n  } else {\n\n\n    if (selfClass.spectrum_analyser) {\n\n      if (selfClass.isPlayerPlaying) {\n        selfClass.lastArray = new Uint8Array(selfClass.spectrum_analyser.frequencyBinCount);\n        selfClass.spectrum_analyser.getByteFrequencyData(selfClass.lastArray);\n      }\n\n\n    }\n  }\n\n\n  // -- normalize if pcmSource exists\n  if (selfClass.pcmSource) {\n    for (let i = 0; i < selfClass.lastArray.length; i++) {\n      selfClass.lastArray[i] = (selfClass.lastArray[i] * 3/4 + (selfClass.pcmSource[i] /4));\n    }\n  }\n\n\n  if (selfClass.lastArray && selfClass.lastArray.length) {\n    // -- fix when some sounds end the value still not back to zero\n    const len = selfClass.lastArray.length;\n    for (let i = len - 1; i >= 0; i--) {\n\n      if (i < len / 2) {\n\n        selfClass.lastArray[i] = selfClass.lastArray[i] / 255 * heightCanvas;\n      } else {\n\n        selfClass.lastArray[i] = selfClass.lastArray[len - i] / 255 * heightCanvas;\n      }\n\n    }\n    ;\n\n\n    if (!selfClass.isPlayerPlaying && selfClass.pcmSource) {\n      selfClass.lastArray = [...selfClass.pcmSource];\n    }\n\n    // -- normalize\n    if (selfClass.isPlayerPlayingEased && selfClass.last_lastarray) {\n      for (let i3 = 0; i3 < selfClass.last_lastarray.length; i3++) {\n        if (selfClass.last_lastarray[i3] > heightCanvas) {\n          selfClass.last_lastarray[i3] = heightCanvas;\n        }\n        begin_viy = selfClass.last_lastarray[i3]; // -- last value\n        change_viy = selfClass.lastArray[i3] - begin_viy; // -- target value - last value\n        duration_viy = 6;\n        selfClass.lastArray[i3] = Math.easeIn(1, begin_viy, change_viy, duration_viy);\n      }\n    }\n    // -- easing END\n\n\n    draw_canvas($scrubBgCanvas.get(0), selfClass.lastArray, '' + selfClass.initOptions.design_wave_color_bg, {\n      'call_from': 'spectrum',\n      selfClass,\n      'skinwave_wave_mode_canvas_waves_number': parseInt(selfClass.initOptions.skinwave_wave_mode_canvas_waves_number),\n      'skinwave_wave_mode_canvas_waves_padding': parseInt(selfClass.initOptions.skinwave_wave_mode_canvas_waves_padding)\n    }, false)\n\n\n    if (selfClass.lastArray) {\n      selfClass.last_lastarray = selfClass.lastArray.slice();\n    }\n  }\n\n};\n","import {\n  assignPcmData,\n  dzsap_is_mobile,\n  is_android,\n  is_ios,\n  player_view_addMetaLoaded,\n  string_jsonConvertToArray\n} from '../_dzsap_helpers';\nimport {ConstantsDzsAp} from \"../../configs/_constants\";\nimport {setupTooltip} from \"../../js_common/_dzs_helpers\";\nimport {volume_setVolume} from \"../player/_player_volume\";\nimport {player_initSpectrumOnUserAction} from \"../player/_player_scrubModeWave_spectrum\";\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n * @param callbackFn\n * @param errorFn\n */\nexport const media_tryToPlay = function (selfClass, callbackFn, errorFn) {\n  async function async_media_tryToPlay() {\n    function tryToPlay(resolve, reject) {\n      if (selfClass.cthis.attr('data-original-type')) {\n        // -- then this player is feeding\n      } else {\n\n        if (selfClass.$mediaNode_) {\n          if (selfClass.$mediaNode_.play) {\n\n            // -- no audioCtx_buffer\n\n            if (is_ios() && selfClass.spectrum_audioContext !== null && typeof selfClass.spectrum_audioContext == 'object') {\n              // todo: ios not playing nice.. with audio context\n\n              selfClass.spectrum_audioContextBufferSource = selfClass.spectrum_audioContext.createBufferSource();\n              selfClass.spectrum_audioContextBufferSource.buffer = selfClass.spectrum_audioContext_buffer;\n              selfClass.spectrum_audioContextBufferSource.connect(selfClass.spectrum_audioContext.destination);\n\n              selfClass.spectrum_audioContextBufferSource.start(0, selfClass.lastTimeInSeconds);\n              resolve({\n                'resolve_type': 'playing_context'\n              })\n            } else {\n\n              selfClass.cthis.addClass('zoomsounds-player--media--is-loading');\n\n              try {\n\n                selfClass.$mediaNode_.play().then(r => {\n                  resolve({\n                    'resolve_type': 'started_playing'\n                  })\n                }).catch(err => {\n                  reject({\n                    'error_type': 'did not want to play',\n                    'error_message': err\n                  });\n                }).finally(() => {\n\n                  selfClass.cthis.removeClass('zoomsounds-player--media--is-loading');\n                });\n              } catch (e) {\n                selfClass.$mediaNode_.play();\n                console.log(e);\n                resolve({\n                  'resolve_type': 'started_playing'\n                })\n              }\n\n            }\n          } else {\n            if (selfClass._actualPlayer == null) {\n              selfClass.isPlayPromised = true;\n            }\n\n          }\n        } else {\n          if (selfClass._actualPlayer == null) {\n            selfClass.isPlayPromised = true;\n          }\n        }\n\n\n      }\n\n    }\n\n    return new Promise((resolve, reject) => {\n\n      tryToPlay(resolve, reject);\n\n    })\n  }\n\n  async_media_tryToPlay().then((r) => {\n    callbackFn(r);\n  }).catch((err) => {\n    errorFn(err);\n  })\n\n}\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n * @param {object} pargs\n * @param {boolean} media_isLoopActive\n * @param {function} seek_to\n * @param {function} play_media\n * @param {function} pause_media\n * @param {object} o\n * @param {function} syncPlayers_gotoNext\n * @param {function} action_audio_end\n * @returns {void}\n */\nexport const media_handleEventEnd = (selfClass, pargs, media_isLoopActive, seek_to, play_media, pause_media, o, syncPlayers_gotoNext, action_audio_end) => {\n\n\n  var margs = {\n    'called_from': 'default'\n  }\n\n\n  if (pargs) {\n    margs = Object.assign(margs, pargs);\n  }\n  if (selfClass.isMediaEnded) {\n    return;\n  }\n\n  selfClass.isMediaEnded = true;\n\n  selfClass.inter_isEnded = setTimeout(function () {\n    selfClass.isMediaEnded = false;\n  }, 1000);\n\n\n  if (selfClass._sourcePlayer) {\n\n    media_isLoopActive = selfClass._sourcePlayer.get(0).api_get_media_isLoopActive();\n  }\n  if (selfClass._actualPlayer && margs.call_from !== 'fake_player') {\n    // -- lets leave fake player handle handle_end\n    return;\n  }\n\n\n  seek_to(0, {\n    'call_from': 'handle_end'\n  });\n\n  if (media_isLoopActive) {\n    play_media({\n      'called_from': 'track_end'\n    });\n    return;\n  } else {\n    pause_media();\n  }\n\n  if (o.parentgallery) {\n    o.parentgallery.get(0).api_gallery_handle_end();\n  }\n\n\n  let autoplayNextMethod = 'default';\n\n  let $parentPlaylistForSource = null;\n  if (selfClass._sourcePlayer && selfClass._sourcePlayer.get(0) && selfClass._sourcePlayer.get(0).SelfInstance && selfClass._sourcePlayer.get(0).SelfInstance.$parentPlaylist) {\n    // -- called on handle end\n    $parentPlaylistForSource = selfClass._sourcePlayer.get(0).SelfInstance.$parentPlaylist.get(0).SelfPlaylist;\n\n    if ($parentPlaylistForSource) {\n\n      if ($parentPlaylistForSource.initOptions.autoplayNext === 'on') {\n        autoplayNextMethod = 'nextInSourcePlayist';\n      }\n    }\n  }\n\n  if (autoplayNextMethod === 'default') {\n    if (window.dzsap_syncList_players && window.dzsap_syncList_players.length > 0) {\n      if (selfClass.cthis.hasClass('is-single-player') || (selfClass._sourcePlayer && selfClass._sourcePlayer.hasClass('is-single-player'))) {\n        // -- called on handle end\n        autoplayNextMethod = 'syncPlayerNext';\n      }\n    }\n  }\n\n  if (autoplayNextMethod === 'default') {\n    if (selfClass._sourcePlayer && (selfClass._sourcePlayer.hasClass('is-single-player') || selfClass._sourcePlayer.hasClass('feeded-whole-playlist'))) {\n      autoplayNextMethod = 'handleEndForSourcePlayer';\n    }\n  }\n\n  if (autoplayNextMethod === 'default') {\n    autoplayNextMethod = 'nothingAfter';\n  }\n\n  // -- decided autoplayNextMethod\n\n  if (autoplayNextMethod === 'nextInSourcePlayist') {\n\n    if ($parentPlaylistForSource.argThis) {\n      $parentPlaylistForSource.argThis.api_gallery_handle_end();\n    }\n  }\n  if (autoplayNextMethod === 'syncPlayerNext') {\n    setTimeout(function () {\n      syncPlayers_gotoNext(selfClass);\n    }, 100);\n  }\n\n  if (autoplayNextMethod === 'handleEndForSourcePlayer') {\n    setTimeout(function () {\n      selfClass._sourcePlayer.get(0).api_handle_end({\n        'call_from': 'handle_end() fake_player'\n      });\n    }, 200);\n  }\n\n  if (action_audio_end) {\n    setTimeout(function () {\n      let args = {};\n      action_audio_end(selfClass.cthis, args);\n    }, 200);\n  }\n}\n\nexport const media_removeMediaInside = (selfClass) => {\n\n  selfClass.$theMedia.children().remove();\n  selfClass.$mediaNode_ = null;\n}\n\nexport const setupMediaElement = (selfClass, stringAudioElementHtml = '', stringAudioTagSource = '') => {\n\n\n  media_removeMediaInside(selfClass);\n\n  if (stringAudioTagSource) {\n    if (selfClass.$mediaNode_) {\n\n      jQuery(selfClass.$mediaNode_).append(stringAudioTagSource);\n      if (selfClass.$mediaNode_.load) {\n        selfClass.$mediaNode_.load();\n      }\n\n    } else {\n      setupMediaElement(selfClass, stringAudioElementHtml);\n      return false;\n    }\n  } else {\n    selfClass.$theMedia.append(stringAudioElementHtml);\n  }\n  selfClass.$mediaNode_ = (selfClass.$theMedia.children('audio').get(0));\n\n\n}\n\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n */\nexport function destroy_cmedia(selfClass) {\n  // -- destroy cmedia\n  const $ = selfClass.$;\n\n  $(selfClass.$mediaNode_).remove();\n  selfClass.$mediaNode_ = null;\n  selfClass.isSetupedMedia = false;\n  selfClass.isPlayerLoaded = false;\n}\n\nexport function destroy_media(selfClass, pause_media) {\n  const o = selfClass.initOptions;\n  pause_media();\n\n\n  if (selfClass.$mediaNode_) {\n\n    if (selfClass.$mediaNode_.children) {\n\n    }\n\n    if (o.type === 'audio') {\n      selfClass.$mediaNode_.innerHTML = '';\n      selfClass.$mediaNode_.load();\n    }\n  }\n\n  if (selfClass.$theMedia) {\n\n    selfClass.$theMedia.children().remove();\n    selfClass.$mediaNode_ = null;\n    selfClass.isPlayerLoaded = false;\n  }\n\n  destroy_cmedia(selfClass);\n\n}\n\nexport const setupMediaListeners = function (selfClass, setupMediaAttrs, action_initLoaded, volume_lastVolume, volume_setVolume) {\n\n  let attempt_reload = 0;\n\n\n  if (typeof (selfClass.$mediaNode_) !== \"undefined\" && selfClass.$mediaNode_) {\n    selfClass.$mediaNode_.addEventListener('error', handleAudioError, true);\n    selfClass.$mediaNode_.addEventListener('loadedmetadata', handleMediaMetaLoaded, true);\n    if (selfClass.$mediaNode_.nodeName === 'AUDIO') {\n      selfClass.$mediaNode_.addEventListener('ended', media_handleEnd);\n    }\n  }\n\n\n  function media_handleEnd(pargs) {\n    selfClass.handle_end(pargs);\n  }\n\n  function handleAudioError(e) {\n\n    const $audioElement_ = this;\n\n    var noSourcesLoaded = ($audioElement_.networkState === HTMLMediaElement.NETWORK_NO_SOURCE);\n    if (noSourcesLoaded && dzsap_is_mobile() === false) {\n      if (selfClass.cthis.hasClass(ConstantsDzsAp.ERRORED_OUT_CLASS) === false) {\n\n        if (attempt_reload < ConstantsDzsAp.ERRORED_OUT_MAX_ATTEMPTS) {\n          setTimeout(function (earg) {\n            if (selfClass.$mediaNode_) {\n              selfClass.$mediaNode_.src = '';\n            }\n\n\n            setTimeout(function () {\n              if (selfClass.$mediaNode_) {\n                selfClass.$mediaNode_.src = selfClass.data_source;\n                selfClass.$mediaNode_.load();\n              }\n            }, 1000)\n          }, 1000, e)\n          attempt_reload++;\n        } else {\n\n          // -- IT FAILED LOADING\n\n          if (selfClass.initOptions.notice_no_media === 'on') {\n            selfClass.cthis.addClass(ConstantsDzsAp.ERRORED_OUT_CLASS);\n            var txt = 'error - file does not exist...';\n            if (e.target.error) {\n              txt = e.target.error.message;\n            }\n            selfClass.cthis.append(setupTooltip({\n              tooltipConClass: ' feedback-tooltip-con',\n              tooltipIndicatorText: '<span class=\"player-but\"><span class=\"the-icon-bg\" style=\"background-color: #912c2c\"></span><span class=\"svg-icon dzsap-color-ui-inverse\" >&#x2139;</span></span>',\n              tooltipInnerHTML: 'cannot load - ( ' + selfClass.data_source + ' ) - error: ' + txt,\n            }));\n          }\n        }\n      }\n    }\n  }\n\n\n  function handleMediaMetaLoaded(e) {\n\n\n    player_view_addMetaLoaded(selfClass);\n\n    /** @type {HTMLAudioElement} */\n    const $audio_ = e.currentTarget;\n\n    if (isValidTotalTime($audio_.duration)) {\n      selfClass.timeModel.actualTotalTime = Math.ceil($audio_.duration);\n    }\n    selfClass.service_checkIfWeShouldUpdateTotalTime();\n\n\n    if (setupMediaAttrs.called_from === 'change_media') {\n\n      action_initLoaded({\n        'call_from': 'force_reload_change_media'\n      })\n    }\n\n    if (setupMediaAttrs.called_from === 'change_media' || selfClass._sourcePlayer) {\n      if (volume_lastVolume) {\n        setTimeout(() => {\n          volume_setVolume(selfClass, volume_lastVolume, {\n            call_from: \"change_media\"\n          });\n        }, 50);\n      }\n    }\n\n    if (selfClass._sourcePlayer) {\n      if (isValidTotalTime($audio_.duration)) {\n        selfClass._sourcePlayer.get(0).api_set_timeVisualTotal($audio_.duration)\n\n      }\n    }\n\n\n    selfClass.view_drawCurrentTime();\n  }\n\n}\n\n\nexport const buildAudioElementHtml = function (selfClass, type_normal_stream_type, calledFrom) {\n\n  var stringAudioTagOpen = '';\n  var stringAudioTagSource = '';\n  var stringAudioTagClose = '';\n  var o = selfClass.initOptions;\n\n\n  if (selfClass.data_source) {\n    if (selfClass.data_source.indexOf('get_track_source') > -1) {\n      o.preload_method = 'none';\n    }\n  }\n\n  stringAudioTagOpen += '<audio';\n  stringAudioTagOpen += ' id=\"' + selfClass.uniqueId + '-audio\"';\n  stringAudioTagOpen += ' preload=\"' + o.preload_method + '\"';\n  if (o.skinwave_enableSpectrum === 'on') {\n    stringAudioTagOpen += ' crossOrigin=\"anonymous\"';\n\n  }\n\n  if (is_ios()) {\n    if (calledFrom === 'change_media') {\n      stringAudioTagOpen += ' autoplay';\n    }\n  }\n\n  stringAudioTagOpen += '>';\n  stringAudioTagSource = '';\n\n\n  if (selfClass.data_source) {\n\n    if (!selfClass.data_source && type_normal_stream_type !== 'icecast') {\n      selfClass.data_source = selfClass.cthis.attr('data-source');\n    }\n\n\n    if (selfClass.data_source !== 'fake') {\n      stringAudioTagSource += '<source src=\"' + selfClass.data_source + '\" type=\"audio/mpeg\">';\n      if (selfClass.cthis.attr('data-sourceogg') !== undefined) {\n        stringAudioTagSource += '<source src=\"' + selfClass.cthis.attr('data-sourceogg') + '\" type=\"audio/ogg\">';\n      }\n    } else {\n      selfClass.cthis.addClass('meta-loaded meta-fake');\n    }\n  }\n  stringAudioTagClose += '</audio>';\n\n\n  return {\n    stringAudioElementHtml: stringAudioTagOpen + stringAudioTagSource + stringAudioTagClose,\n    stringAudioTagSource\n  };\n\n}\n\nexport const makeMediaPreloadInTheFuture = function (selfClass, stringAudioElementHtml) {\n\n  setTimeout(function () {\n    if (selfClass.$mediaNode_) {\n      jQuery(selfClass.$mediaNode_).attr('preload', 'metadata');\n    }\n  }, (Number(window.dzsap_player_index) * 10000));\n}\nexport const repairMediaElement = function (selfClass, stringAudioElementHtml) {\n\n  var o = selfClass.initOptions;\n  setTimeout(function () {\n\n    if (selfClass.$theMedia.children().eq(0).get(0) && selfClass.$theMedia.children().eq(0).get(0).nodeName === \"AUDIO\") {\n\n      return false;\n    }\n    selfClass.$theMedia.html('');\n    selfClass.$mediaNode_ = null;\n    selfClass.$theMedia.append(stringAudioElementHtml);\n\n    var isWasPlaying = selfClass.isPlayerPlaying;\n\n    selfClass.pause_media();\n    selfClass.$mediaNode_ = (selfClass.$theMedia.children('audio').get(0));\n\n\n    if (isWasPlaying) {\n      setTimeout(function () {\n\n        selfClass.play_media({\n          'called_from': 'aux_was_playing'\n        });\n      }, 20);\n    }\n  }, o.failsafe_repair_media_element);\n\n  o.failsafe_repair_media_element = '';\n}\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n * @param callbackFn\n */\nexport const media_pause = function (selfClass, callbackFn) {\n\n  var $ = selfClass.$;\n\n\n  if (selfClass.audioType === 'youtube') {\n\n\n    if (selfClass.$mediaNode_ && selfClass.$mediaNode_.pauseVideo) {\n      selfClass.$mediaNode_.pauseVideo();\n    }\n  }\n  if (selfClass.audioType === 'selfHosted') {\n\n    if (0) {\n    } else {\n      if (selfClass.$mediaNode_) {\n\n        if (selfClass.initOptions.pause_method == 'stop') {\n\n          selfClass.$mediaNode_.pause();\n          selfClass.$mediaNode_.src = '';\n\n\n          selfClass.destroy_cmedia();\n          $(selfClass.$mediaNode_).remove();\n          selfClass.$mediaNode_ = null;\n        } else {\n\n          if (selfClass.$mediaNode_.pause) {\n            selfClass.$mediaNode_.pause();\n          }\n        }\n      }\n\n    }\n\n\n  }\n\n  callbackFn();\n\n}\n\nexport const isValidTotalTime = (duration) => {\n  return Boolean(duration && duration !== Infinity);\n}\n\n\nconst mediaSetupElement = (setupMediaAttrs, selfClass, stringAudioElement, stringAudioElementHtml) => {\n\n  const stringAudioTagSource = stringAudioElement.stringAudioTagSource;\n  if (setupMediaAttrs.called_from === 'change_media' || setupMediaAttrs.called_from === 'nonce generated') {\n\n    if (is_ios() || is_android()) {\n\n      // -- we append only the source to mobile devices as we need the thing to autoplay without user action\n      setupMediaElement(selfClass, stringAudioElementHtml, stringAudioTagSource);\n\n    } else {\n      // -- normal desktop\n      if (!(setupMediaAttrs.called_from === 'nonce generated' && selfClass._actualPlayer)) {\n\n        setupMediaElement(selfClass, stringAudioElementHtml);\n      }\n    }\n    // -- end change media\n  } else {\n    setupMediaElement(selfClass, stringAudioElementHtml);\n\n  }\n}\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n * @param {object} pargs\n * @param init_loaded\n * @param pause_media\n * @param init_checkIfReady\n * @param handleClick_playPause\n * @returns {void}\n */\nexport const mediaSetup = (selfClass, pargs, init_loaded, pause_media, init_checkIfReady, handleClick_playPause) => {\n  var stringAudioElementHtml = '';\n\n  var setupMediaAttrs = {\n\n    'do_not_autoplay': false,\n    'called_from': 'default',\n    'newSource': '',\n  };\n\n  var $ = jQuery;\n  var o = selfClass.initOptions;\n  var cthis = selfClass.cthis;\n\n  if (pargs) {\n    setupMediaAttrs = $.extend(setupMediaAttrs, pargs);\n  }\n\n  if (selfClass.cthis && selfClass.cthis.attr('data-pcm')) {\n    assignPcmData(selfClass);\n  }\n\n  // -- these types should not exist\n  if (selfClass.audioType === 'icecast' || selfClass.audioType === 'shoutcast') {\n    selfClass.audioType = 'selfHosted';\n  }\n\n  if (o.cueMedia === 'off') {\n    if (selfClass.ajax_view_submitted === 'auto') {\n      // -- why is view submitted ?\n      selfClass.increment_views = 1;\n      selfClass.ajax_view_submitted = 'off';\n    }\n  }\n\n  if (selfClass.isPlayerLoaded) {\n    return;\n  }\n  if (cthis.attr('data-original-type') === 'youtube') {\n    return;\n  }\n\n\n  if (selfClass.audioType === 'youtube') {\n    dzsap_youtube_setupMedia(selfClass, setupMediaAttrs);\n  }\n  // -- END youtube\n\n\n  if (setupMediaAttrs.newSource) {\n    selfClass.data_source = setupMediaAttrs.newSource;\n  }\n\n  if (is_ios()) {\n    o.preload_method = 'metadata';\n  }\n\n  const stringAudioElement = buildAudioElementHtml(selfClass, selfClass.audioTypeSelfHosted_streamType, 'setup_media');\n  stringAudioElementHtml = stringAudioElement.stringAudioElementHtml;\n\n  if (selfClass.audioType === 'selfHosted' || selfClass.audioType === 'soundcloud') {\n\n    mediaSetupElement(setupMediaAttrs, selfClass, stringAudioElement, stringAudioElementHtml);\n\n    if (selfClass.$mediaNode_ && selfClass.$mediaNode_.addEventListener && selfClass.cthis.attr('data-source') !== 'fake') {\n      setupMediaListeners(selfClass, setupMediaAttrs, init_loaded, selfClass.volume_lastVolume, volume_setVolume)\n    }\n\n  }\n\n  selfClass.cthis.addClass('media-setuped');\n\n\n  if (setupMediaAttrs.called_from === 'change_media') {\n    return;\n  }\n\n  if (selfClass.audioType !== 'youtube') {\n    if (selfClass.cthis.attr('data-source') === 'fake') {\n      if (is_ios() || is_android()) {\n        init_loaded(setupMediaAttrs);\n      }\n    } else {\n      if (is_ios()) {\n\n        setTimeout(function () {\n          init_loaded(setupMediaAttrs);\n        }, 1000);\n\n\n      } else {\n\n        // -- check_ready() will fire init_loaded()\n        selfClass.inter_checkReady = setInterval(function () {\n          init_checkIfReady(setupMediaAttrs);\n        }, 50);\n      }\n\n    }\n\n\n    if (o.preload_method === 'none') {\n      makeMediaPreloadInTheFuture(selfClass);\n    }\n\n\n    if (o.design_skin === 'skin-customcontrols' || o.design_skin === 'skin-customhtml') {\n      cthis.find('.custom-play-btn,.custom-pause-btn').off('click');\n      cthis.find('.custom-play-btn,.custom-pause-btn').on('click', handleClick_playPause);\n    }\n\n    if (o.failsafe_repair_media_element) {\n      repairMediaElement(selfClass, stringAudioElementHtml);\n\n    }\n  }\n\n  if (o.skinwave_enableSpectrum === 'on') {\n    player_initSpectrumOnUserAction(selfClass);\n  }\n\n  selfClass.isSetupedMedia = true;\n}\n\n","import {ConstantsDzsAp} from \"../configs/_constants\";\n\n\nexport function retrieve_soundcloud_url(selfClass, pargs) {\n\n\n  var o = selfClass.initOptions;\n\n  if (o.soundcloud_apikey == '') {\n    alert('soundcloud api key not defined, read docs!');\n  }\n  var aux = 'https://api.' + 'soundcloud.com' + '/resolve?url=' + selfClass.data_source + '&format=json&consumer_key=' + o.soundcloud_apikey;\n\n\n\n  aux = encodeURIComponent(aux);\n\n\n  var soundcloud_retriever = o.php_retriever + '?scurl=' + aux;\n\n\n  jQuery.ajax({\n    type: \"GET\",\n    url: soundcloud_retriever\n    , data: {}\n    , async: true\n    , dataType: 'text'\n    , error: function (err, q, t) {\n\n    }\n    , success: function (response) {\n\n\n      var data = [];\n\n\n      let newSource = '';\n      try {\n        data = JSON.parse(response);\n\n        selfClass.audioType = 'selfHosted';\n\n\n        if (data == '') {\n          selfClass.cthis.addClass(ConstantsDzsAp.ERRORED_OUT_CLASS);\n          selfClass.cthis.append('<div class=\"feedback-text\">soundcloud track does not seem to serve via api</div>');\n        }\n\n\n\n        selfClass.original_real_mp3 = selfClass.cthis.attr('data-source');\n        if (data.stream_url) {\n\n          newSource = data.stream_url + '?consumer_key=' + o.soundcloud_apikey + '&origin=localhost';\n          selfClass.cthis.attr('data-source', newSource);\n\n\n          if (selfClass.$feed_fakeButton) {\n            selfClass.$feed_fakeButton.attr('data-source', newSource);\n          }\n          if (selfClass._sourcePlayer) {\n            selfClass._sourcePlayer.attr('data-source', newSource);\n          }\n        } else {\n\n          selfClass.cthis.addClass(ConstantsDzsAp.ERRORED_OUT_CLASS);\n          selfClass.cthis.append('<div class=\"feedback-text \">this soundcloud track does not allow streaming  </div>');\n        }\n        selfClass.data_source = newSource;\n\n\n        if (selfClass.cthis.attr('data-pcm')) {\n          selfClass.isAlreadyHasRealPcm = true;\n        }\n        if (o.design_skin == 'skin-wave') {\n          if (o.skinwave_wave_mode == 'canvas') {\n            if (selfClass.isAlreadyHasRealPcm == false) {\n              if ((o.pcm_data_try_to_generate == 'on' && o.pcm_data_try_to_generate_wait_for_real_pcm == 'on') == false) {\n                window.scrubModeWave__initGenerateWaveData(selfClass, {\n                  'call_from': 'soundcloud init(), pcm not real..'\n                });\n              }\n            }\n          }\n        }\n\n        selfClass.setup_media({\n          'called_from': 'change_media'\n        });\n\n\n        setTimeout(function () {\n\n\n          if (selfClass.isPlayPromised) {\n            selfClass.play_media({\n              'call_from': 'change_media'\n            })\n            selfClass.isPlayPromised = false;\n          }\n        }, 300);\n      } catch (err) {\n        console.log('soduncloud parse error -', response, ' - ', soundcloud_retriever);\n      }\n    }\n  });\n\n}\n","\n\n\nexport const playbtn_svg = '<svg class=\"svg-icon\" version=\"1.2\" baseProfile=\"tiny\" id=\"Layer_1\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"25px\" height=\"30px\" viewBox=\"0 0 25 30\" xml:space=\"preserve\"> <path d=\"M24.156,13.195L2.406,0.25C2.141,0.094,1.867,0,1.555,0C0.703,0,0.008,0.703,0.008,1.562H0v26.875h0.008 C0.008,29.297,0.703,30,1.555,30c0.32,0,0.586-0.109,0.875-0.266l21.727-12.93C24.672,16.375,25,15.727,25,15 S24.672,13.633,24.156,13.195z\"/> </svg>';\nexport const pausebtn_svg = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_3\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"12px\" height=\"13px\" viewBox=\"0 0 13.415 16.333\" enable-background=\"new 0 0 13.415 16.333\" xml:space=\"preserve\"> <path fill=\"#D2D6DB\" d=\"M4.868,14.59c0,0.549-0.591,0.997-1.322,0.997H2.2c-0.731,0-1.322-0.448-1.322-0.997V1.618 c0-0.55,0.592-0.997,1.322-0.997h1.346c0.731,0,1.322,0.447,1.322,0.997V14.59z\"/> <path fill=\"#D2D6DB\" d=\"M12.118,14.59c0,0.549-0.593,0.997-1.324,0.997H9.448c-0.729,0-1.322-0.448-1.322-0.997V1.619 c0-0.55,0.593-0.997,1.322-0.997h1.346c0.731,0,1.324,0.447,1.324,0.997V14.59z\"/> </svg>';\n\n\n\n\n\nexport const svg_share_icon = '<svg class=\"svg-icon\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" width=\"512px\" height=\"512px\" viewBox=\"0 0 511.626 511.627\" style=\"enable-background:new 0 0 511.626 511.627;\" xml:space=\"preserve\"> <g> <path d=\"M506.206,179.012L360.025,32.834c-3.617-3.617-7.898-5.426-12.847-5.426s-9.233,1.809-12.847,5.426 c-3.617,3.619-5.428,7.902-5.428,12.85v73.089h-63.953c-135.716,0-218.984,38.354-249.823,115.06C5.042,259.335,0,291.03,0,328.907 c0,31.594,12.087,74.514,36.259,128.762c0.57,1.335,1.566,3.614,2.996,6.849c1.429,3.233,2.712,6.088,3.854,8.565 c1.146,2.471,2.384,4.565,3.715,6.276c2.282,3.237,4.948,4.859,7.994,4.859c2.855,0,5.092-0.951,6.711-2.854 c1.615-1.902,2.424-4.284,2.424-7.132c0-1.718-0.238-4.236-0.715-7.569c-0.476-3.333-0.715-5.564-0.715-6.708 c-0.953-12.938-1.429-24.653-1.429-35.114c0-19.223,1.668-36.449,4.996-51.675c3.333-15.229,7.948-28.407,13.85-39.543 c5.901-11.14,13.512-20.745,22.841-28.835c9.325-8.09,19.364-14.702,30.118-19.842c10.756-5.141,23.413-9.186,37.974-12.135 c14.56-2.95,29.215-4.997,43.968-6.14s31.455-1.711,50.109-1.711h63.953v73.091c0,4.948,1.807,9.232,5.421,12.847 c3.62,3.613,7.901,5.424,12.847,5.424c4.948,0,9.232-1.811,12.854-5.424l146.178-146.183c3.617-3.617,5.424-7.898,5.424-12.847 C511.626,186.92,509.82,182.636,506.206,179.012z\" fill=\"#696969\"/> </g></svg> ';\n\n\n\nexport const svg_embed_button = ' <svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_1\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"10.975px\" height=\"14.479px\" viewBox=\"0 0 10.975 14.479\" enable-background=\"new 0 0 10.975 14.479\" xml:space=\"preserve\"> <g> <path d=\"M2.579,1.907c0.524-0.524,1.375-0.524,1.899,0l4.803,4.804c0.236-0.895,0.015-1.886-0.687-2.587L5.428,0.959 c-1.049-1.05-2.75-1.05-3.799,0L0.917,1.671c-1.049,1.05-1.049,2.751,0,3.801l3.167,3.166c0.7,0.702,1.691,0.922,2.587,0.686 L1.867,4.52c-0.524-0.524-0.524-1.376,0-1.899L2.579,1.907z M5.498,13.553c1.05,1.05,2.75,1.05,3.801,0l0.712-0.713 c1.05-1.05,1.05-2.75,0-3.8L6.843,5.876c-0.701-0.7-1.691-0.922-2.586-0.686l4.802,4.803c0.524,0.525,0.524,1.376,0,1.897 l-0.713,0.715c-0.523,0.522-1.375,0.522-1.898,0L1.646,7.802c-0.237,0.895-0.014,1.886,0.686,2.586L5.498,13.553z\"/> </g> </svg> ';\n\n\n\nexport const svg_prev_btn = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"14px\" height=\"14px\" viewBox=\"0 0 12.5 12.817\" enable-background=\"new 0 0 12.5 12.817\" xml:space=\"preserve\"> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M2.581,7.375c-0.744-0.462-1.413-0.94-1.486-1.061C1.021,6.194,1.867,5.586,2.632,5.158l2.35-1.313 c0.765-0.427,1.505-0.782,1.646-0.789s0.257,1.03,0.257,1.905V7.87c0,0.876-0.051,1.692-0.112,1.817 C6.711,9.81,5.776,9.361,5.032,8.898L2.581,7.375z\"/> </g> </g> </g> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M6.307,7.57C5.413,7.014,4.61,6.441,4.521,6.295C4.432,6.15,5.447,5.42,6.366,4.906l2.82-1.577 c0.919-0.513,1.809-0.939,1.979-0.947s0.309,1.236,0.309,2.288v3.493c0,1.053-0.061,2.033-0.135,2.182S10.144,9.955,9.25,9.4 L6.307,7.57z\"/> </g> </g> </g> </svg>';\nexport const svg_next_btn = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"14px\" height=\"14px\" viewBox=\"0 0 12.5 12.817\" enable-background=\"new 0 0 12.5 12.817\" xml:space=\"preserve\"> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M9.874,5.443c0.744,0.462,1.414,0.939,1.486,1.06c0.074,0.121-0.771,0.729-1.535,1.156L7.482,8.967 C6.719,9.394,5.978,9.75,5.837,9.756C5.696,9.761,5.581,8.726,5.581,7.851V4.952c0-0.875,0.05-1.693,0.112-1.816 c0.062-0.124,0.995,0.326,1.739,0.788L9.874,5.443z\"/> </g> </g> </g> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M6.155,5.248c0.893,0.556,1.696,1.129,1.786,1.274c0.088,0.145-0.928,0.875-1.847,1.389l-2.811,1.57 c-0.918,0.514-1.808,0.939-1.978,0.947c-0.169,0.008-0.308-1.234-0.308-2.287V4.66c0-1.052,0.061-2.034,0.135-2.182 s1.195,0.391,2.089,0.947L6.155,5.248z\"/> </g> </g> </g> </svg>';\n\n\n\n\n\nexport const svg_menu_state = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"13.25px\" height=\"13.915px\" viewBox=\"0 0 13.25 13.915\" enable-background=\"new 0 0 13.25 13.915\" xml:space=\"preserve\"> <path d=\"M1.327,4.346c-0.058,0-0.104-0.052-0.104-0.115V2.222c0-0.063,0.046-0.115,0.104-0.115H11.58 c0.059,0,0.105,0.052,0.105,0.115v2.009c0,0.063-0.046,0.115-0.105,0.115H1.327z\"/> <path d=\"M1.351,8.177c-0.058,0-0.104-0.051-0.104-0.115V6.054c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.063-0.047,0.115-0.105,0.115H1.351z\"/> <path d=\"M1.351,12.182c-0.058,0-0.104-0.05-0.104-0.115v-2.009c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.064-0.047,0.115-0.105,0.115H1.351z\"/> </svg>';\nexport const svg_embed_btn = '<svg class=\"svg-icon\" version=\"1.2\" baseProfile=\"tiny\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"15px\" height=\"15px\" viewBox=\"0 0 15 15\" xml:space=\"preserve\"> <g id=\"Layer_1\"> <polygon fill=\"#E6E7E8\" points=\"1.221,7.067 0.494,5.422 4.963,1.12 5.69,2.767 \"/> <polygon fill=\"#E6E7E8\" points=\"0.5,5.358 1.657,4.263 3.944,10.578 2.787,11.676 \"/> <polygon fill=\"#E6E7E8\" points=\"13.588,9.597 14.887,8.34 12.268,2.672 10.969,3.93 \"/> <polygon fill=\"#E6E7E8\" points=\"14.903,8.278 14.22,6.829 9.714,11.837 10.397,13.287 \"/> </g> <g id=\"Layer_2\"> <rect x=\"6.416\" y=\"1.713\" transform=\"matrix(0.9663 0.2575 -0.2575 0.9663 2.1699 -1.6329)\" fill=\"#E6E7E8\" width=\"1.805\" height=\"11.509\"/> </g> </svg>';\n\n\nexport const svg_footer_playlist = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"13.25px\" height=\"13.915px\" viewBox=\"0 0 13.25 13.915\" enable-background=\"new 0 0 13.25 13.915\" xml:space=\"preserve\"> <path d=\"M1.327,4.346c-0.058,0-0.104-0.052-0.104-0.115V2.222c0-0.063,0.046-0.115,0.104-0.115H11.58 c0.059,0,0.105,0.052,0.105,0.115v2.009c0,0.063-0.046,0.115-0.105,0.115H1.327z\"/> <path d=\"M1.351,8.177c-0.058,0-0.104-0.051-0.104-0.115V6.054c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.063-0.047,0.115-0.105,0.115H1.351z\"/> <path d=\"M1.351,12.182c-0.058,0-0.104-0.05-0.104-0.115v-2.009c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.064-0.047,0.115-0.105,0.115H1.351z\"/> </svg>';\n\n\n","import {dzs_clean_string, is_android, is_ios, player_reinit_findIfPcmNeedsGenerating} from \"../_dzsap_helpers\";\nimport {string_curateClassName} from \"../../js_common/_dzs_helpers\";\nimport {svg_share_icon} from \"../_dzsap_svgs\";\n\n/**\n *\n * @param {jQuery} cthis\n * @param {object} o\n * @param {DzsAudioPlayer} selfClass\n */\nexport function configureAudioPlayerOptionsInitial(cthis, o, selfClass) {\n\n\n  selfClass.cthis.addClass('preload-method-' + o.preload_method);\n\n  o.wavesurfer_pcm_length = Number(o.wavesurfer_pcm_length);\n\n\n  o.settings_trigger_resize = parseInt(o.settings_trigger_resize, 10);\n\n\n  if (isNaN(parseInt(o.design_thumbh, 10)) === false) {\n    o.design_thumbh = parseInt(o.design_thumbh, 10);\n  }\n\n  if (o.skinwave_wave_mode === '') {\n    o.skinwave_wave_mode = 'canvas';\n  }\n  if (o.skinwave_enableSpectrum === 'on') {\n    o.skinwave_wave_mode = 'canvas';\n  }\n  if (o.skinwave_wave_mode_canvas_normalize === '') {\n    o.skinwave_wave_mode_canvas_normalize = 'on';\n  }\n  if (o.skinwave_wave_mode_canvas_waves_number === '' || isNaN(Number(o.skinwave_wave_mode_canvas_waves_number))) {\n    o.skinwave_wave_mode_canvas_waves_number = 3;\n  }\n\n\n  if (o.autoplay === 'on' && o.cue === 'on') {\n    o.preload_method = 'auto';\n  }\n\n  cthis.addClass(o.extra_classes_player)\n\n  if (o.design_skin === '') {\n    o.design_skin = 'skin-default';\n  }\n\n\n  if (selfClass.cthis.find('.feed-dzsap--embed-code').length) {\n\n    selfClass.feedEmbedCode = selfClass.cthis.find('.feed-dzsap--embed-code').eq(0).html();\n  } else {\n    if (o.embed_code !== '') {\n      selfClass.feedEmbedCode = o.embed_code;\n    }\n  }\n\n  if (is_ios()) {\n\n    if (selfClass.initOptions.skinwave_enableSpectrum === 'on') {\n      selfClass.initOptions.skinwave_enableSpectrum = 'off';\n    }\n\n  }\n\n  const skin_regex = / skin-/g;\n\n\n  if (skin_regex.test(cthis.attr('class'))) {\n\n  } else {\n\n    cthis.addClass(o.design_skin);\n  }\n\n\n  if (cthis.hasClass('skin-default')) {\n    o.design_skin = 'skin-default';\n  }\n  if (cthis.hasClass('skin-wave')) {\n    o.design_skin = 'skin-wave';\n  }\n  if (cthis.hasClass('skin-justthumbandbutton')) {\n    o.design_skin = 'skin-justthumbandbutton';\n  }\n  if (cthis.hasClass('skin-pro')) {\n    o.design_skin = 'skin-pro';\n  }\n  if (cthis.hasClass('skin-aria')) {\n    o.design_skin = 'skin-aria';\n  }\n  if (cthis.hasClass('skin-silver')) {\n    o.design_skin = 'skin-silver';\n  }\n  if (cthis.hasClass('skin-redlights')) {\n    o.design_skin = 'skin-redlights';\n  }\n  if (cthis.hasClass('skin-steel')) {\n    o.design_skin = 'skin-steel';\n  }\n  if (cthis.hasClass('skin-customcontrols')) {\n    o.design_skin = 'skin-customcontrols';\n  }\n\n\n  if (o.design_skin === 'skin-wave') {\n    if (o.scrubbar_type === 'auto') {\n      o.scrubbar_type = 'wave';\n    }\n  }\n  if (o.scrubbar_type === 'auto') {\n    o.scrubbar_type = 'bar';\n  }\n\n  if (o.settings_php_handler === 'wpdefault') {\n    o.settings_php_handler = window.ajaxurl;\n  }\n  if (o.action_received_time_total === 'wpdefault') {\n    o.action_received_time_total = window.dzsap_send_total_time;\n  }\n  if (o.action_video_contor_60secs === 'wpdefault') {\n    o.action_video_contor_60secs = window.action_video_contor_60secs;\n  }\n\n\n  if (is_ios() || is_android()) {\n    o.autoplay = 'off';\n    o.disable_volume = 'on';\n    if (o.cueMedia === 'off') {\n      o.cueMedia = 'on';\n    }\n    o.cueMedia = 'on';\n  }\n\n  if (cthis.attr('data-viewsubmitted') === 'on') {\n    selfClass.ajax_view_submitted = 'on';\n\n\n  }\n  if (cthis.attr('data-userstarrating')) {\n    selfClass.starrating_alreadyrated = Number(cthis.attr('data-userstarrating'));\n  }\n\n  if (cthis.attr('data-loop') === 'on') {\n    selfClass.initOptions.loop = 'on';\n  }\n\n\n  if (cthis.hasClass('skin-minimal')) {\n    o.design_skin = 'skin-minimal';\n    if (o.disable_volume === 'default') {\n      o.disable_volume = 'on';\n    }\n\n    if (o.disable_scrub === 'default') {\n      o.disable_scrub = 'on';\n    }\n    o.disable_timer = 'on';\n  }\n  if (cthis.hasClass('skin-minion')) {\n    o.design_skin = 'skin-minion';\n    if (o.disable_volume === 'default') {\n      o.disable_volume = 'on';\n    }\n\n    if (o.disable_scrub === 'default') {\n      o.disable_scrub = 'on';\n    }\n\n    o.disable_timer = 'on';\n  }\n\n\n  if (o.design_color_bg) {\n    o.design_wave_color_bg = o.design_color_bg;\n  }\n\n\n  if (o.design_color_highlight) {\n    o.design_wave_color_progress = o.design_color_highlight;\n  }\n\n\n  if (o.design_skin === 'skin-justthumbandbutton') {\n    if (o.design_thumbh === 'default') {\n      o.design_thumbh = '';\n\n    }\n    o.disable_timer = 'on';\n    o.disable_volume = 'on';\n\n    if (o.design_animateplaypause === 'default') {\n      o.design_animateplaypause = 'on';\n    }\n  }\n  if (o.design_skin === 'skin-redlights') {\n    o.disable_timer = 'on';\n    o.disable_volume = 'off';\n    if (o.design_animateplaypause === 'default') {\n      o.design_animateplaypause = 'on';\n    }\n\n  }\n  if (o.design_skin === 'skin-steel') {\n    if (o.disable_timer === 'default') {\n\n      o.disable_timer = 'off';\n    }\n    o.disable_volume = 'on';\n    if (o.design_animateplaypause === 'default') {\n      o.design_animateplaypause = 'on';\n    }\n\n\n    if (o.disable_scrub === 'default') {\n      o.disable_scrub = 'on';\n    }\n\n  }\n  if (o.design_skin === 'skin-customcontrols') {\n    if (o.disable_timer === 'default') {\n\n      o.disable_timer = 'on';\n    }\n    o.disable_volume = 'on';\n    if (o.design_animateplaypause === 'default') {\n      o.design_animateplaypause = 'on';\n    }\n\n\n    if (o.disable_scrub === 'default') {\n      o.disable_scrub = 'on';\n    }\n\n  }\n\n  if (o.skinwave_wave_mode_canvas_mode === 'reflecto') {\n    o.skinwave_wave_mode_canvas_reflection_size = 0.5;\n\n\n  }\n\n  if (o.skinwave_wave_mode_canvas_mode === 'reflecto') {\n    o.skinwave_wave_mode_canvas_reflection_size = 0.5;\n\n  }\n\n\n  if (o.embed_code === '') {\n    if (cthis.find('div.feed-embed-code').length > 0) {\n      o.embed_code = cthis.find('div.feed-embed-code').eq(0).html();\n    }\n  }\n\n  if (o.design_animateplaypause === 'default') {\n    o.design_animateplaypause = 'off';\n  }\n\n  if (o.design_animateplaypause === 'on') {\n    cthis.addClass('design-animateplaypause');\n  }\n\n  if (window.dzsap_settings) {\n    if (window.dzsap_settings.ajax_url) {\n      if (!o.settings_php_handler) {\n\n        o.settings_php_handler = window.dzsap_settings.ajax_url;\n      }\n    }\n  }\n\n  if (o.settings_php_handler) {\n    selfClass.urlToAjaxHandler = o.settings_php_handler;\n  } else {\n    if (window.dzsap_settings && window.dzsap_settings.php_handler) {\n\n      selfClass.urlToAjaxHandler = window.dzsap_settings.php_handler;\n    }\n  }\n\n\n  player_reinit_findIfPcmNeedsGenerating(selfClass);\n\n}\n\nexport function player_detect_skinwave_mode() {\n\n  const selfClass = this;\n\n\n  selfClass.skinwave_mode = selfClass.initOptions.skinwave_mode;\n\n  if (selfClass.cthis.hasClass('skin-wave-mode-small')) {\n    selfClass.skinwave_mode = 'small'\n  }\n  if (selfClass.cthis.hasClass('skin-wave-mode-alternate')) {\n    selfClass.skinwave_mode = 'alternate'\n  }\n  if (selfClass.cthis.hasClass('skin-wave-mode-bigwavo')) {\n    selfClass.skinwave_mode = 'bigwavo'\n  }\n}\n\n\n\nexport function player_viewApplySkinWaveModes(selfClass) {\n\n\n  var o = selfClass.initOptions;\n\n  selfClass.cthis.removeClass('skin-wave-mode-normal');\n\n  if (o.design_skin === 'skin-wave') {\n    selfClass.cthis.addClass('skin-wave-mode-' + selfClass.skinwave_mode);\n\n\n    selfClass.cthis.addClass('skin-wave-wave-mode-' + o.skinwave_wave_mode);\n    if (o.skinwave_enableSpectrum === 'on') {\n      selfClass.cthis.addClass('skin-wave-is-spectrum');\n    }\n    selfClass.cthis.addClass('skin-wave-wave-mode-canvas-mode-' + o.skinwave_wave_mode_canvas_mode);\n  }\n\n\n}\n\nexport function player_determineHtmlAreas(selfClass) {\n\n  var o = selfClass.initOptions;\n\n\n  let extraHtmlBottom = '';\n  let extraHtmlControlsLeft = '';\n  let extraHtmlControlsRight = '';\n\n\n  if (selfClass.cthis.children('.feed-dzsap--extra-html').length > 0 && o.settings_extrahtml === '') {\n    selfClass.cthis.children('.feed-dzsap--extra-html').each(function () {\n\n      let newExtraHtmlSectionClassName = string_curateClassName(this.className);\n      extraHtmlBottom += `<section class=\"dzsap-extra-html--section-bottom ${newExtraHtmlSectionClassName}\">${this.innerHTML}</section>`;\n    })\n    selfClass.cthis.children('.feed-dzsap--extra-html').remove();\n  } else {\n    if (o.settings_extrahtml) {\n      extraHtmlBottom = o.settings_extrahtml;\n    }\n  }\n\n\n  if (selfClass.cthis.children('.feed-dzsap--extra-html-in-controls-left').length > 0) {\n    extraHtmlControlsLeft = selfClass.cthis.children('.feed-dzsap--extra-html-in-controls-left').eq(0).html();\n  }\n  if (selfClass.cthis.children('.feed-dzsap--extra-html-in-controls-right').length > 0) {\n    extraHtmlControlsRight = selfClass.cthis.children('.feed-dzsap--extra-html-in-controls-right').eq(0).html();\n  }\n  if (selfClass.cthis.children('.feed-dzsap--extra-html-bottom').length > 0) {\n    extraHtmlBottom = selfClass.cthis.children('.feed-dzsap--extra-html-bottom').eq(0).html();\n  }\n\n\n  selfClass.extraHtmlAreas.controlsLeft = extraHtmlControlsLeft;\n  selfClass.extraHtmlAreas.controlsRight = extraHtmlControlsRight;\n  selfClass.extraHtmlAreas.bottom = extraHtmlBottom;\n\n\n  if (selfClass.extraHtmlAreas.controlsRight) {\n    selfClass.extraHtmlAreas.controlsRight = String(selfClass.extraHtmlAreas.controlsRight).replace(/{{svg_share_icon}}/g, svg_share_icon);\n  }\n\n\n  for (var key in selfClass.extraHtmlAreas) {\n\n    selfClass.extraHtmlAreas[key] = String(selfClass.extraHtmlAreas[key]).replace('{{heart_svg}}', '\\t&hearts;');\n    selfClass.extraHtmlAreas[key] = String(selfClass.extraHtmlAreas[key]).replace('{{embed_code}}', selfClass.feedEmbedCode);\n  }\n}\n\n\nexport function player_determineActualPlayer(selfClass) {\n\n  var $ = jQuery;\n  var $fakePlayer = $(selfClass.cthis.attr('data-fakeplayer'));\n\n\n  if ($fakePlayer.length === 0) {\n    $fakePlayer = $(String(selfClass.cthis.attr('data-fakeplayer')).replace('#', '.'));\n    if ($fakePlayer.length) {\n      selfClass._actualPlayer = $(String(selfClass.cthis.attr('data-fakeplayer')).replace('#', '.'));\n      selfClass.cthis.attr('data-fakeplayer', String(selfClass.cthis.attr('data-fakeplayer')).replace('#', '.'));\n    }\n  }\n\n  if ($fakePlayer.length === 0) {\n    selfClass.cthis.attr('data-fakeplayer', '');\n  } else {\n    selfClass.cthis.addClass('player-is-feeding is-source-player-for-actual-player');\n    if (selfClass.cthis.attr('data-type')) {\n      selfClass._actualPlayer = $(selfClass.cthis.attr('data-fakeplayer')).eq(0);\n      selfClass._actualPlayer.addClass('player-is-feeded');\n      selfClass.actualDataTypeOfMedia = selfClass.cthis.attr('data-type');\n      selfClass.cthis.attr('data-original-type', selfClass.actualDataTypeOfMedia);\n    }\n  }\n}\n\n\nexport function player_adjustIdentifiers(selfClass) {\n\n  selfClass.identifier_pcm = selfClass.the_player_id;\n\n\n  var _feed_obj = null;\n\n  if (selfClass.$feed_fakeButton) {\n    _feed_obj = selfClass.$feed_fakeButton;\n  } else {\n    if (selfClass._sourcePlayer) {\n      _feed_obj = selfClass._sourcePlayer;\n    } else {\n      _feed_obj = null;\n    }\n  }\n\n\n  if (selfClass.identifier_pcm === 'dzs_footer') {\n    selfClass.identifier_pcm = dzs_clean_string(selfClass.cthis.attr('data-source'));\n  }\n\n  if (_feed_obj) {\n    if (_feed_obj.attr('data-playerid')) {\n      selfClass.identifier_pcm = _feed_obj.attr('data-playerid');\n    } else {\n      if (_feed_obj.attr('data-source')) {\n        selfClass.identifier_pcm = _feed_obj.attr('data-source');\n      }\n    }\n  }\n\n  if (typeof selfClass.identifier_pcm === 'string') {\n    selfClass.identifier_pcm = selfClass.identifier_pcm.replace('ap', '');\n  }\n\n}\n","import {isValidTotalTime} from \"./media/_media_functions\";\n\n/**\n * @property actualTotalTime\n */\nexport class PlayerTime {\n\n  /**\n   *\n   * @param {DzsAudioPlayer} selfClass\n   */\n  constructor(selfClass) {\n\n    this.timeCurrent = 0;\n    this.timeTotal = 0;\n    this.sampleTimeStart = null;\n    this.sampleTimeEnd = null;\n    this.sampleTimeTotal = null;\n\n    this.referenceMediaCurrentTime = 0;\n    this.referenceMediaTotalTime = 0;\n\n    this.visualCurrentTime = null;\n    this.visualTotalTime = null;\n\n    this.actualTotalTime = null;\n\n\n    this.dzsapInstance = selfClass;\n    this.init();\n  }\n\n  init() {\n\n\n  }\n\n  initObjects() {\n\n    var selfClass = this.dzsapInstance;\n    var timeInstance = this;\n\n\n    // -- set current time\n    selfClass.cthis.get(0).api_set_timeVisualCurrent = function (arg) {\n      timeInstance.visualCurrentTime = arg;\n\n\n    }\n    selfClass.cthis.get(0).api_get_time_total = function () {\n\n      return timeInstance.getVisualTotalTime();\n    }\n    selfClass.cthis.get(0).api_get_time_curr = function () {\n      return timeInstance.getVisualCurrentTime();\n    };\n\n    // -- set total time\n    selfClass.cthis.get(0).api_set_timeVisualTotal = function (arg) {\n\n\n      timeInstance.visualTotalTime = arg;\n      timeInstance.refreshTimes();\n\n\n    };\n  }\n\n\n  /**\n   * called from enterFrame and other places\n   */\n  refreshTimes() {\n\n    const getCurrentTime = () => {\n      if (0 && selfClass.spectrum_audioContext_buffer && selfClass.spectrum_audioContext_buffer !== 'placeholder' && selfClass.spectrum_audioContext_buffer !== 'waiting') {\n\n        if (selfClass._actualPlayer === null) {\n          return selfClass.spectrum_audioContext.currentTime;\n        }\n\n      } else {\n\n        // -- normal\n        if (selfClass.$mediaNode_) {\n          if (selfClass._actualPlayer === null) {\n            return selfClass.$mediaNode_.currentTime;\n          }\n        }\n      }\n\n    }\n\n    var selfClass = this.dzsapInstance;\n\n\n    // -- trying to get current time\n\n    if ((selfClass.audioType === 'selfHosted' || (selfClass.audioType === 'fake' && selfClass._actualPlayer))) {\n      if (selfClass.audioTypeSelfHosted_streamType === '') {\n\n\n        if (selfClass.$mediaNode_ && isValidTotalTime(selfClass.$mediaNode_.duration)) {\n          this.referenceMediaTotalTime = selfClass.$mediaNode_.duration;\n        }\n\n        this.referenceMediaCurrentTime = getCurrentTime();\n\n\n\n        if (selfClass.playFrom === 'last' && selfClass.playFrom_ready) {\n          if (typeof Storage !== 'undefined') {\n            localStorage['dzsap_' + selfClass.the_player_id + '_lastpos'] = selfClass.timeCurrent;\n          }\n        }\n\n\n      }\n\n\n    }\n\n\n\n    if ((selfClass.audioType === 'youtube')) {\n\n      if(selfClass.$mediaNode_ && selfClass.$mediaNode_.getDuration){\n        this.referenceMediaCurrentTime = selfClass.$mediaNode_.getCurrentTime();\n        this.referenceMediaTotalTime = selfClass.$mediaNode_.getDuration();\n      }\n\n    }\n\n    if (selfClass._sourcePlayer && selfClass._sourcePlayer.get(0)) {\n\n\n      if (selfClass._sourcePlayer.get(0).api_get_time_curr) {\n        if (isNaN(selfClass._sourcePlayer.get(0).api_get_time_total()) || selfClass._sourcePlayer.get(0).api_get_time_total() === '' || selfClass._sourcePlayer.get(0).api_get_time_total() < 1) {\n          selfClass._sourcePlayer.get(0).api_set_timeVisualTotal(this.getVisualTotalTime());\n        }\n      }\n    }\n\n\n    // -- setting real times ( if actual player is not there )\n    if (selfClass._actualPlayer === null && this.referenceMediaCurrentTime > -1) {\n      selfClass.timeCurrent = this.referenceMediaCurrentTime;\n    }\n\n    if (selfClass._actualPlayer === null && this.referenceMediaTotalTime > -1) {\n      selfClass.timeTotal = this.referenceMediaTotalTime;\n    }\n\n\n    if (this.sampleTimeStart) {\n      if (this.sampleTimeEnd) {\n        if (selfClass.timeCurrent > this.sampleTimeEnd) {\n          var args = {\n            'call_from': 'time_curr>sample_time_end'\n          }\n          selfClass.handle_end(args);\n\n          selfClass.isMediaEnded = true;\n\n          clearTimeout(selfClass.inter_isEnded);\n          selfClass.inter_isEnded = setTimeout(function () {\n\n            selfClass.isMediaEnded = false;\n          }, 1000);\n        }\n      }\n    }\n  }\n\n  /**\n   * call on every playing frame\n   */\n  processCurrentFrame() {\n\n    var selfClass = this.dzsapInstance;\n    if (selfClass._sourcePlayer) {\n      if (selfClass._sourcePlayer.get(0)) {\n        if (selfClass._sourcePlayer.get(0).api_get_time_curr) {\n          selfClass._sourcePlayer.get(0).api_set_timeVisualCurrent(selfClass.timeCurrent);\n        }\n      }\n\n\n      if (selfClass._sourcePlayer.get(0) && selfClass._sourcePlayer.get(0).api_seek_to_visual) {\n        var temp_time_curr = selfClass.timeCurrent;\n        // TODO: to be continued\n\n\n        selfClass._sourcePlayer.get(0).api_seek_to_visual(temp_time_curr / selfClass.timeTotal);\n      } else {\n      }\n\n    }\n\n\n    // -- check end track\n    if (selfClass.isSafeToChangeTrack && this.timeTotal > 1 && this.timeCurrent >= this.timeTotal - 0.07) {\n      var args = {\n        'call_from': 'selfClass.timeTotal > 0 && selfClass.timeCurrent >= selfClass.timeTotal - 0.07 ... '\n      }\n\n      if (!selfClass._actualPlayer) {\n\n        selfClass.handle_end(args);\n        selfClass.isMediaEnded = true;\n\n\n        clearTimeout(selfClass.inter_isEnded);\n        selfClass.inter_isEnded = setTimeout(function () {\n          selfClass.isMediaEnded = false;\n        }, 1000);\n      }\n    }\n\n  }\n\n  getVisualCurrentTime() {\n\n    var selfClass = this.dzsapInstance;\n\n\n    if (selfClass._actualPlayer === null && this.referenceMediaCurrentTime > -1) {\n      return this.referenceMediaCurrentTime;\n    }\n\n\n    if (this.visualCurrentTime) {\n      return this.visualCurrentTime;\n    }\n\n\n    if (selfClass.playFrom) {\n      return selfClass.playFrom;\n    }\n\n    // todo: offsetVisual\n\n\n    return 0;\n  }\n\n  getActualTotalTime() {\n    return this.actualTotalTime;\n  }\n\n  /**\n   *\n   * @returns {null|number}\n   */\n  getVisualTotalTime() {\n    var selfClass = this.dzsapInstance;\n\n\n    if (this.sampleTimeTotal) {\n      return this.sampleTimeTotal;\n    }\n\n\n    if (selfClass._actualPlayer === null) {\n      if (this.referenceMediaTotalTime > -1) {\n        return this.referenceMediaTotalTime;\n      }\n    } else {\n      // -- has footer player\n\n      if (this.visualTotalTime) {\n        return this.visualTotalTime;\n      }\n      //-- last resort\n      if (this.referenceMediaTotalTime > -1) {\n        return this.referenceMediaTotalTime;\n      }\n    }\n\n\n    return 0;\n  }\n\n  /**\n   * compare target scrub time with sample times\n   * @param targetTime\n   * @returns {*}\n   */\n  getActualTargetTime(targetTime) {\n    if (this.sampleTimeStart) {\n      if (targetTime < this.sampleTimeStart) {\n        targetTime = this.sampleTimeStart;\n      }\n      if (targetTime > this.sampleTimeEnd) {\n        targetTime = this.sampleTimeEnd;\n      }\n    }\n\n    return targetTime;\n  }\n\n  getSampleTimesFromDom($targetPlayer = null) {\n    var selfClass = this.dzsapInstance;\n\n    selfClass.sample_time_start = 0;\n    selfClass.sample_time_total = 0;\n    selfClass.sample_time_start = 0;\n    selfClass.pseudo_sample_time_end = 0;\n\n\n    if ($targetPlayer === null) {\n      $targetPlayer = selfClass.cthis;\n    }\n\n\n    if ($targetPlayer.attr('data-sample_time_start')) {\n      this.sampleTimeStart = Number($targetPlayer.attr('data-sample_time_start'));\n    }\n    if ($targetPlayer.attr('data-sample_time_end')) {\n      this.sampleTimeEnd = Number($targetPlayer.attr('data-sample_time_end'));\n    }\n    if ($targetPlayer.attr('data-sample_time_total')) {\n      this.sampleTimeTotal = Number($targetPlayer.attr('data-sample_time_total'));\n    }\n\n\n    // -- *side-effect: send to selfClass\n    selfClass.sample_perc_start = selfClass.sample_time_start / selfClass.sample_time_total;\n    selfClass.sample_perc_end = selfClass.sample_time_end / selfClass.sample_time_total;\n\n\n    selfClass.isSample = !!((this.sampleTimeTotal && this.sampleTimeStart) || (this.sampleTimeStart && this.sampleTimeEnd));\n\n  }\n}\n","import {dzs_clean_string, htmlEncode} from './_dzsap_helpers';\nimport {decode_json} from '../js_common/_dzs_helpers';\n\nexport const ajax_submit_views = function (argp) {\n\n\n  var selfClass = this;\n  var $ = jQuery;\n  var data = {\n    action: 'dzsap_submit_views',\n    postdata: 1,\n    playerid: selfClass.the_player_id,\n    currip: selfClass.currIp,\n    playerSource: selfClass.data_source\n  };\n\n\n\n  if (selfClass.cthis.attr('data-playerid-for-views')) {\n    data.playerid = selfClass.cthis.attr('data-playerid-for-views');\n  }\n\n\n  if (data.playerid == '') {\n    data.playerid = dzs_clean_string(selfClass.data_source);\n  }\n\n\n  // -- submit view\n  if (selfClass.urlToAjaxHandler) {\n    $.ajax({\n      type: \"POST\",\n      url: selfClass.urlToAjaxHandler,\n      data: data,\n      success: function (response) {\n\n        // -- increase number of hits\n        let auxnr = selfClass.cthis.find('.counter-hits .the-number').html();\n        auxnr = parseInt(auxnr, 10);\n        if (selfClass.increment_views != 2) {\n          auxnr++;\n        }\n        if (response) {\n          if (decode_json(response)) {\n            auxnr = decode_json(response)['number'];\n          }\n        }\n\n        selfClass.cthis.find('.counter-hits .the-number').html(auxnr);\n\n        selfClass.ajax_view_submitted = 'on';\n      },\n      error: function (arg) {\n\n\n        var auxlikes = selfClass.cthis.find('.counter-hits .the-number').html();\n        auxlikes = parseInt(auxlikes, 10);\n        auxlikes++;\n        selfClass.cthis.find('.counter-hits .the-number').html(auxlikes);\n\n        selfClass.ajax_view_submitted = 'on';\n      }\n    });\n    selfClass.ajax_view_submitted = 'on';\n  }\n\n}\n\nexport const ajax_submit_like = function (argp) {\n  var selfClass = this;\n  var $ = jQuery;\n\n  //only handles ajax call + result\n  var mainarg = argp;\n  var data = {\n    action: 'dzsap_submit_like',\n    postdata: mainarg,\n    playerid: selfClass.the_player_id,\n    playerSource: selfClass.data_source\n  };\n\n\n  selfClass.cthis.find('.btn-like').addClass('disabled');\n\n  if (selfClass.urlToAjaxHandler || selfClass.cthis.hasClass('is-preview')) {\n\n    $.ajax({\n      type: \"POST\",\n      url: selfClass.urlToAjaxHandler,\n      data: data,\n      success: function (response) {\n\n\n        selfClass.cthis.find('.btn-like').addClass('active');\n        selfClass.cthis.find('.btn-like').removeClass('disabled');\n        var auxlikes = selfClass.cthis.find('.counter-likes .the-number').html();\n        auxlikes = parseInt(auxlikes, 10);\n        auxlikes++;\n        selfClass.cthis.find('.counter-likes .the-number').html(auxlikes);\n      },\n      error: function (arg) {\n\n\n        selfClass.cthis.find('.btn-like').addClass('active');\n        selfClass.cthis.find('.btn-like').removeClass('disabled');\n        var auxlikes = selfClass.cthis.find('.counter-likes .the-number').html();\n        auxlikes = parseInt(auxlikes, 10);\n        auxlikes++;\n        selfClass.cthis.find('.counter-likes .the-number').html(auxlikes);\n      }\n    });\n  }\n}\n\n\n\nexport const ajax_comment_publish = function (argp) {\n  // -- only handles ajax call + result\n  var selfClass = this;\n  var $ = jQuery;\n  var o = selfClass.initOptions;\n\n\n  var mainarg = argp;\n  var data = {\n    action: 'dzsap_front_submitcomment',\n    postdata: mainarg,\n    playerid: selfClass.the_player_id,\n    comm_position: selfClass.commentPositionPerc,\n  };\n\n  if (window.dzsap_settings) {\n    data.skinwave_comments_avatar = window.dzsap_settings.comments_avatar;\n    data.skinwave_comments_account = window.dzsap_settings.comments_username;\n  }\n\n  if (selfClass.cthis.find('*[name=comment-email]').length > 0) {\n    data.email = selfClass.cthis.find('*[name=comment-email]').eq(0).val();\n  }\n\n\n  if (selfClass.urlToAjaxHandler) {\n    jQuery.ajax({\n      type: \"POST\",\n      url: selfClass.urlToAjaxHandler,\n      data: data,\n      success: function (response) {\n        if (response.charAt(response.length - 1) == '0') {\n          response = response.slice(0, response.length - 1);\n        }\n\n\n        var fout_tooltipData = '';\n\n        // -- process php\n        fout_tooltipData = '';\n        fout_tooltipData += `<div class=\"dzstooltip-con dzsap--comment\" style=\"left:${selfClass.commentPositionPerc}\"><span class=\"dzstooltip arrow-from-start transition-slidein  arrow-bottom talign-start style-rounded color-dark-light  \" style=\"width: 250px;\"><span class=\"dzstooltip--inner\"><span class=\"the-comment-author\">@${window.dzsap_settings.comments_username}</span> says:<br>${htmlEncode(data.postdata)}</span></span><fig class=\"the-avatar\" style=\"background-image: url(${window.dzsap_settings.comments_avatar})\"></fig></div>`;\n\n\n        selfClass._commentsHolder.append(fout_tooltipData);\n\n\n        if (selfClass.action_audio_comment) {\n          selfClass.action_audio_comment(selfClass.cthis, fout_tooltipData);\n        }\n\n\n      },\n      error: function (arg) {\n\n        selfClass._commentsHolder.append(data.postdata);\n      }\n    });\n  }\n}\n\n\nexport const ajax_submit_total_time = function (selfClass) {\n\n  const isTheNeedToSendTotalTime = () => {\n\n    return !selfClass.cthis.attr('data-sample_time_total') || (selfClass.cthis.attr('data-sample_time_total') && selfClass.timeModel.getActualTotalTime() && selfClass.timeModel.getActualTotalTime() != selfClass.cthis.attr('data-sample_time_total') && !selfClass.cthis.attr('data-sample_time_end'));\n  }\n\n  if (!selfClass.isSentCacheTotalTime) {\n    if (isTheNeedToSendTotalTime()) {\n      if (window.dzsap_settings && window.dzsap_settings.action_received_time_total) {\n        selfClass.timeModel.refreshTimes();\n        window['dzsap_functions'][window.dzsap_settings.action_received_time_total](selfClass.timeModel.getActualTotalTime(), selfClass.cthis);\n      }\n    }\n    selfClass.isSentCacheTotalTime = true;\n  }\n}\n\n\nexport const ajax_submit_download = function (argp) {\n  //only handles ajax call + result\n  var mainarg = argp;\n  var selfClass = this;\n  var data = {\n    action: 'dzsap_submit_download',\n    postdata: mainarg,\n    playerid: selfClass.the_player_id\n  };\n\n  if (selfClass.starrating_alreadyrated > -1) {\n    return;\n  }\n\n  if (selfClass.urlToAjaxHandler) {\n\n    jQuery.ajax({\n      type: \"POST\",\n      url: selfClass.urlToAjaxHandler,\n      data: data,\n      success: function (response) {\n\n\n      },\n      error: function (arg) {\n\n\n      }\n    });\n  }\n};\n\n","\n\nexport class _ClassMetaParts{\n  constructor(selfClass) {\n    this.selfClass = selfClass;\n  }\n\n  set_extraHtmlFloatRight(extraHtml){\n\n\n    this.selfClass.cthis.find('.extrahtml-in-float-right').eq(0).html(extraHtml);\n  }\n\n}\n","import {ajax_comment_publish} from \"../_dzsap_ajax\";\n\nimport {formatTime} from '../_dzsap_helpers';\nimport {getRelativeX} from \"../../js_common/_dzs_helpers\";\n\nconst TOOLTIP_ALL_TALIGN_CLASSES = `talign-start talign-center talign-end`;\nconst STRUCTURE_COMMENTS_WRITER = `<div class=\"dzstooltip dzstooltip--comments-writer    talign-center arrow-top style-rounded color-dark-light    dims-set transition-slidedown \" style=\"width: 330px;\">  <div class=\"dzstooltip--inner\"><div class=\"comments-writer\"><div class=\"comments-writer-inner\">\n<div class=\"comments-writer--form\">\n\n                <div class=\"dzsap-comments--section\">\n\n                  <textarea name=\"comment-text\" placeholder=\"Your comment..\" type=\"text\" class=\"comment-input\"></textarea>\n\n                </div>\n                <div class=\"dzsap-comments--section\">\n                  <input placeholder=\"Your email..\" name=\"comment-email\" type=\"text\" class=\"comment-input\">\n                </div>\n                <div class=\"dzsap-comments--section overflow-and-fixed  \">\n\n                  <div class=\"flex-grow-1   \"><span\n                    class=\"dzsap-comments--comment-form-label\">commenting on </span> <span\n                    class=\"dzsap-comments--comment-form-label-time\">1:07</span></div>\n                  <div class=\"flex-grow-0 margin-left-auto\"><button class=\"submit-ap-comment dzs-button-dzsap float-right\">&#10148; Submit</button></div>\n                  <div class=\"clear\"></div>\n\n                </div>\n              </div>\n\n              <div class=\"comments-writer--avatar-con\">\n                <div class=\"comments-writer--avatar\" style=\"\"></div>\n              </div>\n              </div></div><span class=\"dzstooltip--close\"><span\n              class=\"label--x-button\">&#10006;</span></span></div></div>`;\n\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n */\nexport const hide_comments_writer = function (selfClass) {\n\n\n  var $ = jQuery;\n\n\n  selfClass.cthis.removeClass('comments-writer-active');\n  selfClass._commentsHolder.find('.dzstooltip-con.placeholder').remove();\n  selfClass.$commentsWritter.removeClass('active');\n  selfClass.$commentsWritter.css({\n    'height': 0\n  })\n\n\n  if (selfClass.initOptions.parentgallery && $(selfClass.initOptions.parentgallery).get(0) !== undefined && $(selfClass.initOptions.parentgallery).get(0).api_handleResize !== undefined) {\n    $(selfClass.initOptions.parentgallery).get(0).api_handleResize();\n  }\n\n  setTimeout(function () {\n\n    selfClass.cthis.find('.comments-writter-temp-css,.dzsap-style-comments').remove();\n  }, 300);\n};\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n */\nexport const comments_setupCommentsInitial = function (selfClass) {\n\n\n  var $ = jQuery;\n  var o = selfClass.initOptions;\n\n\n  if (selfClass.cthis.find('.the-comments').length > 0 && selfClass.cthis.find('.the-comments').eq(0).children().length > 0) {\n    selfClass.$commentsChildren = selfClass.cthis.find('.the-comments').eq(0).children();\n  }\n\n  var str_comments_holder = '<div class=\"comments-holder\">';\n\n\n  if (o.skinwave_comments_links_to) {\n\n    str_comments_holder += '<a href=\"' + o.skinwave_comments_links_to + '\" target=\"_blank\" class=\"the-bg\"></a>';\n  } else {\n\n    str_comments_holder += '<div class=\"the-comments-holder-bg\"><div class=\"the-avatar comments-avatar--placeholder\"></div></div>';\n  }\n\n\n  str_comments_holder += '</div><div class=\"clear\"></div>' + STRUCTURE_COMMENTS_WRITER;\n\n\n  selfClass._scrubbar.appendOnce(str_comments_holder);\n  selfClass._commentsHolder = selfClass.cthis.find('.comments-holder').eq(0);\n  selfClass.$commentsWritter = selfClass.cthis.find('.dzstooltip--comments-writer').eq(0);\n\n\n  comments_setupCommentsHolder(selfClass);\n\n\n  selfClass._commentsHolder.on('click', function (e) {\n    comments_handleClickCommentsBg(selfClass, this, e);\n  });\n  selfClass._commentsHolder.on('mousemove', function (e) {\n\n    selfClass._commentsHolder.find('.comments-avatar--placeholder').css('left', `${getRelativeX(e.pageX, e.currentTarget) - 7}px`)\n\n  });\n  selfClass.$commentsWritter.find('.dzstooltip--close').on('click', (e) => {\n    comments_handleClickCancel(selfClass, e);\n  });\n  selfClass.$commentsWritter.find('.submit-ap-comment').on('click', (e) => {\n    comments_handleClickSubmit(selfClass, e);\n  });\n}\n\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n */\nexport const comments_setupCommentsHolder = function (selfClass) {\n\n\n  var $ = jQuery;\n  var o = selfClass.initOptions;\n\n  if (selfClass._commentsHolder && selfClass.$commentsChildren) {\n\n\n    selfClass.$commentsChildren.each(function () {\n\n      var _c = $(this);\n\n\n      if (o.skinwave_comments_process_in_php === 'on') {\n\n        if (_c && _c.hasClass && _c.hasClass('dzstooltip-con')) {\n          if (_c.find('.dzstooltip > .dzstooltip--inner').length) {\n\n          } else {\n\n\n            _c.find('.dzstooltip').wrapInner('<div class=\"dzstooltip--inner\"></div>');\n\n\n            _c.find('.the-avatar').addClass('tooltip-indicator');\n            _c.find('.dzstooltip').before(_c.find('.tooltip-indicator'));\n            _c.find('.dzstooltip').addClass('talign-start style-rounded color-dark-light');\n          }\n        }\n      }\n\n      selfClass._commentsHolder.append(_c);\n    })\n  }\n\n}\n\nfunction comments_updateCommentHolderTimerWhenReady(selfClass, percClickFromScrubWidth) {\n\n\n  if (selfClass.timeModel.getVisualTotalTime()) {\n\n    selfClass.$commentsWritter.find('.dzsap-comments--comment-form-label-time').html(formatTime(percClickFromScrubWidth * selfClass.timeModel.getVisualTotalTime()));\n  } else {\n    setTimeout(() => {\n      comments_updateCommentHolderTimerWhenReady(selfClass, percClickFromScrubWidth);\n    }, 100);\n  }\n\n}\n\nexport const comments_handleClickCommentsBg = function (selfClass, argThis, e) {\n\n\n  var $ = jQuery;\n  var o = selfClass.initOptions;\n\n  var $commentsHolder = $(argThis);\n\n  var leftMouseX = parseInt(e.clientX, 10) - $commentsHolder.offset().left;\n  let percClickFromScrubWidth = leftMouseX / $commentsHolder.width();\n\n\n  selfClass.commentPositionPerc = `calc(${(percClickFromScrubWidth) * 100}% - 7px)`;\n\n\n  comments_updateCommentHolderTimerWhenReady(selfClass, percClickFromScrubWidth);\n\n  if (o.skinwave_comments_links_to) {\n    return;\n  }\n  if (o.skinwave_comments_allow_post_if_not_logged_in === 'off' && !(window.dzsap_settings && window.dzsap_settings.comments_username)) {\n    return false;\n  }\n\n  // -- start\n\n  var sw = true;\n\n\n  selfClass._commentsHolder.children().each(function () {\n    var $commentElement = $(this);\n\n\n    if ($commentElement.hasClass('placeholder') || $commentElement.hasClass('the-bg')) {\n      return;\n    }\n\n    var lmx2 = $commentElement.offset().left - $commentsHolder.offset().left;\n\n\n    if (Math.abs(lmx2 - leftMouseX) < 20) {\n      selfClass._commentsHolder.find('.dzstooltip-con.placeholder').remove();\n      sw = false;\n\n      return false;\n    }\n  })\n\n\n  if (!sw) {\n    return false;\n  }\n\n\n  // todo: assign left on tooltip\n  selfClass.$commentsWritter.css({\n    'left': `${leftMouseX}px`\n  })\n\n\n  selfClass.$commentsWritter.css('top', ((parseInt(selfClass._commentsHolder.css('top'), 10) + 20) + 'px'))\n\n\n  if (selfClass.$commentsWritter.hasClass('active') === false) {\n    selfClass.$commentsWritter.addClass('active');\n    selfClass.cthis.addClass('comments-writer-active');\n  }\n\n\n  if (window.dzsap_settings && window.dzsap_settings.comments_username) {\n    selfClass.cthis.find('input[name=comment-email]').remove();\n  } else {\n    selfClass.$commentsWritter.find('.comments-writer--avatar-con').remove();\n  }\n\n\n  add_comments_placeholder(selfClass);\n\n\n}\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n */\nfunction add_comments_placeholder(selfClass) {\n\n  var strCommentsAvatarUrl = '';\n\n  if (window.dzsap_settings && window.dzsap_settings.comments_avatar) {\n    strCommentsAvatarUrl = window.dzsap_settings.comments_avatar;\n  }\n\n  selfClass._commentsHolder.remove('.dzsap-style-comments');\n  selfClass._commentsHolder.append('<style class=\"dzsap-style-comments\">.dzstooltip-con:not(.placeholder) { opacity: 0.5; }</style>')\n  selfClass._commentsHolder.find('.dzstooltip-con.placeholder').remove();\n  selfClass._commentsHolder.append('<span class=\"dzstooltip-con placeholder\" style=\"left:' + selfClass.commentPositionPerc + ';\"><div class=\"the-avatar\" style=\"background-image: url(' + strCommentsAvatarUrl + ')\"></div></span>');\n}\n\nexport const comments_handleClickCancel = function (selfClass, e) {\n  hide_comments_writer(selfClass);\n}\n\n\nfunction comment_submit(selfClass, comment_text, comment_email, comment_username) {\n\n  var $ = jQuery;\n  var o = selfClass.initOptions;\n\n  var comm_author = '';\n  if (comment_email) {\n    const regex_mail = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    if (regex_mail.test(comment_email) == false) {\n      alert('please insert email, your email is just used for gravatar. it will not be sent or stored anywhere');\n      return false;\n    }\n\n    comm_author = String(comment_email).split('@')[0];\n\n\n    if (selfClass.$commentsSelector) {\n\n      selfClass.$commentsSelector.find('*[name=comment_email],*[name=comment_user]').remove();\n    }\n\n    if (!window.dzsap_settings) {\n      window.dzsap_settings = {};\n    }\n\n    window.dzsap_settings.comments_username = comm_author;\n    window.dzsap_settings.comments_avatar = 'https://secure.gravatar.com/avatar/' + window.MD5(String(selfClass.cthis.find('input[name=comment-email]').eq(0).val()).toLowerCase()) + '?s=20';\n  }\n\n\n  var aux = '';\n\n\n  // -- process php\n\n  aux += comment_text;\n\n\n  selfClass.cthis.find('*[name=comment-text]').eq(0).val('');\n\n\n  selfClass.cthis.find('.comments-writter-temp-css,.dzsap-style-comments').remove();\n\n\n  (ajax_comment_publish.bind(selfClass))(aux);\n\n  hide_comments_writer(selfClass);\n\n  if (o.parentgallery && $(o.parentgallery).get(0) != undefined && $(o.parentgallery).get(0).api_player_commentSubmitted != undefined) {\n    $(o.parentgallery).get(0).api_player_commentSubmitted();\n  }\n\n}\n\n\n/**\n *\n * @param selfClass\n * @param e\n * @returns {boolean}\n */\nexport const comments_handleClickSubmit = function (selfClass, e) {\n\n  var comment_email = '';\n\n  if (selfClass.cthis.find('input[name=comment-email]').length) {\n    comment_email = selfClass.cthis.find('input[name=comment-email]').eq(0).val();\n  }\n\n\n  comment_submit(selfClass, selfClass.cthis.find('*[name=comment-text]').eq(0).val(), comment_email);\n\n\n  return false;\n}\n\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n * @param e\n * @returns {boolean}\n */\nexport const comments_selector_event = function (selfClass, e) {\n  const $ = jQuery;\n  const _t = $(this);\n  let _con = null;\n\n\n  if (_t.parent().parent().hasClass('zoomsounds-comment-wrapper')) {\n    _con = _t.parent().parent();\n  }\n  if (_t.parent().parent().parent().hasClass('zoomsounds-comment-wrapper')) {\n    _con = _t.parent().parent().parent();\n  }\n\n  if (e.type == 'focusin') {\n    var spx = selfClass.timeCurrent / selfClass.timeTotal * selfClass._commentsHolder.width();\n    spx += 'px';\n    selfClass.commentPositionPerc = `calc(${selfClass.timeCurrent / selfClass.timeTotal * 100}% - 7px)`;\n\n    _con.addClass('active');\n\n    add_comments_placeholder(selfClass);\n  }\n  if (e.type == 'focusout') {\n\n\n  }\n  if (e.type == 'click') {\n\n    if (_t.hasClass('dzstooltip--close')) {\n\n      _con.removeClass('active');\n      _con.find('input').val('');\n    }\n    if (_t.hasClass('comments-btn-submit')) {\n\n\n      var comment_email = '';\n\n      if (_con.find('.comment_email').length) {\n        comment_email = _con.find('.comment_email').eq(0).val();\n      }\n\n\n      comment_submit(selfClass, _con.find('.comment_text').eq(0).val(), comment_email);\n\n\n      _con.removeClass('active');\n      _con.find('input').val('');\n\n\n      return false;\n    }\n\n\n  }\n}\n\n","import {svg_footer_playlist} from \"../_dzsap_svgs\";\nimport {DZSAP_PLAYER_CLASS_FOOTER_PLAYER} from \"../../configs/_constants\";\n\n\nwindow.dzsap_moving_playlist_item = false;\nwindow.dzsap_playlist_con = null;\nwindow.dzsap_playlist_item_moving = null;\nwindow.dzsap_playlist_item_target = null;\n\nexport class DzsapInnerPlaylist {\n  constructor(dzsapClass) {\n    this.dzsapClass = dzsapClass;\n    this.$playlistInner = null;\n  }\n\n  init() {\n\n    const selfClass = this.dzsapClass;\n\n    const thisClass = this;\n\n    selfClass._apControlsRight.append('<div class=\"btn-footer-playlist for-hover dzstooltip-con player-but\"> <div class=\"tooltip-indicator tooltip-indicator--btn-footer-playlist\"><div class=\"the-icon-bg\"></div> ' + svg_footer_playlist + '    </div><div class=\"dzstooltip playlist-tooltip style-default color-light-dark arrow-bottom talign-end transition-scaleup active2\"><div class=\"dzstooltip--inner\"> </div></div></div>');\n\n    thisClass.$playlistInner = selfClass.cthis.find('.playlist-tooltip');\n    selfClass.cthis.on('mousedown', '.the-sort-handle', handle_mouse);\n    selfClass.cthis.on('click', '.playlist-menu-item', handle_mouse);\n\n    setTimeout(function () {\n      thisClass.playlistInner_setupStructureInPlayer();\n    }, 100);\n\n\n    function handle_mouse(e) {\n\n      var $t = jQuery(this);\n      if (e.type === 'click') {\n\n        if ($t.hasClass('playlist-menu-item')) {\n\n\n          var ind = $t.parent().children().index($t);\n\n\n          thisClass.playlistInner_gotoItem(ind, {\n            'call_from': 'handle_mouse'\n          })\n\n\n        }\n      }\n      if (e.type === 'mousedown') {\n\n\n        const _con = $t.parent();\n\n        _con.parent().append(_con.clone().addClass('cloner'));\n        const _clone = _con.parent().children('.cloner').eq(0);\n\n        dzsap_playlist_con = _con.parent();\n        dzsap_moving_playlist_item = true;\n\n        dzsap_playlist_item_target = _con;\n        dzsap_playlist_item_moving = _clone;\n        _con.addClass('target-playlist-item');\n\n\n      }\n    }\n\n\n  }\n\n  playlistInner_setupStructureInPlayer(pargs) {\n    // -- setup playlist for footer\n\n    var $ = jQuery;\n    var thisClass = this;\n    var selfClass = this.dzsapClass;\n\n    var margs = {\n      'call_from': \"default\"\n    }\n\n    if (pargs) {\n      margs = $.extend(margs, pargs);\n    }\n\n\n    if (thisClass.$playlistInner) {\n      (window.dzsap_syncList_players.length) ? thisClass.$playlistInner.parent().removeClass('is-empty') : thisClass.$playlistInner.parent().addClass('is-empty');\n      // -- clear all before adding\n      thisClass.$playlistInner.find('.dzstooltip--inner').html('');\n      var stringPlaylistMenuItems = '';\n      for (var keySyncPlayer in window.dzsap_syncList_players) {\n        // -- setup inner playlist for sticky player\n\n\n        var _c = window.dzsap_syncList_players[keySyncPlayer];\n\n        if (_c.hasClass('number-wrapper') || _c.hasClass('for-number-wrapper')) {\n          continue;\n        }\n\n        stringPlaylistMenuItems += '<div class=\"playlist-menu-item\"';\n\n\n        $.each(_c.get(0).attributes, function () {\n          // -- we remember attributes in case the page has changed and we lost..\n          if (this.specified && this.name && this.name !== 'id' && this.name !== 'style') {\n\n            stringPlaylistMenuItems += ' ' + this.name + '=\\'' + this.value + '\\'';\n          }\n        });\n\n\n        stringPlaylistMenuItems += '>';\n\n\n        if (_c.attr('data-thumb')) {\n\n          stringPlaylistMenuItems += '<div class=\"pi-thumb-con\">';\n          stringPlaylistMenuItems += '<div class=\"pi-thumb divimage\" style=\"background-image: url(' + _c.attr('data-thumb') + ')\">';\n          stringPlaylistMenuItems += '</div>'\n          stringPlaylistMenuItems += '</div>'\n        }\n        stringPlaylistMenuItems += '<div class=\"pi-meta-con\">';\n\n        stringPlaylistMenuItems += '<div class=\"pi-the-artist\">';\n        stringPlaylistMenuItems += _c.find('.the-artist').eq(0).text();\n        stringPlaylistMenuItems += '</div>';\n\n        stringPlaylistMenuItems += '<div class=\"pi-the-name\">';\n        stringPlaylistMenuItems += _c.find('.the-name').eq(0).text();\n        stringPlaylistMenuItems += '</div>';\n\n        stringPlaylistMenuItems += '</div>';\n\n\n        stringPlaylistMenuItems += '<div class=\"the-sort-handle\">';\n        stringPlaylistMenuItems += '&#x2195;';\n        stringPlaylistMenuItems += '</div>';\n        stringPlaylistMenuItems += '</div>';\n\n      }\n      thisClass.$playlistInner.find('.dzstooltip--inner').append(stringPlaylistMenuItems);\n\n\n      $(document).on('mousemove.dzsap_playlist_item', function (e) {\n\n        if (window.dzsap_moving_playlist_item) {\n\n          var my = e.clientY;\n\n          my -= dzsap_playlist_con.offset().top;\n\n\n          dzsap_playlist_item_moving.css('top', my - 20);\n\n\n          dzsap_playlist_item_target.parent().children(':not(\".target-playlist-item\"):not(\".cloner\")').each(function () {\n            var _t = $(this);\n\n            var tmy = _t.offset().top - dzsap_playlist_con.offset().top;\n\n\n            if (my > tmy) {\n              _t.after(dzsap_playlist_item_target);\n            }\n          })\n\n          if (my < 50) {\n            dzsap_playlist_item_target.parent().prepend(dzsap_playlist_item_target);\n          }\n        }\n      });\n      $(document).on('mouseup.dzsap_playlist_item', function (e) {\n\n        if (window.dzsap_moving_playlist_item) {\n\n          window.dzsap_moving_playlist_item = false;\n\n\n          dzsap_playlist_item_moving.parent().children('.cloner').remove();\n          dzsap_playlist_item_target.removeClass('target-playlist-item');\n          dzsap_playlist_item_moving.remove();\n          dzsap_playlist_item_moving = null;\n          dzsap_playlist_item_target = null;\n        }\n      })\n    } else {\n      console.error('no tooltip .. why, should be here?');\n    }\n\n\n  }\n\n  player_determineSyncPlayersIndex(selfClass, $targetPlayer) {\n\n\n    if (this.$playlistInner) {\n      const $playlistTooltipInner = this.$playlistInner.children('.dzstooltip--inner').eq(0);\n      $playlistTooltipInner.children().removeClass('current-playlist-item');\n      $playlistTooltipInner.children().each(function () {\n        var _t = jQuery(this);\n\n        if (_t.attr('data-playerid') === $targetPlayer.attr('data-playerid')) {\n          _t.addClass('current-playlist-item');\n          selfClass.playlist_inner_currNr = _t.parent().children().index(_t);\n        }\n      })\n    }\n\n  }\n\n\n  /**\n   * this is the function called from playlist menu item ( footer )\n   * @param arg\n   * @param pargs\n   */\n  playlistInner_gotoItem(arg, pargs) {\n    // --\n\n    var $ = jQuery;\n    var thisClass = this;\n    var selfClass = this.dzsapClass;\n\n    var margs = {\n      'call_from': \"default\"\n    }\n\n    if (pargs) {\n      margs = $.extend(margs, pargs);\n    }\n\n\n    var _cach_con = null;\n\n\n    if (thisClass.$playlistInner) {\n      _cach_con = thisClass.$playlistInner.find('.dzstooltip--inner');\n\n      const $cach = _cach_con.children().eq(arg);\n\n\n      const playerId = $cach.attr('data-playerid');\n\n\n      const $targetPlayer = $('.audioplayer[data-playerid=\"' + playerId + '\"],.audioplayer-tobe[data-playerid=\"' + playerId + '\"]');\n\n\n      if (playerId && $targetPlayer.length && $targetPlayer.eq(0).get(0) && $targetPlayer.eq(0).get(0).api_play_media) {\n\n\n        $('.audioplayer[data-playerid=\"' + playerId + '\"]').eq(0).get(0).api_play_media({\n          'called_from': 'api_sync_players_prev'\n        });\n\n      } else {\n\n\n        if ($targetPlayer.parent().parent().parent().hasClass('audiogallery')) {\n          $targetPlayer.parent().parent().parent().get(0).api_goto_item(arg);\n        } else {\n\n          // -- in case we change the page ;)\n\n          const $dzsapFooter = $(`.${DZSAP_PLAYER_CLASS_FOOTER_PLAYER}`);\n          if ($dzsapFooter.length && $dzsapFooter.get(0).api_change_media) {\n            $dzsapFooter.get(0).api_change_media($targetPlayer);\n          }\n\n        }\n\n\n      }\n\n      selfClass.playlist_inner_currNr = arg;\n\n    }\n  }\n\n}\n","/**\n *\n * @param {DzsAudioPlayer} selfClass\n */\nexport function player_setupStructure_thumbnailCon(selfClass){\n\n\n  var cthis = selfClass.cthis;\n  var o = selfClass.initOptions;\n\n  if (cthis.attr('data-thumb')) {\n    cthis.addClass('has-thumb');\n    var aux_thumb_con_str = '';\n\n    if (cthis.attr('data-thumb_link')) {\n      aux_thumb_con_str += '<a href=\"' + cthis.attr('data-thumb_link') + '\"';\n    } else {\n      aux_thumb_con_str += '<div';\n    }\n    aux_thumb_con_str += ' class=\"the-thumb-con\"><div class=\"the-thumb\" style=\" background-image:url(' + cthis.attr('data-thumb') + ')\"></div>';\n\n\n    if (cthis.attr('data-thumb_link')) {\n      aux_thumb_con_str += '</a>';\n    } else {\n      aux_thumb_con_str += '</div>';\n    }\n\n\n    if (cthis.children('.the-thumb-con').length) {\n      aux_thumb_con_str = cthis.children('.the-thumb-con').eq(0);\n    }\n\n\n    if (o.design_skin !== 'skin-customcontrols') {\n      if (o.design_skin === 'skin-wave' && (selfClass.skinwave_mode === 'small' || selfClass.skinwave_mode === 'alternate')) {\n\n        if (selfClass.skinwave_mode === 'alternate') {\n          selfClass._audioplayerInner.prepend(aux_thumb_con_str);\n        } else {\n\n          selfClass._apControlsLeft.prepend(aux_thumb_con_str);\n        }\n      } else if (o.design_skin === 'skin-steel') {\n        selfClass._apControlsLeft.prepend(aux_thumb_con_str);\n      } else {\n\n        selfClass._audioplayerInner.prepend(aux_thumb_con_str);\n      }\n    }\n\n  } else {\n\n    cthis.removeClass('has-thumb');\n  }\n}\n\nexport function player_constructArtistAndSongCon(margs) {\n\n  var selfClass = this;\n\n  if (selfClass.cthis.find('.meta-artist').length === 0) {\n    if (selfClass.cthis.find('.feed-artist-name').length || selfClass.cthis.find('.feed-song-name').length) {\n      let structHtmlMeta = '<span class=\"meta-artist player-artistAndSong\">';\n      if (selfClass.cthis.find('.feed-artist-name').length) {\n        structHtmlMeta += '<span class=\"the-artist\">' + selfClass.cthis.find('.feed-artist-name').eq(0).html() + '</span>';\n      }\n      if (selfClass.cthis.find('.feed-song-name').length) {\n        structHtmlMeta += '<span class=\"the-name player-meta--songname\">' + selfClass.cthis.find('.feed-song-name').eq(0).html() + '</span>';\n      }\n      structHtmlMeta += '</span>';\n      selfClass.cthis.append(structHtmlMeta);\n    }\n  }\n\n  if (selfClass.cthis.attr(\"data-type\") === 'fake') {\n    if (selfClass.cthis.find('.meta-artist').length === 0) {\n      selfClass.cthis.append('<span class=\"meta-artist\"><span class=\"the-artist\"></span><span class=\"the-name\"></span></span>')\n    }\n  }\n\n  if (!selfClass._metaArtistCon || margs.call_from === 'reconstruct') {\n\n    if (selfClass.cthis.children('.meta-artist').length > 0) {\n      if (selfClass.cthis.hasClass('skin-wave-mode-alternate')) {\n        if (selfClass._conControls.children().last().hasClass('clear')) {\n          selfClass._conControls.children().last().remove();\n        }\n        selfClass._conControls.append(selfClass.cthis.children('.meta-artist'));\n      } else {\n        if (selfClass._audioplayerInner) {\n          selfClass._audioplayerInner.append(selfClass.cthis.children('.meta-artist'));\n        }\n      }\n    }\n\n\n    selfClass._audioplayerInner.find('.meta-artist').eq(0).wrap('<div class=\"meta-artist-con\"></div>');\n\n\n    selfClass._metaArtistCon = selfClass._audioplayerInner.find('.meta-artist-con').eq(0);\n\n\n    const o = selfClass.initOptions;\n\n\n    if (selfClass._apControls.find('.ap-controls-right').length > 0) {\n      selfClass._apControlsRight = selfClass.cthis.find('.ap-controls-right').eq(0);\n    }\n    if (selfClass._apControls.find('.ap-controls-left').length > 0) {\n      selfClass._apControlsLeft = selfClass._apControls.find('.ap-controls-left').eq(0);\n    }\n\n\n    if (o.design_skin === 'skin-pro') {\n      selfClass._apControlsRight = selfClass.cthis.find('.con-controls--right').eq(0)\n    }\n\n    if (o.design_skin === 'skin-wave') {\n\n\n      if (selfClass.cthis.find('.dzsap-repeat-button').length) {\n        selfClass.cthis.find('.dzsap-repeat-button').after(selfClass._metaArtistCon);\n      } else {\n\n\n        if (selfClass.cthis.find('.dzsap-loop-button').length && selfClass.cthis.find('.dzsap-loop-button').eq(0).parent().hasClass('feed-dzsap-for-extra-html-right') === false) {\n          selfClass.cthis.find('.dzsap-loop-button').after(selfClass._metaArtistCon);\n        } else {\n\n          selfClass._conPlayPauseCon.after(selfClass._metaArtistCon);\n        }\n      }\n\n      if (selfClass.skinwave_mode === 'alternate') {\n        selfClass._apControlsRight.before(selfClass._metaArtistCon);\n      }\n\n\n    }\n    if (o.design_skin === 'skin-aria') {\n      selfClass._apControlsRight.prepend(selfClass._metaArtistCon);\n    }\n    if (o.design_skin === 'skin-redlights' || o.design_skin === 'skin-steel') {\n\n      selfClass._apControlsRight.prepend(selfClass._metaArtistCon);\n\n\n    }\n    if (o.design_skin === 'skin-silver') {\n      selfClass._apControlsRight.append(selfClass._metaArtistCon);\n    }\n    if (o.design_skin === 'skin-default') {\n      selfClass._apControlsRight.before(selfClass._metaArtistCon);\n    }\n\n\n  }\n\n\n}\n","import {extraHtmlBottomFunctionality, feedEmbedFunctionality} from \"../extra-functionality/_extraHtmlFunctions\";\nimport {DzsapInnerPlaylist} from '../extra-functionality/_innerPlaylist';\nimport {pausebtn_svg, playbtn_svg, svg_embed_btn, svg_menu_state, svg_next_btn, svg_prev_btn} from '../_dzsap_svgs';\nimport {player_constructArtistAndSongCon} from \"../view/player/_view_playerStructure\";\nimport {dzsap_generate_keyboard_tooltip, formatTime, player_radio_isNameUpdatable} from \"../_dzsap_helpers\";\n\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n * @param o\n */\nexport function setup_structure_extras(selfClass, o) {\n\n\n  if (o.design_skin === 'skin-wave' && selfClass.skinwave_mode === 'bigwavo') {\n    selfClass._audioplayerInner.after(selfClass._scrubbar);\n\n    if (selfClass.cthis.find('.feed-description')) {\n      selfClass.$conControls.after(selfClass.cthis.find('.feed-description').eq(0));\n      selfClass.$conControls.next().removeClass('feed-description').addClass('song-desc');\n    }\n  }\n\n\n  selfClass.radio_isGoingToUpdateSongName = player_radio_isNameUpdatable(selfClass, selfClass.radio_isGoingToUpdateSongName, '.the-songname');\n  selfClass.radio_isGoingToUpdateArtistName = player_radio_isNameUpdatable(selfClass, selfClass.radio_isGoingToUpdateArtistName, '.the-artist');\n\n\n  if (o.disable_scrub === 'on') {\n    selfClass.cthis.addClass('disable-scrubbar');\n  }\n\n\n  const struct_embedButtonWithTooltip = `<div class=\"btn-embed-code-con dzstooltip-con \"><div class=\"btn-embed-code player-but \"> <div class=\"the-icon-bg\"></div>${svg_embed_btn}</div><span class=\"dzstooltip   transition-slidein arrow-bottom talign-end style-rounded color-dark-light \" style=\"width: 350px; \"><span class=\"dzstooltip--inner\"><span class=\"embed-code--text\"></span></span></span></div>`;\n\n  if (selfClass.feedEmbedCode !== '') {\n    feedEmbedFunctionality(selfClass, jQuery, struct_embedButtonWithTooltip)\n  }\n\n  if (o.footer_btn_playlist === 'on') {\n    if (selfClass._apControlsRight.find('.btn-footer-playlist').length === 0) {\n\n      selfClass.classFunctionalityInnerPlaylist = new DzsapInnerPlaylist(selfClass);\n      selfClass.classFunctionalityInnerPlaylist.init();\n    }\n\n  }\n\n\n  setTimeout(function () {\n\n    if (selfClass.cthis.find('.extra-html').length) {\n      extraHtmlBottomFunctionality(selfClass);\n    }\n  }, 100);\n\n  setTimeout(function () {\n    if (selfClass.cthis.html().indexOf('dzsap-multisharer-but') > -1) {\n      selfClass.isMultiSharer = true;\n      selfClass.check_multisharer();\n    }\n  }, 1002);\n\n\n  if (selfClass.cthis.find('.afterplayer').length > 0) {\n\n    selfClass.cthis.append(selfClass.cthis.find('.afterplayer'));\n  }\n\n}\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n */\nfunction structure_generatePlayPauseString(selfClass) {\n\n  const o = selfClass.initOptions;\n\n  let structConPlayPause = '';\n  if (o.settings_extrahtml_before_play_pause) {\n    structConPlayPause += o.settings_extrahtml_before_play_pause;\n\n\n  }\n\n\n  structConPlayPause += '<div class=\"con-playpause-con\">';\n\n  structConPlayPause = addExtraHtmlInPlace(selfClass, '.feed-dzsap-before-playpause', '') + structConPlayPause;\n\n  structConPlayPause += '<div class=\"con-playpause';\n\n  if (selfClass.keyboard_controls.show_tooltips === 'on') {\n    structConPlayPause += ' dzstooltip-con';\n  }\n\n  structConPlayPause += '\">';\n  if (selfClass.keyboard_controls.show_tooltips === 'on') {\n    structConPlayPause += dzsap_generate_keyboard_tooltip(selfClass.keyboard_controls, 'pause_play');\n  }\n\n\n  structConPlayPause += '<div class=\"playbtn player-but\" aria-controls=\"' + selfClass.uniqueId + '-audio\"><div class=\"the-icon-bg\"></div><div class=\"dzsap-play-icon\">';\n\n\n  structConPlayPause += playbtn_svg;\n\n\n  structConPlayPause += `</div><div class=\"media-load--preloader\"><img alt=\"preloader\" class=\"\" src=\"${window.dzsap_base_url}parts/assets/view-preloader.svg\"/></div>`;\n  structConPlayPause += '</div>'; // -- end playbtn\n\n\n  structConPlayPause += '<div class=\"pausebtn player-but\"';\n\n\n  structConPlayPause += '><div class=\"the-icon-bg\"></div><div class=\"pause-icon\">';\n\n\n  structConPlayPause += pausebtn_svg;\n\n\n  structConPlayPause += '</div>';// -- end pause-icon\n  structConPlayPause += '</div>'; // -- end pausebtn\n\n\n  structConPlayPause += '';\n\n\n  structConPlayPause += '</div>';\n\n  // -- todo: check if correct one\n  if (selfClass.cthis.find('.feed-dzsap-after-playpause').length) {\n    structConPlayPause += addExtraHtmlInPlace(selfClass, '.feed-dzsap-after-playpause', '');\n  }\n\n  structConPlayPause += '</div>';\n\n\n  return structConPlayPause;\n}\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n */\nfunction setup_structure__setup_wrapper_image(selfClass) {\n\n  var img = new Image();\n\n\n  if (selfClass.cthis.hasClass('zoomsounds-no-wrapper') === false) {\n\n    img.onload = function () {\n\n\n      selfClass.cthis.css('background-image', 'url(' + this.src + ')');\n\n      setTimeout(function () {\n\n        selfClass.cthis.find('.zoomsounds-bg').addClass('loaded');\n\n\n        if (selfClass.cthis.hasClass('zoomsounds-wrapper-bg-bellow')) {\n\n          selfClass.cthis.css('padding-top', 200);\n        }\n      }, 100);\n    }\n\n    img.src = selfClass.cthis.attr('data-wrapper-image');\n  }\n\n}\n\n/**\n * setup player structure , called from init\n * @param {DzsAudioPlayer} selfClass\n * @param pargs\n * @returns {boolean}\n */\nexport const setup_structure = function (selfClass, pargs) {\n\n\n  // -- setup structure here\n  var $ = jQuery;\n  var o = selfClass.initOptions;\n\n\n  var margs = {\n    'setup_inner_player': true\n    , 'setup_media': true\n    , 'setup_otherstructure': true\n    , 'call_from': \"default\"\n\n\n  }\n\n\n  if (pargs) {\n    margs = $.extend(margs, pargs);\n  }\n\n\n  if (margs.call_from === 'reconstruct') {\n    if (selfClass._metaArtistCon) {\n\n\n    }\n\n\n    selfClass._metaArtistCon = null;\n    if (selfClass.cthis.hasClass('skin-wave')) {\n      o.design_skin = 'skin-wave';\n    }\n    if (selfClass.cthis.hasClass('skin-silver')) {\n      o.design_skin = 'skin-silver';\n    }\n  }\n\n\n  var structure_str_apControls = '<div class=\"ap-controls';\n\n  if (o.design_skin === 'skin-default') {\n    structure_str_apControls += ' dzsap-color_inverse_ui_fill';\n  }\n  structure_str_apControls += '\"></div>'\n\n  if (margs.setup_inner_player) {\n    selfClass.cthis.appendOnce('<div class=\"audioplayer-inner\"></div>');\n    selfClass._audioplayerInner = selfClass.cthis.children('.audioplayer-inner');\n  }\n\n\n  // -- end setup inner\n\n\n  if (!margs.setup_otherstructure) {\n    return false;\n  }\n\n\n  if (selfClass.cthis.attr('data-wrapper-image')) {\n    setup_structure__setup_wrapper_image(selfClass);\n  }\n\n\n  var structure_str_scrubbar = '<div class=\"scrubbar\">';\n  var aux_str_con_controls = '';\n\n  var aux_str_time = '';\n\n\n  structure_str_scrubbar += '<div class=\"scrub-bg\"></div><div class=\"scrub-buffer\"></div>';\n\n  structure_str_scrubbar += '<div class=\"scrub-prog';\n\n  if (o.scrubbar_type !== 'wave') {\n    structure_str_scrubbar += ' dzsap-color_brand_bg';\n  }\n\n  structure_str_scrubbar += '\"></div><div class=\"scrubBox\"></div><div class=\"scrubBox-prog\"></div><div class=\"scrubBox-hover\"></div>';\n  aux_str_time = '<div class=\"total-time\">00:00</div><div class=\"curr-time\">00:00</div>';\n\n\n  if (selfClass.sample_perc_start) {\n\n    structure_str_scrubbar += '<div class=\"sample-block-start\" style=\"width: ' + (selfClass.sample_perc_start * 100) + '%\"></div>'\n  }\n  if (selfClass.sample_perc_end) {\n\n    structure_str_scrubbar += '<div class=\"sample-block-end\" style=\"left: ' + (selfClass.sample_perc_end * 100) + '%; width: ' + (100 - (selfClass.sample_perc_end * 100)) + '%\"></div>'\n  }\n\n  structure_str_scrubbar += '</div>'; // -- end scrubbar\n\n\n  if (o.controls_external_scrubbar) {\n    structure_str_scrubbar = '';\n  }\n\n\n  var struct_con_playpause = '';\n\n  struct_con_playpause += structure_generatePlayPauseString(selfClass);\n\n\n  aux_str_con_controls += '<div class=\"con-controls\"><div class=\"the-bg\"></div>' + struct_con_playpause;\n\n\n  if (selfClass.extraHtmlAreas.controlsLeft) {\n    aux_str_con_controls += selfClass.extraHtmlAreas.controlsLeft;\n  }\n\n\n  if (o.design_skin === 'skin-pro') {\n    aux_str_con_controls += '<div class=\"con-controls--right\">';\n    aux_str_con_controls += '</div>';\n  }\n\n\n  var aux_str_con_volume = '<div class=\"controls-volume\"><div class=\"volumeicon\"></div><div class=\"volume_static\"></div><div class=\"volume_active\"></div><div class=\"volume_cut\"></div></div>';\n  if (o.disable_volume === 'on') {\n    aux_str_con_volume = '';\n  }\n\n\n  if (o.design_skin === 'skin-default' || o.design_skin === 'skin-wave') {\n\n    aux_str_con_controls += '<div class=\"ap-controls-right\">';\n    if (o.disable_volume !== 'on') {\n      aux_str_con_controls += '<div class=\"controls-volume\"><div class=\"volumeicon\"></div><div class=\"volume_static\"></div><div class=\"volume_active\"></div><div class=\"volume_cut\"></div></div>';\n    }\n\n\n    aux_str_con_controls += '</div>';\n\n\n  }\n\n  aux_str_con_controls += '</div>'; // -- end con-controls\n\n\n/// -- end STR\n\n\n  if (o.design_skin === 'skin-wave' && selfClass.skinwave_mode === 'small') {\n    aux_str_con_controls = '<div class=\"the-bg\"></div><div class=\"ap-controls-left\">' + struct_con_playpause + '</div>' + structure_str_scrubbar + '<div class=\"ap-controls-right\">' + aux_str_con_volume + '<div class=\"extrahtml-in-float-right for-skin-wave-small\">' + selfClass.extraHtmlAreas.controlsRight + '</div></div>';\n\n\n  } else {\n\n\n    // -- other skins\n\n    if (o.design_skin === 'skin-aria' || o.design_skin === 'skin-silver' || o.design_skin === 'skin-redlights' || o.design_skin === 'skin-steel') {\n\n\n      let playbtnSvg = playbtn_svg;\n      let pausebtnSvg = pausebtn_svg;\n      if (o.design_skin === 'skin-steel') {\n        playbtnSvg = '';\n        pausebtnSvg = '';\n      }\n\n      aux_str_con_controls = '<div class=\"the-bg\"></div><div class=\"ap-controls-left\">';\n\n\n      if (o.design_skin === 'skin-silver') {\n\n        aux_str_con_controls += struct_con_playpause;\n      } else {\n\n\n        aux_str_con_controls += '<div class=\"con-playpause';\n\n        if (selfClass.keyboard_controls.show_tooltips === 'on') {\n          aux_str_con_controls += ' dzstooltip-con';\n        }\n\n        aux_str_con_controls += '\">';\n\n\n        if (selfClass.keyboard_controls.show_tooltips === 'on') {\n          aux_str_con_controls += dzsap_generate_keyboard_tooltip(selfClass.keyboard_controls, 'pause_play');\n        }\n\n\n        aux_str_con_controls += '<div class=\"playbtn player-but playbtn-not-skin-silver\"><div class=\"dzsap-play-icon\">' + playbtnSvg + '</div></div><div class=\"pausebtn player-but\" ';\n\n\n        aux_str_con_controls += '><div class=\"pause-icon\">' + pausebtnSvg + '</div></div></div>'; // -- enc con-playpause\n\n      }\n\n\n      // todo: check\n      // addExtraHtmlInPlace(selfClass, '.feed-dzsap-after-playpause', struct_con_playpause);\n\n\n      aux_str_con_controls += '</div>';\n\n\n      if (selfClass.extraHtmlAreas.controlsRight) {\n        aux_str_con_controls += '<div class=\"controls-right\">' + selfClass.extraHtmlAreas.controlsRight + '</div>';\n\n\n        if (o.design_skin === 'skin-redlights') {\n\n\n          if (o.parentgallery && o.parentgallery.get(0).api_skin_redlights_give_controls_right_to_all) {\n            o.parentgallery.get(0).api_skin_redlights_give_controls_right_to_all();\n          }\n        }\n      }\n\n\n      aux_str_con_controls += '<div class=\"ap-controls-right\">';\n\n      if (o.design_skin === 'skin-silver') {\n\n        aux_str_con_controls += '<div class=\"controls-volume controls-volume-vertical\"><div class=\"volumeicon\"></div><div class=\"volume-holder\"><div class=\"volume_static\"></div><div class=\"volume_active\"></div><div class=\"volume_cut\"></div></div></div>';\n\n\n        aux_str_con_controls += '</div>' + structure_str_scrubbar;\n      } else {\n\n\n        if (o.design_skin === 'skin-redlights') {\n\n          if (o.disable_volume != 'on') {\n            aux_str_con_controls += '<div class=\"controls-volume\"><div class=\"volumeicon\"></div><div class=\"volume_static\"></div><div class=\"volume_active\"></div><div class=\"volume_cut\"></div></div>';\n          }\n        }\n\n        aux_str_con_controls += structure_str_scrubbar;\n\n\n        if (o.disable_timer != 'on') {\n          aux_str_con_controls += '<div class=\"total-time\">00:00</div>';\n        }\n      }\n\n\n      if (o.design_skin === 'skin-silver') {\n\n      } else {\n        aux_str_con_controls += '</div>';\n      }\n\n\n    }\n\n\n  }\n\n\n// -- end strings\n// --------------\n\n  if (margs.setup_media) {\n    selfClass._audioplayerInner.append('<div class=\"the-media\"></div>');\n    selfClass.$theMedia = selfClass._audioplayerInner.children('.the-media').eq(0);\n  }\n  if (o.design_skin !== 'skin-customcontrols') {\n    selfClass._audioplayerInner.append(structure_str_apControls);\n  }\n\n  selfClass._apControls = selfClass._audioplayerInner.children('.ap-controls').eq(0);\n  selfClass._apControls.append(aux_str_con_controls);\n\n\n  if (selfClass.cthis.hasClass('skin-wave-mode-alternate')) {\n    if (selfClass.cthis.find('.scrubbar').length === 0) {\n      selfClass._apControls.append(structure_str_scrubbar);\n    }\n  } else {\n    if (selfClass.cthis.find('.scrubbar').length === 0) {\n      selfClass._apControls.prepend(structure_str_scrubbar);\n    }\n  }\n\n\n  selfClass._apControlsRight = null;\n\n  if (selfClass._apControls.find('.ap-controls-right').length > 0) {\n    selfClass._apControlsRight = selfClass.cthis.find('.ap-controls-right');\n  }\n  if (selfClass._apControls.find('.ap-controls-left').length > 0) {\n    selfClass._apControlsLeft = selfClass._apControls.find('.ap-controls-left').eq(0);\n  }\n\n\n  if (o.design_skin === 'skin-pro') {\n    selfClass._apControlsRight = selfClass.cthis.find('.con-controls--right').eq(0)\n  }\n\n\n// -- Todo: if we have footer, playlist btn we can place it in ap-controls-right\n\n\n  addExtraHtmlInPlace(selfClass, '.feed-dzsap--custom-controls', null, selfClass._audioplayerInner);\n  addExtraHtmlInPlace(selfClass, '.feed-dzsap-after-con-controls', null, selfClass._apControls);\n\n\n  if (o.controls_external_scrubbar) {\n    selfClass._scrubbar = $(o.controls_external_scrubbar).children('.scrubbar').eq(0);\n  } else {\n    selfClass._scrubbar = selfClass._apControls.find('.scrubbar').eq(0);\n  }\n\n  if (selfClass._scrubbar.length === 0) {\n    selfClass.initOptions.scrubbar_type = 'none';\n  }\n\n\n  selfClass.$$scrubbProg = selfClass._scrubbar.find('.scrub-prog').get(0);\n\n\n  selfClass.$conControls = selfClass._apControls.children('.con-controls');\n  selfClass.$conPlayPause = selfClass.cthis.find('.con-playpause').eq(0);\n  selfClass._conPlayPauseCon = selfClass.cthis.find('.con-playpause-con').eq(0);\n  selfClass.$controlsVolume = selfClass.cthis.find('.controls-volume').eq(0);\n\n\n  (player_constructArtistAndSongCon.bind(selfClass))(margs);\n\n\n  selfClass._scrubbar.addClass('scrubbar-inited');\n  if (o.scrubbar_type === 'wave' && o.disable_timer != 'on') {\n    // -- no sense in adding time if external\n    if (o.controls_external_scrubbar === '') {\n      selfClass._scrubbar.append(aux_str_time);\n    }\n  }\n\n\n  if (o.design_skin != 'skin-wave' && o.disable_timer != 'on') {\n    // aux_str_con_controls += '<div class=\"curr-time\">00:00</div><div class=\"total-time\">00:00</div>';\n\n    // -- all skins\n    selfClass._apControls.append(aux_str_time);\n  }\n\n\n// -- end structure\n\n\n// -- start assocations\n  if (o.disable_timer != 'on') {\n    selfClass.$currTime = selfClass.cthis.find('.curr-time').eq(0);\n    selfClass.$totalTime = selfClass.cthis.find('.total-time').eq(0);\n\n    if (o.design_skin === 'skin-steel') {\n      if (selfClass.$currTime.length === 0) {\n        selfClass.$totalTime.before('<div class=\"curr-time\">00:00</div> <span class=\"separator-slash\">/</span> ');\n\n\n        selfClass.$currTime = selfClass.$totalTime.prev().prev();\n\n      }\n    }\n\n\n  }\n\n\n  if (Number(o.sample_time_total) > 0) {\n\n    selfClass.timeTotal = Number(o.sample_time_total);\n\n\n    if (selfClass.$totalTime) {\n\n\n      selfClass.$totalTime.html(formatTime(selfClass.time_total_for_visual));\n    }\n\n\n  }\n\n\n  selfClass.setupStructure_thumbnailCon();\n\n\n  if (o.design_skin === 'skin-wave' && o.parentgallery && typeof (o.parentgallery) != 'undefined' && o.design_menu_show_player_state_button === 'on') {\n    if (o.design_skin === 'skin-wave') {\n      if (selfClass._apControlsRight) {\n\n        selfClass._apControlsRight.appendOnce('<div class=\"btn-menu-state player-but\"> <div class=\"the-icon-bg\"></div> ' + svg_menu_state + '    </div></div>');\n      } else {\n      }\n    } else {\n      selfClass._audioplayerInner.appendOnce('<div class=\"btn-menu-state\"></div>');\n    }\n  }\n\n  if (o.skinwave_place_metaartist_after_volume === 'on') {\n\n    selfClass.$controlsVolume.before(selfClass._metaArtistCon);\n  }\n\n\n  if (o.skinwave_place_thumb_after_volume === 'on') {\n\n    selfClass.$controlsVolume.before(selfClass.cthis.find('.the-thumb-con'));\n  }\n\n\n  if (o.design_skin === 'skin-wave') {\n\n\n    // -- structure setup\n\n    selfClass.setup_structure_scrub();\n\n\n    if (o.skinwave_timer_static === 'on') {\n      if (selfClass.$currTime) {\n        selfClass.$currTime.addClass('static');\n      }\n      if (selfClass.$totalTime) {\n        selfClass.$totalTime.addClass('static');\n      }\n    }\n\n\n    selfClass._apControls.css({\n      //'height': design_thumbh\n    })\n\n\n    if (o.skinwave_wave_mode === 'canvas') {\n\n      setTimeout(function () {\n        selfClass.cthis.addClass('scrubbar-loaded');\n        selfClass._scrubbar.parent().addClass('scrubbar-loaded');\n\n\n      }, 700); // -- tbc\n\n    }\n\n  }\n// --- END skin-wave\n\n\n  selfClass.check_multisharer();\n\n  if (selfClass.cthis.hasClass('skin-minimal')) {\n    // -- here is skin-minimal\n\n    selfClass.cthis.find('.the-bg').before('<div class=\"skin-minimal-bg skin-minimal--outer-bg\"></div><div class=\"skin-minimal-bg skin-minimal--inner-bg-under dzsap-color_brand_bg\"></div><div class=\"skin-minimal-bg skin-minimal--inner-bg\"></div><div class=\"skin-minimal-bg skin-minimal--inner-inner-bg dzsap-color_brand_bg\"></div>')\n    selfClass.cthis.find('.the-bg').append('<canvas width=\"100\" height=\"100\" class=\"playbtn-canvas\"/>')\n    selfClass.skin_minimal_canvasplay = selfClass.cthis.find('.playbtn-canvas').eq(0).get(0);\n\n    if (selfClass.$conPlayPause) {\n\n      selfClass.$conPlayPause.children('.playbtn').append(playbtn_svg);\n      selfClass.$conPlayPause.children('.pausebtn').append(pausebtn_svg);\n    }\n\n    setTimeout(function () {\n      selfClass.isCanvasFirstDrawn = false;\n    }, 200);\n  }\n\n\n  if (selfClass.cthis.hasClass('skin-minion')) {\n    if (selfClass.cthis.find('.menu-description').length > 0) {\n\n      selfClass.$conPlayPause.addClass('with-tooltip');\n      selfClass.$conPlayPause.prepend('<span class=\"dzstooltip\" style=\"left:-7px;\">' + selfClass.cthis.find('.menu-description').html() + '</span>');\n      selfClass.$conPlayPause.children('span').eq(0).css('width', selfClass.$conPlayPause.children('span').eq(0).textWidth() + 10);\n    }\n  }\n\n\n  if (o.player_navigation === 'default') {\n\n    if (o.parentgallery) {\n\n      o.player_navigation = 'on';\n    }\n\n\n    if (o.parentgallery && o.parentgallery.hasClass('mode-showall')) {\n      o.player_navigation = 'off';\n    }\n  }\n\n  if (o.disable_player_navigation === 'on') {\n\n    o.player_navigation = 'off';\n  }\n\n  if (o.player_navigation === 'default') {\n\n    o.player_navigation = 'off';\n  }\n\n\n  if (o.player_navigation === 'on') {\n\n    var prev_btn_str = '<div class=\"prev-btn player-but\"><div class=\"the-icon-bg\"></div>' + svg_prev_btn + ' </div>';\n\n    var next_btn_str = '<div class=\"next-btn player-but\"><div class=\"the-icon-bg\"></div>' + svg_next_btn + '  </div>';\n\n\n    var auxs = prev_btn_str + next_btn_str;\n\n\n    // -- create player navigation here\n    if ((o.design_skin === 'skin-wave' && selfClass.skinwave_mode === 'small') || o.design_skin === 'skin-aria') {\n\n\n      selfClass.$conPlayPause.before(prev_btn_str)\n      selfClass.$conPlayPause.after(next_btn_str)\n\n\n    } else {\n      if (o.design_skin === 'skin-wave') {\n\n\n        if (o.player_navigation === 'on') {\n\n          selfClass._conPlayPauseCon.prependOnce(prev_btn_str, '.prev-btn');\n          selfClass._conPlayPauseCon.appendOnce(next_btn_str, '.next-btn');\n        }\n\n      } else if (o.design_skin === 'skin-steel') {\n\n        selfClass._apControlsLeft.prependOnce(prev_btn_str, '.prev-btn');\n\n        if (selfClass._apControlsLeft.children('.the-thumb-con').length > 0) {\n\n\n          if (selfClass._apControlsLeft.children('.the-thumb-con').eq(0).length > 0) {\n            if (selfClass._apControlsLeft.children('.the-thumb-con').eq(0).prev().hasClass('next-btn') === false) {\n              selfClass._apControlsLeft.children('.the-thumb-con').eq(0).before(next_btn_str);\n            }\n          }\n\n        } else {\n\n          selfClass._apControlsLeft.appendOnce(next_btn_str, '.next-btn');\n        }\n      } else {\n\n        selfClass._audioplayerInner.appendOnce(auxs, '.prev-btn');\n      }\n    }\n\n  }\n\n\n  if (selfClass.cthis.hasClass('skinvariation-wave-bigtitles')) {\n    if (selfClass.cthis.find('.controls-volume').length && selfClass._metaArtistCon.find('.controls-volume').length === 0) {\n      selfClass._metaArtistCon.append('<br>');\n      selfClass._metaArtistCon.append(selfClass.cthis.find('.controls-volume'));\n    }\n\n  }\n\n  if (selfClass.cthis.hasClass('skinvariation-wave-righter')) {\n\n    selfClass._apControls.appendOnce('<div class=\"playbuttons-con\"></div>');\n    var _c = selfClass.cthis.find('.playbuttons-con').eq(0);\n    _c.append(selfClass.cthis.find('.con-playpause-con'));\n\n  }\n\n\n  if (o.design_skin === 'skin-pro') {\n\n    selfClass._apControlsRight.append(selfClass.$currTime);\n    selfClass._apControlsRight.append(selfClass.$totalTime);\n  }\n\n\n  if (o.design_skin === 'skin-silver') {\n    selfClass._scrubbar.after(selfClass._apControlsRight);\n    selfClass._apControlsLeft.prepend(selfClass._metaArtistCon);\n    selfClass._apControlsLeft.append(selfClass.$currTime);\n    selfClass._apControlsRight.append(selfClass.$totalTime);\n\n\n  }\n\n\n  if (o.design_skin === 'skin-redlights') {\n    selfClass._apControlsRight.append('<div class=\"ap-controls-right--top\"></div>');\n    selfClass._apControlsRight.append('<div class=\"ap-controls-right--bottom\"></div>');\n    selfClass._apControlsRight.find('.ap-controls-right--top').append(selfClass._apControlsRight.find('.meta-artist-con'));\n    selfClass._apControlsRight.find('.ap-controls-right--top').append(selfClass._apControlsRight.find('.controls-volume'));\n    selfClass._apControlsRight.find('.ap-controls-right--bottom').append(selfClass._apControlsRight.find('.scrubbar'));\n  }\n\n\n  if (margs.call_from === 'reconstruct') {\n    if (selfClass.cthis.hasClass('skin-silver')) {\n      selfClass._apControlsLeft.append(selfClass.cthis.find('.con-playpause'));\n    }\n  }\n\n\n  if (selfClass.isMultiSharer) {\n    selfClass.check_multisharer();\n  }\n\n  selfClass.setup_structure_sanitizers();\n  setup_structure_extras(selfClass, o);\n\n\n  selfClass.cthis.addClass('structure-setuped');\n\n\n  if (selfClass.extraHtmlAreas.afterArtist) {\n    selfClass._metaArtistCon.find('.the-artist').append(selfClass.extraHtmlAreas.afterArtist);\n  }\n\n\n  if (selfClass.extraHtmlAreas.bottom !== '') {\n    selfClass.cthis.append('<div class=\"extra-html\">' + selfClass.extraHtmlAreas.bottom + '</div>');\n  }\n\n\n  var settings_extrahtml_in_float_right_str = '';\n\n\n  if (String(selfClass.extraHtmlAreas.controlsRight).indexOf('dzsap-multisharer-but') > -1) {\n    selfClass.isMultiSharer = true;\n  }\n\n  if (o.design_skin === 'skin-wave' && selfClass.skinwave_mode === 'small') {\n\n  } else {\n\n    settings_extrahtml_in_float_right_str += '<div class=\"extrahtml-in-float-right from-setup_structure from-js-setup_structure\">' + selfClass.extraHtmlAreas.controlsRight + '</div>';\n  }\n\n\n  if (settings_extrahtml_in_float_right_str) {\n    if (o.design_skin === 'skin-wave' || o.design_skin === 'skin-default') {\n\n      selfClass.cthis.find('.ap-controls-right').eq(0).append(settings_extrahtml_in_float_right_str);\n\n    }\n    if (o.design_skin === 'skin-pro') {\n\n      selfClass.cthis.find('.con-controls--right').eq(0).append(settings_extrahtml_in_float_right_str);\n\n    }\n  }\n\n\n}\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n * @param {string} feedSelector\n * @param {string|null} addToString\n * @param $appendElement\n * @returns {null|string|any}\n */\nfunction addExtraHtmlInPlace(selfClass, feedSelector, addToString = null, $appendElement = null) {\n\n  if (selfClass.cthis.find(feedSelector).length) {\n    if (addToString !== null) {\n\n      addToString += selfClass.cthis.find(feedSelector).eq(0).html();\n    }\n\n    if ($appendElement !== null) {\n\n      $appendElement.append(selfClass.cthis.find(feedSelector).eq(0).html())\n      return $appendElement;\n    }\n    selfClass.cthis.find(feedSelector).remove();\n    if (addToString !== null) {\n\n      return addToString;\n    }\n  }\n\n\n  if (typeof addToString == 'string') {\n    return addToString;\n  }\n\n  return null;\n}\n","import {ajax_submit_views} from \"../_dzsap_ajax\";\nimport {select_all} from \"../_dzsap_helpers\";\n\nexport function extraHtmlBottomFunctionality(selfClass    ){\n\n\n  var o = selfClass.initOptions;\n\n\n\n\n\n    if (selfClass.increment_views === 1) {\n      (ajax_submit_views.bind(selfClass))();\n      selfClass.increment_views = 2;\n    }\n\n\n\n  if (selfClass.index_extrahtml_toloads === 0) {\n\n\n    selfClass.cthis.find('.extra-html').addClass('active');\n  }\n  setTimeout(function () {\n    selfClass.cthis.find('.extra-html').addClass('active');\n    if (selfClass.cthis.find('.float-left').length === 0) {\n      selfClass.cthis.find('.extra-html').append(selfClass.cthis.find('.extra-html-extra'));\n    } else {\n      selfClass.cthis.find('.extra-html .float-left').append(selfClass.cthis.find('.extra-html-extra'));\n    }\n\n\n    var _c = selfClass.cthis.find('.extra-html-extra').children().eq(0);\n\n    selfClass.cthis.find('.extra-html-extra').children().unwrap();\n\n\n\n\n\n\n\n  }, 2000);\n}\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n * @param $\n * @param struct_embedButtonWithTooltip\n */\nexport function feedEmbedFunctionality(selfClass,$, struct_embedButtonWithTooltip){\n\n  var o = selfClass.initOptions;\n\n  if (o.design_skin === 'skin-wave') {\n\n    if (o.enable_embed_button === 'on') {\n      if (selfClass._apControlsRight) {\n\n        selfClass._apControlsRight.appendOnce(struct_embedButtonWithTooltip);\n        selfClass.$embedButton = selfClass._apControlsRight.find('.btn-embed-code-con').eq(0);\n        selfClass.$embedButton.find('.btn-embed-code').addClass('player-but');\n      }\n    }\n\n  } else {\n    if (o.enable_embed_button === 'on') {\n      selfClass._audioplayerInner.appendOnce(struct_embedButtonWithTooltip);\n      selfClass.$embedButton = selfClass._audioplayerInner.find('.btn-embed-code-con').eq(0);\n    }\n  }\n  if (selfClass.$embedButton) {\n\n    selfClass.$embedButton.find('.embed-code--text').html(selfClass.feedEmbedCode);\n  }\n\n\n  selfClass.cthis.on('click', '.btn-embed-code-con, .btn-embed', function () {\n    var _t = $(this);\n\n\n    select_all(_t.find('.dzstooltip').get(0));\n    document.execCommand('copy');\n  })\n  selfClass.cthis.on('click', '.copy-embed-code-btn', function () {\n    var _t = $(this);\n\n    select_all(_t.parent().parent().find('.dzstooltip--inner > span').get(0));\n\n    document.execCommand('copy');\n    setTimeout(function () {\n      select_all(_t.get(0));\n    }, 100)\n  })\n}\n","export const defaultPlayerOptions = {\n  design_skin: 'skin-default',  // -- the skin of the player - can be set from the html as well,autoplay: 'off' // -- autoplay the track ( only works is cue is set to \"on\"\n  call_from: 'default', // -- call from a specific api\n  autoplay_on_scrub_click: 'off',  // -- autoplay the track ( only works is cue is set to \"on\"\n  cueMedia: 'on', // -- this chooses wheter \"on\" or not \"off\" a part .. what part is decided by the preload_method below\n  preload_method: 'metadata',  // -- \"none\" or \"metadata\" or \"auto\" ( whole track )\n  loop: 'off',  // -- loop the track\n  pause_method: 'pause',  // -- loop the track\n  // -- extra HTML\n  settings_extrahtml: '',  // -- some extra html - can be rates, plays, likes\n  settings_extrahtml_before_play_pause: '',  // -- some extra html that you may want before play button\n  settings_extrahtml_after_play_pause: '',  // -- some extra html that you may want after play button\n\n  settings_trigger_resize: '0',  // -- check the player dimensions every x milli seconds\n  design_thumbh: \"default\",  // -- thumbnail size\n  extra_classes_player: '',\n  disable_volume: 'default',\n  disable_scrub: 'default',\n  disable_timer: 'default', // -- disable timer display\n  disable_player_navigation: 'off',\n  scrub_show_scrub_time: 'on',\n  player_navigation: 'default',  // -- auto decide if we need player navigation\n  type: 'audio'\n  , enable_embed_button: 'off' // -- enable the embed button\n  , embed_code: '' // -- embed code\n  , skinwave_dynamicwaves: 'off' // -- dynamic scale based on volume for no spectrum wave\n  , soundcloud_apikey: '',  // -- set the sound cloud api key\n  skinwave_enableSpectrum: 'off', // -- off or on\n  skinwave_place_thumb_after_volume: 'off', // -- place the thumbnail after volume button\n  skinwave_place_metaartist_after_volume: 'off', // -- place metaartist after volume button\n  php_retriever: 'soundcloudretriever.php', // -- the soundcloud php file used to render soundcloud files,\n  skinwave_mode: 'normal',  // -- \"normal\" or \"small\" or \"alternate\"\n  skinwave_wave_mode: 'canvas',  // -- \"normal\" or \"canvas\" or \"line\"\n  skinwave_wave_mode_canvas_mode: 'normal',  // -- \"normal\" or \"reflecto\"\n  skinwave_wave_mode_canvas_normalize: 'on' // -- normalize wave to look more natural\n\n  // -- wave settings\n  , skinwave_wave_mode_canvas_waves_number: '3' // -- the number of waves in the canvas ( \"1\" pixel waves, \"2\" 2 pixel width waves, \"3\" 3 pixel width waves, \"anything more then 3\" means number of waves in the container, for example 100 means 100 waves in 1000px container if the container is 1000px width )\n  , skinwave_wave_mode_canvas_waves_padding: '1' // -- padding between waves ( \"1\" 1 pixel between < - > \"0\" no reflection )\n  , skinwave_wave_mode_canvas_reflection_size: '0.25',  // -- the reflection size ( \"1\" full size < - > \"0\" no reflection )\n  wavesurfer_pcm_length: '200',  // -- define the precision of the wave generation; higher is more precise, but occupies more space\n\n  pcm_data_try_to_generate: 'on',  // -- try to find out the pcm data and sent it via ajax ( maybe send it via php_handler\n  pcm_data_try_to_generate_wait_for_real_pcm: 'on',  // -- if set to on, the fake pcm data will not be generated\n  pcm_notice: 'off',  // -- show a notice for pcm\n  notice_no_media: 'on',  // -- show a notice for when the media errors out\n\n  sampleTimesMode: 'realPrevivew', // -- \"realPreview\" or \"pseudoPreview\"\n  mobile_delete: \"off\",  // -- delete the whole player on mobile, useful for unwanted footer players in mobile\n  footer_btn_playlist: \"off\",  // -- construct inner player playlist\n  mobile_disable_fakeplayer: \"off\",  // -- disable feeding to other players on mobile\n  skinwave_comments_displayontime: 'on', // -- display the comment when the scrub header is over it\n  skinwave_comments_allow_post_if_not_logged_in: 'on', // -- allow posting in comments section if not looged in, to be logged in, skinwave_comments_account must be an account id\n\n  skinwave_comments_links_to: '',  // -- clicking the comments bar will lead to this link ( optional )\n  skinwave_comments_enable: 'off',  // -- enable the comments, publisher.php must be in the same folder as this html\n  skinwave_comments_mode_outer_selector: '',  // -- the outer selector if it has one\n  skinwave_comments_playerid: '',\n\n  skinwave_timer_static: 'off',  // -- Timer indicators are static\n  default_volume: 'default',  // -- number / set the default volume 0-1 or \"last\" for the last known volume\n  volume_from_gallery: '',// -- the volume set from the gallery item select, leave blank if the player is not called from the gallery\n  design_menu_show_player_state_button: 'off', // -- show a button that allows to hide or show the menu\n  playfrom: 'off',  // -- off or specific number of settings or set to \"last\"\n  design_animateplaypause: 'default'\n  , embedded: 'off',  // // -- if embedded in a iframe\n  embedded_iframe_id: '', // // -- if embedded in a iframe, specify the iframe id here\n  google_analytics_send_play_event: 'off' // -- send the play event to google analytics, you need to have google analytics script already on your page\n  , fakeplayer: null // -- if this is a fake player, it will feed\n  , failsafe_repair_media_element: '' // -- some scripts might effect the media element used by zoomsounds, this is how we replace the media element in a certain time\n  , action_audio_play: null // -- set a outer play function ( for example for tracking your analytics )\n  , action_audio_play2: null // -- set a outer play function ( for example for tracking your analytics )\n  , action_audio_pause: null, // -- set a outer play function ( for example for tracking your analytics )\n  action_audio_end: null,  // -- set a outer ended function ( for example for tracking your analytics )\n  action_audio_comment: null,  // -- set a outer commented function ( for example for tracking your analytics )\n  action_received_time_total: null // -- event triggers at receiving time total\n  , action_audio_change_media: null,  // -- set a outer on change track function\n  action_audio_loaded_metadata: null,  // -- set a outer commented function ( for example for tracking your analytics )\n  action_video_contor_60secs: null,  // -- fire every 30s\n  type_audio_stop_buffer_on_unfocus: 'off',  // -- if set to on, when the audio player goes out of focus, it will unbuffer the file so that it will not load anymore, useful if you want to stop buffer on large files\n\n\n  settings_exclude_from_list: 'off',  // -- a audioplayer list is formed at runtime so that when\n  design_wave_color_bg: '222222',  // -- waveform background color..  000000,ffffff gradient is allowed\n  design_wave_color_progress: 'ea8c52', // -- waveform progress color\n\n\n  skin_minimal_button_size: '100',\n  gallery_gapless_play: 'off', // -- play without pause\n  preview_on_hover: 'off',  // -- on mouseenter autoplay the track\n  controls_external_scrubbar: '',  // -- on mouseenter autoplay the track\n  parentgallery: null, // -- the parent gallery of the player\n  scrubbar_type: 'auto', // -- \"wave\" or \"spectrum\" or \"bar\"\n  scrubbar_type_wave__has_reveal_animation: 'off',\n\n  settings_php_handler: '', // -- the path of the publisher.php file, this is used to handle comments, likes etc. - can be \"wpdefault\"\n};\n\n// settings_extrahtml -- for plays use <div class=\"dzsap-counter counter-hits\"><i class=\"fa fa-play\"></i><span class=\"the-number\">{{get_plays}}</span></div>\n","import {add_query_arg} from \"../../_dzsap_helpers\";\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n */\nexport function checkIfNeedsSongNameRefresh(selfClass){\n\n  if (selfClass.audioTypeSelfHosted_streamType === 'icecast' || selfClass.audioTypeSelfHosted_streamType === 'shoutcast') {\n    // -- if we have icecast we can update currently playing song\n\n\n    if (selfClass.audioTypeSelfHosted_streamType === 'icecast' || (selfClass.radio_isGoingToUpdateArtistName || selfClass.radio_isGoingToUpdateSongName)) {\n\n      player_icecastOrShoutcastRefresh(selfClass);\n    }\n    setInterval(function () {\n      player_icecastOrShoutcastRefresh(selfClass);\n    }, 10000)\n  }\n}\n\n\nexport function player_icecastOrShoutcastRefresh(selfClass) {\n\n\n  let url = selfClass.cthis.attr('data-source');\n\n  if (selfClass.audioTypeSelfHosted_streamType === 'shoutcast') {\n    url = add_query_arg(selfClass.urlToAjaxHandler, 'action', 'dzsap_shoutcast_get_streamtitle');\n    url = add_query_arg(url, 'source', (selfClass.data_source));\n  }\n\n\n  jQuery.ajax({\n    type: \"GET\",\n    url: url,\n    crossDomain: true,\n    success: function (response) {\n\n      if (response.documentElement && response.documentElement.innerHTML) {\n        response = response.documentElement.innerHTML;\n      }\n\n\n      let regex_title = '';\n      let regex_creator = '';\n      let new_title = '';\n      let new_artist = '';\n\n      if (selfClass.audioTypeSelfHosted_streamType === 'icecast') {\n\n        var regex_location = /<location>(.*?)<\\/location>/g\n\n        var regexMatches = null;\n        if (regexMatches = regex_location.exec(response)) {\n\n\n          if (regexMatches[1] !== selfClass.data_source) {\n            selfClass.data_source = regexMatches[1];\n            selfClass.setup_media({\n              'called_from': 'icecast setup'\n            });\n          }\n        }\n      }\n\n      if (selfClass.radio_isGoingToUpdateSongName) {\n        if (selfClass.audioTypeSelfHosted_streamType === 'icecast') {\n          regex_title = /<title>(.*?)<\\/title>/g\n\n          if (regexMatches = regex_title.exec(response)) {\n            new_title = regexMatches[1];\n          }\n        }\n        if (selfClass.audioTypeSelfHosted_streamType === 'shoutcast') {\n          new_title = response;\n        }\n\n      }\n      if (selfClass.radio_isGoingToUpdateArtistName) {\n        if (selfClass.audioTypeSelfHosted_streamType === 'icecast') {\n\n          regex_creator = /<creator>(.*?)<\\/creator>/g;\n\n          if (regexMatches = regex_creator.exec(response)) {\n            new_artist = regexMatches[1];\n          }\n        }\n        if (selfClass.audioTypeSelfHosted_streamType === 'shoutcast') {\n        }\n      }\n\n      if (selfClass.radio_isGoingToUpdateSongName) {\n        selfClass._metaArtistCon.find('.the-name').html(new_title);\n      }\n\n      if (selfClass.radio_isGoingToUpdateArtistName) {\n        selfClass._metaArtistCon.find('.the-artist').html(new_artist)\n      }\n    },\n    error: function (err) {\n\n    }\n  });\n\n}\n","import {comments_selector_event} from \"../components/_comments\";\n\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n * @param {jQuery} $\n * @param {jQuery} cthis\n */\nexport const player_commentsSelectorInit = (selfClass, $, cthis, o) => {\n\n  selfClass.$commentsSelector = $(o.skinwave_comments_mode_outer_selector);\n\n  if (selfClass.$commentsSelector.data) {\n\n    selfClass.$commentsSelector.data('parent', cthis);\n\n    if (window.dzsap_settings.comments_username) {\n      selfClass.$commentsSelector.find('.comment_email,*[name=comment_user]').remove();\n    }\n\n    selfClass.$commentsSelector.on('click', '.dzstooltip--close,.comments-btn-submit', comments_selector_event);\n    selfClass.$commentsSelector.on('focusin', 'input', comments_selector_event);\n    selfClass.$commentsSelector.on('focusout', 'input', comments_selector_event);\n\n  } else {\n    console.log('%c, data not available .. ', 'color: #990000;', $(o.skinwave_comments_mode_outer_selector));\n  }\n}\n","import {ajax_submit_download} from \"../_dzsap_ajax\";\nimport {player_syncPlayers_gotoItem} from \"../_dzsap_helpers\";\n\nexport const player_nextPrevButtonsSetup = (selfClass, cthis, o) => {\n\n  cthis.on('click', '.prev-btn,.next-btn', handle_mouse);\n\n\n  function handle_mouse(e) {\n    let _target;\n    const $t = $(this);\n\n    if (e.type === 'click') {\n      if ($t.hasClass('prev-btn')) {\n        handleClick_prevBtn();\n      }\n      if ($t.hasClass('next-btn')) {\n        handleClick_nextBtn();\n      }\n    }\n  }\n\n\n  function handleClick_prevBtn() {\n    if (o.parentgallery && (o.parentgallery.get(0))) {\n      o.parentgallery.get(0).api_goto_prev();\n    } else {\n\n      syncPlayers_gotoPrev(selfClass);\n    }\n  }\n\n  function handleClick_nextBtn() {\n    if (o.parentgallery && (o.parentgallery.get(0))) {\n      o.parentgallery.get(0).api_goto_next();\n    } else {\n\n      syncPlayers_gotoNext(selfClass);\n    }\n  }\n}\n\n\nexport function syncPlayers_gotoPrev(selfClass) {\n\n\n  if (selfClass._actualPlayer) {\n    selfClass._actualPlayer.get(0).api_sync_players_goto_prev();\n\n    return false;\n  }\n\n\n  syncPlayers_gotoItem(selfClass, -1);\n\n}\n\n\n/**\n * go to next inner playlistItem for single player\n * @returns {boolean}\n */\nexport function syncPlayers_gotoNext(selfClass) {\n\n  if (selfClass._actualPlayer) {\n    selfClass._actualPlayer.get(0).api_sync_players_goto_next();\n\n    return false;\n  }\n  syncPlayers_gotoItem(selfClass, 1);\n}\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n * @param targetIncrement\n */\nexport function syncPlayers_gotoItem(selfClass, targetIncrement = 0) {\n\n\n  var targetIndex = 0;\n  if (selfClass.classFunctionalityInnerPlaylist) {\n    // -- playlist Inner\n\n    targetIndex = selfClass.playlist_inner_currNr + targetIncrement;\n    if (targetIndex >= 0) {\n      selfClass.classFunctionalityInnerPlaylist.playlistInner_gotoItem(targetIndex, {\n        'call_from': 'api_sync_players_prev'\n      });\n    }\n  } else {\n    if (window.dzsap_syncList_players && window.dzsap_syncList_players.length > 0) {\n      player_syncPlayers_gotoItem(selfClass, targetIncrement);\n    } else {\n      console.log('[dzsap] [syncPlayers] no players found')\n    }\n  }\n\n  if (window.dzsap_syncList_players && window.dzsap_syncList_index >= window.dzsap_syncList_players.length) {\n    window.dzsap_syncList_index = 0;\n  }\n}\n","import {ajax_submit_views} from \"../_dzsap_ajax\";\n\n\nexport function player_sourcePlayerPauseVisual(selfClass){\n  if (selfClass._sourcePlayer.get(0) && selfClass._sourcePlayer.get(0).api_pause_media_visual) {\n    selfClass._sourcePlayer.get(0).api_pause_media_visual({\n      'call_from': 'pause_media in child player'\n    });\n  }\n}\nexport function player_sourcePlayerPlayVisual(selfClass){\n  if (selfClass._sourcePlayer.get(0) && selfClass._sourcePlayer.get(0).api_play_media_visual) {\n    selfClass._sourcePlayer.get(0).api_play_media_visual({\n      'api_report_play_media': false\n    });\n  }\n}\nexport function player_actualPlayerPlay(selfClass, margs, seek_to){\n\n  const cthis = selfClass.cthis;\n  const o = selfClass.initOptions;\n\n  const output = {\n    itShouldReturn : false\n  }\n  // -- the actual player is the footer player\n\n  let args = {\n    type: selfClass.actualDataTypeOfMedia,\n    fakeplayer_is_feeder: 'on',\n    call_from: 'play_media_audioplayer'\n  }\n\n  try {\n    if (margs.called_from === 'click_playpause') {\n      // -- let us reset up the playlist\n\n\n      if (o.parentgallery) {\n        o.parentgallery.get(0).api_regenerate_sync_players_with_this_playlist();\n        selfClass._actualPlayer.get(0).api_regenerate_playerlist_inner();\n      }\n\n    }\n\n    if (selfClass._actualPlayer && selfClass._actualPlayer.length && selfClass._actualPlayer.data('feeding-from') !== cthis.get(0)) {\n\n      args.called_from = 'play_media from player 22 ' + cthis.attr('data-source') + ' < -  ' + 'old call from - ' + margs.called_from;\n\n      if (selfClass._actualPlayer.get(0).api_change_media) {\n        selfClass._actualPlayer.get(0).api_change_media(cthis, args);\n      }\n\n      if (!cthis.hasClass('first-played')) {\n        if (cthis.data('promise-to-play-footer-player-from')) {\n          seek_to(cthis.data('promise-to-play-footer-player-from'));\n          setTimeout(function () {\n            cthis.data('promise-to-play-footer-player-from', '');\n          }, 1000);\n        }\n      }\n\n    }\n    setTimeout(function () {\n      if (selfClass._actualPlayer.get(0) && selfClass._actualPlayer.get(0).api_play_media) {\n        selfClass._actualPlayer.get(0).api_play_media({\n          'called_from': '[feed_to_feeder]'\n        });\n      }\n    }, 100);\n\n\n    if (selfClass.ajax_view_submitted === 'off') {\n      (ajax_submit_views.bind(selfClass))();\n    }\n\n    output.itShouldReturn = true;\n\n\n  } catch (err) {\n    console.log('no fake player..', err);\n  }\n\n  return output;\n}\nexport function player_actualPlayerPause(selfClass){\n\n  const cthis = selfClass.cthis;\n\n\n  let args = {\n    type: selfClass.actualDataTypeOfMedia,\n    fakeplayer_is_feeder: 'on'\n  }\n  if (selfClass._actualPlayer && selfClass._actualPlayer.length && selfClass._actualPlayer.data('feeding-from') !== cthis.get(0)) {\n    args.called_from = 'pause_media from player ' + cthis.attr('data-source');\n    selfClass._actualPlayer.get(0).api_change_media(cthis, args);\n  }\n  setTimeout(function () {\n    if (selfClass._actualPlayer.get(0) && selfClass._actualPlayer.get(0).api_pause_media) {\n      selfClass._actualPlayer.get(0).api_pause_media();\n    }\n  }, 100);\n}\nexport function player_feederSeekTo(selfClass, margs, targetTimeMediaScrub){\n\n  const cthis = selfClass.cthis;\n\n  let args = {\n    type: selfClass.actualDataTypeOfMedia,\n    fakeplayer_is_feeder: 'on'\n  }\n  if (selfClass._actualPlayer.length && selfClass._actualPlayer.data('feeding-from') !== cthis.get(0)) {\n    // -- the actualPlayer is not rendering this feed player\n    if (margs.call_from !== 'handle_end' && margs.call_from !== 'from_playfrom' && margs.call_from !== 'last_pos' && margs.call_from !== 'playlist_seek_from_0') {\n      // -- if it is not user action, ( handle_end or anything else )\n      args.called_from = 'seek_to from player source->' + (cthis.attr('data-source')) + ' < -  ' + 'old call from - ' + margs.call_from;\n      if (selfClass._actualPlayer.get(0).api_change_media) {\n        selfClass._actualPlayer.get(0).api_change_media(cthis, args);\n      } else {\n        console.log('not inited ? ', selfClass._actualPlayer);\n      }\n    } else {\n      // -- NORMAL call\n\n      cthis.data('promise-to-play-footer-player-from', targetTimeMediaScrub);\n    }\n  }\n\n\n  setTimeout(function () {\n\n    if (selfClass._actualPlayer.get(0) && selfClass._actualPlayer.get(0).api_pause_media) {\n      if (margs.call_from !== 'from_playfrom' && margs.call_from !== 'last_pos') {\n        selfClass._actualPlayer.get(0).api_seek_to(targetTimeMediaScrub, {\n          'call_from': 'from_feeder_to_feed'\n        });\n      }\n    }\n  }, 50);\n}\n","/**\n *\n * @param {DzsAudioPlayer} selfClass\n */\nexport const view_resizeHandleTreatSkins = (selfClass) => {\n  var isResolveThumbHeight = false\n\n  var cthis = selfClass.cthis;\n  var o = selfClass.initOptions;\n  selfClass.scrubbarWidth = selfClass._scrubbar.outerWidth(false);\n  if (o.design_skin === 'skin-default') {\n    selfClass.scrubbarWidth = selfClass.cthisWidth;\n  }\n  if (o.design_skin === 'skin-pro') {\n    selfClass.scrubbarWidth = selfClass.cthisWidth;\n  }\n  if (o.design_skin === 'skin-silver' || o.design_skin === 'skin-aria') {\n    selfClass.scrubbarWidth = selfClass.cthisWidth;\n    selfClass.scrubbarWidth = selfClass._scrubbar.width();\n  }\n\n\n  if (o.design_skin === 'skin-justthumbandbutton') {\n    selfClass.cthisWidth = cthis.children('.audioplayer-inner').outerWidth();\n    selfClass.scrubbarWidth = selfClass.cthisWidth;\n  }\n  if (o.design_skin === 'skin-redlights' || o.design_skin === 'skin-steel') {\n    selfClass.scrubbarWidth = selfClass._scrubbar.width();\n  }\n\n  if (o.design_skin === 'skin-wave') {\n    selfClass.scrubbarWidth = selfClass._scrubbar.outerWidth(false);\n\n    if (selfClass._commentsHolder) {\n\n      selfClass._commentsHolder.css({\n        'width': selfClass.scrubbarWidth\n      })\n      selfClass._commentsHolder.addClass('active');\n    }\n\n  }\n\n}\nexport const view_resizeEmbedded = (selfClass) => {\n\n  var cthis = selfClass.cthis;\n  if (window.frameElement) {\n\n    let args = {\n      height: cthis.outerHeight()\n    };\n\n\n    if (o.embedded_iframe_id) {\n\n      args.embedded_iframe_id = o.embedded_iframe_id;\n    }\n\n\n    var message = {\n      name: \"resizeIframe\",\n      params: args\n    };\n    window.parent.postMessage(message, '*');\n  }\n}\n","/*\n * Author: Audio Player with Playlist\n * Website: https://digitalzoomstudio.net/\n * Portfolio: https://bit.ly/nM4R6u\n * Version: 6.41\n * */\n\"use strict\";\n\nimport {\n  assignHelperFunctionsToJquery,\n  convertPluginOptionsToFinalOptions,\n  dzsap_is_mobile,\n  dzsap_singleton_ready_calls,\n  formatTime,\n  is_android,\n  is_ios,\n  is_safari,\n  jQueryAuxBindings,\n  player_delete,\n  player_determineStickToBottomContainer,\n  player_getPlayFromTime,\n  player_identifySource,\n  player_identifyTypes,\n  player_isGoingToSetupMediaNow,\n  player_service_getSourceProtection,\n  player_stickToBottomContainerDetermineClasses,\n  player_stopOtherPlayers,\n  player_syncPlayers_buildList,\n  player_view_addMetaLoaded,\n  playerFunctions,\n  playerRegisterWindowFunctions,\n  sanitizeToIntFromPointTime,\n  view_player_globalDetermineSyncPlayersIndex,\n  view_player_playMiscEffects,\n  waitForScriptToBeAvailableThenExecute\n} from './jsinc/_dzsap_helpers';\nimport {dzsap_jQueryInit, getBaseUrl, isInt, loadScriptIfItDoesNotExist} from './js_common/_dzs_helpers';\nimport {\n  destroy_cmedia,\n  destroy_media,\n  media_handleEventEnd,\n  media_pause,\n  media_tryToPlay,\n  mediaSetup,\n} from \"./jsinc/media/_media_functions\";\nimport {media_changeMedia} from './jsinc/media/_onePlayer_changeMedia';\nimport {PlayerTime} from './jsinc/_dzsap_time_model';\nimport {ajax_submit_download, ajax_submit_total_time, ajax_submit_views} from \"./jsinc/_dzsap_ajax\";\n\nimport {\n  DZSAP_PLAYER_ATTR_PLAY_FROM_LAST_POS,\n  DZSAP_PLAYER_CLASS_FOOTER_PLAYER, DZSAP_PLAYER_CLASS_FOR_STICK_TO_BOTTOM_SHOW,\n  DZSAP_PLAYER_CLASS_LOADED, DZSAP_PLAYER_PLACEHOLDER_CLASS_STICK_TO_BOTTOM, DZSAP_PLAYER_TYPE_FOR_ACCEPTING_FEED,\n  DZSAP_VIEW_PLAYER_PLAYING_EASED_TIMEOUT\n} from \"./configs/_constants\";\nimport {_ClassMetaParts} from \"./jsinc/helper-classes/_ClassMetaParts\";\nimport {comments_setupCommentsInitial} from \"./jsinc/components/_comments\";\nimport {pausebtn_svg, playbtn_svg, svg_share_icon} from \"./jsinc/_dzsap_svgs\";\nimport {retrieve_soundcloud_url} from \"./jsinc/_dzsap_misc\";\nimport {setup_structure} from \"./jsinc/components/_structure\";\nimport {\n  scrubModeWave__checkIfWeShouldTryToGetPcm,\n  view_drawCanvases,\n} from \"./jsinc/wave-render/_wave-render-functions\";\nimport {defaultPlayerOptions} from \"./configs/_settingsPlayer\";\nimport {dzsap_oneTimeSetups} from \"./jsinc/player/_player-one-time-setups\";\nimport {dzsap_generate_keyboard_controls} from \"./jsinc/player/_player_keyboard\";\nimport {checkIfNeedsSongNameRefresh} from \"./jsinc/player/features/_zoomsounds-radio-features\";\nimport {player_initSpectrum, view_spectrum_drawMeter} from \"./jsinc/player/_player_scrubModeWave_spectrum\";\nimport {player_commentsSelectorInit} from \"./jsinc/player/_player_commentsSelector\";\nimport {player_setupMiscButtons} from \"./jsinc/player/_player_setupMiscButtons\";\nimport {dzsap_player_touchFunctionalitySetup} from \"./jsinc/player/_player_touchFunctionality\";\nimport {player_menuStateSetup} from \"./jsinc/player/_player_menuState\";\nimport {\n  player_nextPrevButtonsSetup,\n  syncPlayers_gotoNext,\n  syncPlayers_gotoPrev\n} from \"./jsinc/player/_player_nextPrevButtons\";\nimport {\n  getDefaultVolume,\n  player_volumeSetup,\n  volume_setOnlyVisual,\n  volume_setVolume\n} from \"./jsinc/player/_player_volume\";\nimport {\n  player_actualPlayerPause,\n  player_actualPlayerPlay,\n  player_feederSeekTo,\n  player_sourcePlayerPauseVisual,\n  player_sourcePlayerPlayVisual\n} from \"./jsinc/player/_player_feederFunctions\";\nimport {player_scrubbarSetup} from \"./jsinc/player/_player_scrubbar\";\nimport {\n  scrubbar_modeWave_setupCanvas,\n  view_player_scrubModeWaveAdjustCurrTimeAndTotalTime\n} from \"./jsinc/player/_player_scrubModeWave\";\nimport {view_resizeEmbedded, view_resizeHandleTreatSkins} from \"./jsinc/player/_player_viewSetup\";\nimport {\n  player_setupStructure_thumbnailCon,\n} from \"./jsinc/view/player/_view_playerStructure\";\nimport {\n  configureAudioPlayerOptionsInitial, player_adjustIdentifiers,\n  player_detect_skinwave_mode, player_determineActualPlayer, player_determineHtmlAreas,\n  player_viewApplySkinWaveModes\n} from \"./jsinc/player/_player_config\";\n\n/** list for autoplay -- this is for the players */\nwindow.dzsap_list = [];\n\nlet dzsap_globalidind = 1;\n\nwindow.dzsap_inited = true;\nwindow.loading_multi_sharer = false;\n\nwindow.dzsap_player_interrupted_by_dzsap = null;\nwindow.dzsap_audio_ctx = null;\nwindow.dzsap__style = null;\nwindow.dzsap_sticktobottom_con = null;\n\nwindow.dzsap_self_options = {};\n\nwindow.dzsap_generating_pcm = false;\nwindow.dzsap_box_main_con = null;\nwindow.dzsap_lasto = null;\n\n/** list for sync -- used for next .. prev .. footer playlist */\nwindow.dzsap_syncList_players = [];\nwindow.dzsap_syncList_index = 0; // -- used for next .. prev .. footer playlist\nwindow.dzsap_base_url = '';\n\nwindow.dzsap_player_index = 0; // -- the player index on the page\n\n\n/** announcers can subscribe to this action */\nif (!window.dzsap_action_play_listeners) {\n  window.dzsap_action_play_listeners = [];\n}\n\n/**\n * @property {boolean} isAlreadyHasRealPcm\n * @property {boolean} isPcmRequiredToGenerate\n * @property {boolean} isMultiSharer\n * @property {string} identifier_pcm\n * @property {string} urlToAjaxHandler\n * @property {array<number>} pcmSource\n * @property {array<number>} last_lastArray\n * @property {object} last_lastArray\n * @property {AnalyserNode} spectrum_analyser\n * @property {HTMLElement} _sourcePlayer\n * @property {HTMLElement} $mediaNode_\n * @constructor\n * @public\n */\nclass DzsAudioPlayer {\n  constructor(argThis, argOptions, $) {\n\n    this.argThis = argThis;\n    this.argOptions = Object.assign({}, argOptions);\n    this.$ = $;\n    this.cthis = null;\n\n    this.ajax_view_submitted = 'auto';\n    this.increment_views = 0;\n    this.the_player_id = '';\n    this.currIp = '127.0.0.1';\n    this.index_extrahtml_toloads = 0;\n    this.starrating_alreadyrated = -1;\n    this.data_source = '';\n    this.pcmSource = null;\n\n    this.urlToAjaxHandler = null;\n\n\n    this.playFrom = '';\n\n\n    this._actualPlayer = null;\n    this._audioplayerInner = null;\n    this._metaArtistCon = null;\n    this._conControls = null;\n    this._conPlayPauseCon = null;\n    this._apControls = null;\n    this._apControlsLeft = null;\n    this._apControlsRight = null;\n    this._commentsHolder = null;\n    this.$mediaNode_ = null;\n    this._scrubbar = null;\n    this._scrubbarbg_canvas = null;\n    this._scrubBgCanvasCtx = null;\n    this._scrubbarprog_canvas = null;\n    this.$feed_fakeButton = null;\n    this._sourcePlayer = null;\n    this.$theMedia = null;\n    this.$conPlayPause = null; // -- [selector] .con-playpause\n    this.$conControls = null;\n    this.$$scrubbProg = null;\n    this.$controlsVolume = null;\n    this.$currTime = null;\n    this.$parentPlaylist = null;\n    this.$totalTime = null;\n    this.$commentsWritter = null;\n    this.$commentsChildren = null;\n    this.$commentsSelector = null;\n    this.$embedButton = null;\n    /** a reflection object for triggering the player from outside */\n    this.$reflectionVisualObject = null;\n\n\n    this.audioType = 'normal';\n    this.audioTypeSelfHosted_streamType = '';\n    this.skinwave_mode = 'normal';\n    this.action_audio_comment = null; // -- set a outer ended function ( for example for tracking your analytics\n\n    this.commentPositionPerc = 0;// -- the % at which the comment will be placed\n\n    this.spectrum_audioContext = null;\n    this.spectrum_audioContextBufferSource = null;\n    this.spectrum_audioContext_buffer = null;\n    this.spectrum_mediaElementSource = null;\n    this.spectrum_analyser = null;\n    this.spectrum_gainNode = null;\n\n    this.isMultiSharer = false;\n    this.hasInitialPcmData = false;\n\n    this.lastArray = null;\n    this.last_lastArray = null;\n\n    this.isPlayerPlaying = false;\n    /** leaves a easing before ending play */\n    this.isPlayerPlayingEased = false;\n    this.isPlayerPlayingEasedInterval = null;\n\n    this.actualDataTypeOfMedia = 'audio'; // \"audio\" or\n\n    this.youtube_retryPlayTimeout = 0;\n    this.lastTimeInSeconds = 0;\n    this.inter_checkReady = 0;\n    this.cthisWidth = 0;\n\n    // -- sticky player\n\n    this.isStickyPlayer = false;\n    this.$stickToBottomContainer = null;\n\n\n    // -- pcm\n    this.uniqueId = '';\n    this.identifier_pcm = ''; // -- can be either player id or source if player id is not set\n    this.isAlreadyHasRealPcm = false;\n    this.isPcmTryingToGenerate = false;\n    this.isPlayPromised = false // -- we are promising generating on meta load\n    this.isCanvasFirstDrawn = false // -- the first draw on canvas\n    this.isPlayerLoaded = false;\n\n    this.original_real_mp3 = '' // -- this is the original real mp3 for sainvg and identifying in the database\n\n    // -- theme specific\n    this.skin_minimal_canvasplay = null;\n\n    this.classFunctionalityInnerPlaylist = null;\n    this.feedEmbedCode = '';\n\n    this.youtube_currentId = 0;\n    this.youtube_isInited = false;\n\n    this.extraHtmlAreas = {\n      bottom: '',\n      afterArtist: '',\n      controlsLeft: '',\n      controlsRight: '',\n    }\n\n    // -- time vars\n    this.sample_time_start = 0;\n    this.sample_time_end = 0;\n    this.sample_time_total = 0;\n\n    this.playlist_inner_currNr = 0\n    this.canvasWidth = null;\n    this.heightCanvas = null;\n\n    this.timeCurrent = 0; // -- *deprecated\n    this.timeModel = new PlayerTime(this);\n\n    this.isSample = false;\n    this.isSafeToChangeTrack = false // -- only after 2 seconds of init is it safe to change track\n    this.isMediaEnded = false;\n    /** is first setuped media */\n    this.isSetupedMedia = false;\n    this.isSentCacheTotalTime = false;\n    this.isPcmRequiredToGenerate = false;\n    this.radio_isGoingToUpdateSongName = false;\n    this.radio_isGoingToUpdateArtistName = false;\n    this.mediaProtectionStatus = 'unprotected';\n\n    this.classMetaParts = new _ClassMetaParts(this);\n\n    this.inter_isEnded = 0;\n\n\n    argThis.SelfInstance = this;\n    this.classInit();\n  }\n\n  set_sourcePlayer($arg) {\n    if ($arg) {\n      if ($arg.get(0) != this.cthis.get(0)) {\n        this._sourcePlayer = $arg;\n      }\n    } else {\n      this._sourcePlayer = $arg;\n    }\n  }\n\n\n  reinit_beforeChangeMedia() {\n    this.hasInitialPcmData = false;\n    this.isPcmRequiredToGenerate = false;\n    this.isAlreadyHasRealPcm = false;\n    this.cthis.attr('data-pcm', '');\n  }\n\n  reinit_resetMetrics() {\n    this.isPlayerLoaded = false;\n  }\n\n\n  service_checkIfWeShouldUpdateTotalTime() {\n    ajax_submit_total_time(this);\n  }\n\n  classInit() {\n\n    const $ = this.$;\n    const o = this.argOptions;\n    let cthis = $(this.argThis);\n\n    const selfClass = this;\n\n\n    selfClass.cthis = cthis;\n    selfClass.initOptions = o;\n\n    selfClass.volume_lastVolume = 1;\n    selfClass.isScrubShowingCurrentTime = false;\n    selfClass.scrubbarWidth = 0;\n    selfClass.scrubbarProgX = 0;\n    selfClass.currTime_outerWidth = 0;\n\n    var cthisId = 'ap1'\n    ;\n    var ww, th // -- controls width\n    ;\n    var\n      isDestroyed = false,\n      isDestroyedForRebuffer = false\n      , media_isLoopActive = false // -- if loop_active the track will loop\n      , curr_time_first_set = false\n      , isListenersSetup = false\n    ;\n    var last_time_total = 0\n      , player_index_in_gallery = -1 // -- the player index in gallery\n    ;\n\n\n    var inter_60_secs_contor = 0\n      , inter_trigger_resize;\n    var data_station_main_url = ''\n    ;\n\n    var  is_under_400 = false\n\n\n    ; // resize thumb height\n\n\n    var skin_minimal_button_size = 0;\n\n\n    var action_audio_end = null\n      , action_audio_play = null\n      , action_audio_play2 = null\n      , action_audio_pause = null\n\n\n    let isRenderingFrame = false,\n      isRenderingFrameInterval = null,\n      spectrum_fakeItMode = 'auto'\n    ;\n\n\n    var draw_canvas_inter = 0;\n\n\n    window.dzsap_player_index++;\n\n\n    selfClass.timeModel.getSampleTimesFromDom();\n\n\n    init();\n\n    function init() {\n\n\n      if (cthis.hasClass('dzsap-inited')) {\n        return false;\n      }\n\n      selfClass.play_media_visual = play_media_visual;\n      selfClass.play_media = play_media;\n      selfClass.pause_media = pause_media;\n      selfClass.pause_media_visual = pause_media_visual;\n      selfClass.seek_to = seek_to;\n      selfClass.reinit = reinit;\n\n      selfClass.handle_end = media_handleEnd;\n      selfClass.init_loaded = init_loaded;\n      selfClass.scrubbar_reveal = scrubbar_reveal;\n      selfClass.calculate_dims_time = calculate_dims_time;\n      selfClass.check_multisharer = check_multisharer;\n      selfClass.setup_structure_scrub = setup_structure_scrub;\n      selfClass.setup_structure_sanitizers = setup_structure_sanitizers;\n      selfClass.destroy_cmedia = () => {\n        destroy_cmedia(selfClass);\n      };\n      selfClass.view_drawCurrentTime = view_drawCurrentTime;\n      selfClass.setupStructure_thumbnailCon = setupStructure_thumbnailCon;\n      selfClass.setup_pcm_random_for_now = view_wave_setupRandomPcm;\n      selfClass.handleResize = view_handleResize;\n      selfClass.destroy_media = () => {\n        destroy_media(selfClass, pause_media);\n      };\n\n      cthis.css({'opacity': ''});\n      cthis.addClass('dzsap-inited');\n      window.dzsap_player_index++;\n\n\n      if (o.parentgallery) {\n        selfClass.$parentPlaylist = o.parentgallery;\n      }\n      selfClass.keyboard_controls = dzsap_generate_keyboard_controls();\n\n      configureAudioPlayerOptionsInitial(cthis, o, selfClass);\n\n      if (o.loop == 'on') {\n        media_isLoopActive = true;\n      }\n\n      (player_detect_skinwave_mode.bind(selfClass))()\n\n\n\n      if (dzsap_is_mobile()) {\n        $('body').addClass('is-mobile');\n        if (o.mobile_delete === 'on') {\n          player_delete(selfClass);\n        }\n        // -- disable fakeplayer on mobile for some reason\n        if (o.mobile_disable_fakeplayer === 'on') {\n          selfClass.cthis.attr('data-fakeplayer', '');\n        }\n      }\n\n\n      player_viewApplySkinWaveModes(selfClass);\n\n\n      playerFunctions(selfClass, 'detectIds');\n\n\n      if (cthis.attr('data-fakeplayer')) {\n        player_determineActualPlayer(selfClass);\n      }\n\n      selfClass.cthis.addClass('scrubbar-type-' + o.scrubbar_type);\n\n\n      player_determineHtmlAreas(selfClass);\n\n\n      // -- syncPlayers build\n      if (window.dzsap_settings.syncPlayers_buildList === 'on') {\n        player_syncPlayers_buildList()\n      }\n\n\n      player_getPlayFromTime(selfClass);\n\n\n      player_adjustIdentifiers(selfClass);\n      player_identifySource(selfClass);\n      player_identifyTypes(selfClass);\n\n\n      if (selfClass.audioType === 'youtube') {\n        window.dzsap_get_base_url();\n        const scriptUrl = window.dzsap_base_url ? window.dzsap_base_url + '/parts/youtube/dzsap-youtube-functions.js' : '';\n        loadScriptIfItDoesNotExist(scriptUrl, window.dzsap_youtube_functions_inited).then((resolveStr) => {\n          window.dzsap_youtube_functions_init(selfClass);\n        });\n      }\n\n\n      selfClass.audioTypeSelfHosted_streamType = '';\n\n\n      if (selfClass.audioType === 'selfHosted') {\n        if (cthis.attr('data-streamtype') && cthis.attr('data-streamtype') !== 'off') {\n          selfClass.audioTypeSelfHosted_streamType = cthis.attr('data-streamtype');\n          data_station_main_url = selfClass.data_source;\n          cthis.addClass('is-radio-type');\n        } else {\n          selfClass.audioTypeSelfHosted_streamType = '';\n        }\n      }\n\n      // -- no shoutcast autoupdate at the moment 2 3 4 5 6 7 8\n      if (selfClass.audioTypeSelfHosted_streamType === 'shoutcast') {\n\n        // -- todo: we\n      }\n\n\n      // -- we disable the function if audioplayer inited\n      if (cthis.hasClass('audioplayer')) {\n        return;\n      }\n\n      if (cthis.attr('id') !== undefined) {\n        cthisId = cthis.attr('id');\n      } else {\n        cthisId = 'ap' + dzsap_globalidind++;\n      }\n\n\n      selfClass.youtube_currentId = 'ytplayer_' + cthisId;\n\n\n      cthis.removeClass('audioplayer-tobe');\n      cthis.addClass('audioplayer');\n\n      view_drawScrubProgress();\n      setTimeout(function () {\n        view_drawScrubProgress()\n      }, 1000);\n\n\n      // -- ios does not support volume controls so just let it die\n      // -- .. or autoplay FORCE STAFF\n\n\n      if (o.cueMedia === 'off') {\n\n        // -- cue is forcing autoplay on\n        cthis.addClass('cue-off');\n        o.autoplay = 'on';\n      }\n\n\n      //====sound cloud INTEGRATION //\n      if (selfClass.audioType === 'soundcloud') {\n        retrieve_soundcloud_url(selfClass);\n      }\n      // -- END soundcloud INTEGRATION//\n\n\n      setup_structure(selfClass, {}); //  -- inside init()\n\n      // --   trying to access the youtube api with ios did not work\n\n\n      if (o.scrubbar_type === 'wave' && (selfClass.audioType === 'selfHosted' || selfClass.audioType === 'soundcloud' || selfClass.audioType === 'fake') && o.skinwave_comments_enable === 'on') {\n        comments_setupCommentsInitial(selfClass);\n      }\n\n\n      if (o.autoplay === 'on' && o.cueMedia === 'on') {\n        selfClass.increment_views = 1;\n      }\n\n\n      // -- soundcloud will setupmedia when api done\n\n      if (o.cueMedia === 'on' && selfClass.audioType !== 'soundcloud') {\n        if (is_android() || is_ios()) {\n          cthis.find('.playbtn').on('click', play_media);\n        }\n\n\n        if (selfClass.data_source && selfClass.data_source.indexOf('{{generatenonce}}') > -1) {\n\n\n          selfClass.mediaProtectionStatus = 'fetchingProtection';\n          player_service_getSourceProtection(selfClass).then((response) => {\n            if (response) {\n              cthis.attr('data-source', response);\n              setup_media({'called_from': 'nonce generated', 'newSource': response});\n\n              selfClass.mediaProtectionStatus = 'protectedMode';\n            }\n\n          });\n        } else {\n\n          const isGoingToSetupMediaNow = player_isGoingToSetupMediaNow(selfClass);\n\n          if (selfClass.audioType === 'selfHosted') {\n            checkIfNeedsSongNameRefresh(selfClass);\n          }\n\n          if (isGoingToSetupMediaNow) {\n            setup_media({'called_from': 'normal setup media .. --- icecast must wait'});\n          }\n\n        }\n\n\n      } else {\n\n\n        cthis.find('.playbtn').on('click', handleClickForSetupMedia);\n        cthis.find('.scrubbar').on('click', handleClickForSetupMedia);\n        view_handleResize(null, {\n          called_from: 'init'\n        });\n      }\n\n\n      // -- we call the api functions here\n\n\n      player_determineStickToBottomContainer(selfClass);\n      player_stickToBottomContainerDetermineClasses(selfClass);\n\n\n      selfClass.timeModel.initObjects();\n\n      // -- api calls\n      selfClass.setup_media = setup_media;\n\n      cthis.get(0).classInstance = selfClass;\n\n      cthis.get(0).api_init_loaded = init_loaded; // -- force resize event\n      cthis.get(0).api_destroy = destroy_it; // -- destroy the player and the listeners\n\n      cthis.get(0).api_play = play_media; // -- play the media\n\n      cthis.get(0).api_set_volume = (arg, pargs) => {\n        volume_setVolume(selfClass, arg, pargs);\n      }; // -- set a volume\n      cthis.get(0).api_get_last_vol = volume_getLast; // -- play the media\n\n      cthis.get(0).api_get_source = () => {\n        return selfClass.data_source;\n      }; // -- play the media\n\n      cthis.get(0).api_click_for_setup_media = handleClickForSetupMedia; // -- play the media\n\n      cthis.get(0).api_handleResize = view_handleResize; // -- force resize event\n      cthis.get(0).api_set_playback_speed = set_playback_speed; // -- set the playback speed, only works for local hosted mp3\n      cthis.get(0).api_change_media = media_changeMedia(selfClass, $); // -- change the media file from the API\n      cthis.get(0).api_seek_to_perc = seek_to_perc; // -- seek to percentage ( for example seek to 0.5 skips to half of the song )\n      cthis.get(0).api_seek_to = seek_to; // -- seek to percentage ( for example seek to 0.5 skips to half of the song )\n      cthis.get(0).api_seek_to_visual = seek_to_visual; // -- seek to perchange but only visually ( does not actually skip to that ) , good for a fake player\n      cthis.get(0).api_visual_set_volume = (arg, pargs) => {\n        volume_setOnlyVisual(selfClass, arg, pargs);\n      } // -- set a volume\n      cthis.get(0).api_destroy_listeners = destroy_listeners; // -- set a volume\n\n      cthis.get(0).api_pause_media = pause_media; // -- pause the media\n      cthis.get(0).api_get_media_isLoopActive = () => {\n        return media_isLoopActive;\n      }; // -- pause the media\n      cthis.get(0).api_media_toggleLoop = media_toggleLoop; // -- pause the media\n      cthis.get(0).api_pause_media_visual = pause_media_visual; // -- pause the media, but only visually\n      cthis.get(0).api_play_media = play_media; // -- play the media\n      cthis.get(0).api_play_media_visual = play_media_visual; // -- play the media, but only visually\n      cthis.get(0).api_handle_end = media_handleEnd; // -- play the media, but only visually\n      cthis.get(0).api_change_visual_target = change_visual_target; // -- play the media, but only visually\n      cthis.get(0).api_change_design_color_highlight = view_updateColorHighlight; // -- play the media, but only visually\n      cthis.get(0).api_draw_scrub_prog = view_drawScrubProgress; // -- render the scrub progress\n      cthis.get(0).api_draw_curr_time = view_drawCurrentTime; // -- render the current time\n      cthis.get(0).api_get_times = selfClass.timeModel.refreshTimes; // -- refresh the current time\n      cthis.get(0).api_check_time = handleEnterFrame; // -- do actions required in the current frame\n      cthis.get(0).api_sync_players_goto_next = () => {\n        syncPlayers_gotoNext(selfClass);\n      }; // -- in the sync playlist, go to the next song\n      cthis.get(0).api_sync_players_goto_prev = () => {\n        syncPlayers_gotoPrev(selfClass);\n      }; // -- in the sync playlist, go to the previous song\n      cthis.get(0).api_regenerate_playerlist_inner = function () {\n        // -- call with window.dzsap_generate_list_for_sync_players({'force_regenerate': true})\n        if (selfClass.classFunctionalityInnerPlaylist) {\n          selfClass.classFunctionalityInnerPlaylist.playlistInner_setupStructureInPlayer();\n        }\n\n      }; // -- regenerate the playlist innter\n\n\n      cthis.get(0).api_step_back = function (nrSeconds) {\n        if (!nrSeconds) {\n          nrSeconds = selfClass.keyboard_controls.step_back_amount;\n        }\n        seek_to(selfClass.timeCurrent - nrSeconds);\n      }\n      cthis.get(0).api_step_forward = function (nrSeconds) {\n\n        if (nrSeconds) {\n\n        } else {\n          nrSeconds = selfClass.keyboard_controls.step_back_amount;\n        }\n        seek_to(selfClass.timeCurrent + nrSeconds);\n      } // --\n      /**\n       *\n       * @param {number} argSpeed  - 0 to 1\n       */\n      cthis.get(0).api_playback_speed = function (argSpeed) {\n        if (selfClass.$mediaNode_ && selfClass.$mediaNode_.playbackRate) {\n          selfClass.$mediaNode_.playbackRate = argSpeed;\n        }\n      } // -- slow to 2/3 of the current song\n\n\n      cthis.get(0).api_set_action_audio_play = function (arg) {\n        action_audio_play = arg;\n      }; // -- set action on audio play\n      cthis.get(0).api_set_action_audio_pause = function (arg) {\n        action_audio_pause = arg;\n      }; // -- set action on audio pause\n      cthis.get(0).api_set_action_audio_end = function (arg) {\n        action_audio_end = arg;\n        cthis.data('has-action-end', 'on');\n      }; // -- set action on audio end\n      cthis.get(0).api_set_action_audio_comment = function (arg) {\n        selfClass.action_audio_comment = arg;\n      }; // -- set the function to call on audio song comment\n      cthis.get(0).api_try_to_submit_view = service_submitView; // -- try to submit a new play analytic\n\n\n      if (o.action_audio_play) {\n        action_audio_play = o.action_audio_play;\n      }\n\n      if (o.action_audio_pause) {\n        action_audio_pause = o.action_audio_pause;\n      }\n\n      if (o.action_audio_play2) {\n        action_audio_play2 = o.action_audio_play2;\n      }\n\n\n      if (o.action_audio_end) {\n        action_audio_end = o.action_audio_end;\n        cthis.data('has-action-end', 'on');\n      }\n\n\n      handleEnterFrame({\n        'fire_only_once': true\n      });\n\n\n      if (o.design_skin === 'skin-minimal') {\n        handleEnterFrame({\n          'fire_only_once': true\n        });\n      }\n\n\n      player_setupMiscButtons(selfClass, $, seek_to)\n      cthis.on('click', '.dzsap-loop-button', handle_mouse);\n      cthis.on('mouseenter', handle_mouse);\n      cthis.on('mouseleave', handle_mouse);\n\n\n      selfClass.$conPlayPause.on('click', handleClick_playPause);\n\n\n      $(window).on('resize.dzsap', view_handleResize);\n      view_handleResize(null, {\n        called_from: 'init'\n      });\n\n      dzsap_player_touchFunctionalitySetup(selfClass, seek_to_perc, $)\n\n      if (o.skinwave_comments_mode_outer_selector) {\n        player_commentsSelectorInit(selfClass, $, cthis, o);\n      }\n\n\n      waitForScriptToBeAvailableThenExecute(window.dzsap_part_starRatings_loaded, function () {\n        window.dzsap_init_starRatings_from_dzsap(selfClass);\n      })\n\n\n      setTimeout(function () {\n\n        view_handleResize(null, {\n          called_from: 'init_timeout'\n        });\n\n\n        if (o.skinwave_wave_mode === 'canvas') {\n\n          calculate_dims_time();\n\n          setTimeout(function () {\n            calculate_dims_time();\n\n\n          }, 100)\n        }\n\n      }, 100)\n\n\n      player_menuStateSetup(cthis, o);\n\n      player_nextPrevButtonsSetup(selfClass, cthis, o);\n    }\n\n\n    function calculate_dims_time() {\n      var reflection_size = parseFloat(o.skinwave_wave_mode_canvas_reflection_size);\n\n      reflection_size = 1 - reflection_size;\n\n      var scrubbarh = selfClass._scrubbar.height();\n      if (selfClass.initOptions.scrubbar_type === 'wave') {\n        if (selfClass.skinwave_mode === 'small') {\n          scrubbarh = 60;\n        }\n\n        if (selfClass._commentsHolder) {\n          if (reflection_size === 0) {\n            selfClass._commentsHolder.css('top', selfClass._scrubbar.offset().top - cthis.offset().top + scrubbarh * reflection_size - selfClass._commentsHolder.height());\n          } else {\n            selfClass._commentsHolder.css('top', selfClass._scrubbar.offset().top - selfClass._scrubbar.parent().offset().top + scrubbarh * reflection_size);\n            selfClass.$commentsWritter.css('top', selfClass._scrubbar.offset().top - selfClass._scrubbar.parent().offset().top + scrubbarh * reflection_size);\n          }\n        }\n\n        if (o.design_skin === 'skin-wave') {\n          if (selfClass.$currTime) {\n            selfClass.$currTime.css('top', scrubbarh * reflection_size - selfClass.$currTime.outerHeight());\n          }\n          if (selfClass.$totalTime) {\n            selfClass.$totalTime.css('top', scrubbarh * reflection_size - selfClass.$totalTime.outerHeight());\n          }\n        }\n      }\n\n      cthis.attr('data-reflection-size', reflection_size);\n    }\n\n    /**\n     * change the visual target, the main is the main player selfClass.isPlayerPlaying and the visual target is the player which is a visual representation of this\n     * @param arg\n     * @param pargs\n     */\n    function change_visual_target(arg, pargs) {\n\n      var margs = {}\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n\n      if (selfClass._sourcePlayer && selfClass._sourcePlayer.get(0) && selfClass._sourcePlayer.get(0).api_pause_media_visual) {\n        selfClass._sourcePlayer.get(0).api_pause_media_visual({\n          'call_from': 'change_visual_target'\n        });\n      }\n\n      selfClass.set_sourcePlayer(arg);\n\n      var $sourcePlayer_ = selfClass._sourcePlayer.get(0);\n      if (selfClass.isPlayerPlaying) {\n        if (selfClass._sourcePlayer && $sourcePlayer_ && $sourcePlayer_.api_play_media_visual) {\n          $sourcePlayer_.api_play_media_visual();\n        }\n      }\n\n      if ($sourcePlayer_ && $sourcePlayer_.api_draw_curr_time) {\n\n\n        $sourcePlayer_.api_set_timeVisualCurrent(selfClass.timeCurrent);\n        $sourcePlayer_.api_get_times({\n          'call_from': ' change visual target .. in api '\n        });\n        $sourcePlayer_.api_check_time({\n          'fire_only_once': true\n        });\n        $sourcePlayer_.api_draw_curr_time();\n        $sourcePlayer_.api_draw_scrub_prog();\n      }\n\n      setTimeout(function () {\n\n        if ($sourcePlayer_ && $sourcePlayer_.api_draw_curr_time) {\n          $sourcePlayer_.api_get_times();\n          $sourcePlayer_.api_check_time({\n            'fire_only_once': true\n          });\n          $sourcePlayer_.api_draw_curr_time();\n          $sourcePlayer_.api_draw_scrub_prog();\n        }\n      }, 800);\n\n    }\n\n    function view_updateColorHighlight(arg) {\n\n      o.design_wave_color_progress = arg;\n      if (o.skinwave_wave_mode === 'canvas') {\n        view_drawCanvases(selfClass, cthis.attr('data-pcm'), 'canvas_change_pcm');\n      }\n\n    }\n\n    /**\n     * called in init_loaded()\n     */\n    function reinit() {\n\n      if (selfClass.audioType === 'normal' || selfClass.audioType === 'detect' || selfClass.audioType === 'audio') {\n        selfClass.audioType = 'selfHosted';\n      }\n    }\n\n\n    function destroy_listeners() {\n\n\n      if (isDestroyed) {\n        return false;\n      }\n\n\n      isRenderingFrame = false;\n\n    }\n\n\n    function destroy_it() {\n\n\n      if (isDestroyed) {\n        return false;\n      }\n\n      if (selfClass.isPlayerPlaying) {\n        pause_media();\n      }\n\n\n      $(window).off('resize.dzsap');\n\n      cthis.remove();\n      cthis = null;\n\n      isDestroyed = true;\n    }\n\n    function handleClickForSetupMedia(e, pargs) {\n\n      var margs = {\n\n        'do_not_autoplay': false\n      };\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      cthis.find('.playbtn').unbind('click', handleClickForSetupMedia);\n      cthis.find('.scrubbar').unbind('click', handleClickForSetupMedia);\n\n      setup_media(margs);\n\n\n      if (is_android() || is_ios()) {\n        play_media({\n          'called_from': 'click_for_setup_media'\n        });\n      }\n    }\n\n\n    function init_checkIfReady(pargs) {\n      var margs = {\n\n        'do_not_autoplay': false\n      };\n\n      if (selfClass._actualPlayer && is_ios()) {\n        return false;\n      }\n\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      if (selfClass.audioType === 'youtube') {\n        init_loaded(margs);\n      } else {\n        if (typeof (selfClass.$mediaNode_) !== 'undefined' && selfClass.$mediaNode_) {\n\n\n          if (selfClass.$mediaNode_.nodeName !== \"AUDIO\" || o.type === 'shoutcast') {\n            init_loaded(margs);\n          } else {\n            if (is_safari()) {\n\n              if (selfClass.$mediaNode_.readyState >= 1) {\n\n                if (selfClass.isPlayerLoaded === false) {\n                }\n\n                init_loaded(margs);\n                clearInterval(selfClass.inter_checkReady);\n\n                if (o.action_audio_loaded_metadata) {\n                  o.action_audio_loaded_metadata(cthis);\n                }\n              }\n            } else {\n              if (selfClass.$mediaNode_.readyState >= 2) {\n                if (selfClass.isPlayerLoaded === false) {\n                }\n                init_loaded(margs);\n                clearInterval(selfClass.inter_checkReady);\n\n                if (o.action_audio_loaded_metadata) {\n                  o.action_audio_loaded_metadata(cthis);\n                }\n              }\n            }\n\n          }\n        }\n\n      }\n\n    }\n\n    function scrubbar_reveal() {\n      setTimeout(function () {\n        selfClass.cthis.addClass('scrubbar-loaded');\n      }, 1000);\n    }\n\n\n    function setupStructure_thumbnailCon() {\n      player_setupStructure_thumbnailCon(selfClass);\n    }\n\n\n    function setup_structure_sanitizers() {\n\n      if (cthis.hasClass('zoomsounds-wrapper-bg-bellow') && cthis.find('.dzsap-wrapper-buts').length === 0) {\n\n        cthis.append('<div class=\"temp-wrapper\"></div>');\n        cthis.find('.temp-wrapper').append(selfClass.extraHtmlAreas.controlsRight);\n        cthis.find('.temp-wrapper').children('*:not(.dzsap-wrapper-but)').remove();\n        cthis.find('.temp-wrapper > .dzsap-wrapper-but').unwrap();\n        cthis.find('.dzsap-wrapper-but').each(function () {\n          var aux = $(this).html();\n\n          aux = aux.replace('{{heart_svg}}', '\\t&hearts;');\n          aux = aux.replace('{{svg_share_icon}}', svg_share_icon);\n\n\n          if ($(this).get(0) && $(this).get(0).outerHTML.indexOf('dzsap-multisharer-but') > -1) {\n            selfClass.isMultiSharer = true;\n\n          }\n\n          $(this).html(aux);\n        }).wrapAll('<div class=\"dzsap-wrapper-buts\"></div>');\n      }\n\n      if (o.design_skin === 'skin-customcontrols') {\n        cthis.html(String(cthis.html()).replace('{{svg_play_icon}}', playbtn_svg));\n        cthis.html(String(cthis.html()).replace('{{svg_pause_icon}}', pausebtn_svg));\n      }\n    }\n\n\n    /**\n     * called if we have .dzsap-multisharer-but in html\n     */\n    function check_multisharer() {\n\n      // -- we setup a box main here as a child of body\n\n      selfClass.cthis.find('.dzsap-multisharer-but').data('cthis', cthis);\n      selfClass.cthis.data('embed_code', selfClass.feedEmbedCode);\n    }\n\n    function view_wave_setupRandomPcm(pargs) {\n\n\n      var margs = {\n        call_from: 'default'\n      }\n\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      var default_pcm = [];\n\n      if (!(o.pcm_data_try_to_generate === 'on' && o.pcm_data_try_to_generate_wait_for_real_pcm === 'on')) {\n        for (var i3 = 0; i3 < 200; i3++) {\n          default_pcm[i3] = Number(Math.random()).toFixed(2);\n        }\n        default_pcm = JSON.stringify(default_pcm);\n\n        cthis.addClass('rnd-pcm-for-now')\n        cthis.attr('data-pcm', default_pcm);\n      }\n\n\n      scrubbar_modeWave_setupCanvas({}, selfClass);\n\n\n    }\n\n\n    /**\n     * called from setup_structure\n     */\n    function setup_structure_scrub() {\n\n\n      if (o.skinwave_enableSpectrum === 'on') {\n\n\n        // -- spectrum ON\n        scrubbar_modeWave_setupCanvas({}, selfClass);\n        // -- old spectrum code\n        selfClass._scrubbarbg_canvas = selfClass.cthis.find('.scrub-bg-img').eq(0);\n        selfClass._scrubBgCanvasCtx = selfClass._scrubbarbg_canvas.get(0).getContext(\"2d\");\n      } else {\n\n        if (o.skinwave_wave_mode === 'canvas') {\n          if (cthis.attr('data-pcm')) {\n            scrubbar_modeWave_setupCanvas({}, selfClass);\n          } else {\n            view_wave_setupRandomPcm();\n          }\n        }\n      }\n\n    }\n    ;\n\n\n    /**\n     * order -> init, setup_media, init_loaded\n     * called from init() if not icecast or soundcloud\n     * @param pargs\n     * @returns {boolean}\n     */\n    function setup_media(pargs) {\n      mediaSetup(selfClass, pargs, init_loaded, pause_media, init_checkIfReady, handleClick_playPause);\n    }\n\n    function setup_listeners() {\n\n\n      if (isListenersSetup) {\n        return false;\n      }\n\n      isListenersSetup = true;\n\n\n      // -- adding scrubbar listeners\n      selfClass._scrubbar.unbind('mousemove');\n      selfClass._scrubbar.unbind('mouseleave');\n      selfClass._scrubbar.unbind('click');\n      player_scrubbarSetup(selfClass, $, o, view_drawCurrentTime, viewCalculateScrubbarWidth, play_media, seek_to);\n\n      player_volumeSetup(selfClass, selfClass.volume_lastVolume, $, o);\n\n      cthis.find('.playbtn').unbind('click');\n\n      setTimeout(view_handleResize, 300);\n      setTimeout(view_handleResize, 2000);\n\n      if (o.settings_trigger_resize > 0) {\n        inter_trigger_resize = setInterval(view_handleResize, o.settings_trigger_resize);\n      }\n\n      cthis.addClass('listeners-setuped');\n\n      return false;\n    }\n\n\n    function volume_getLast() {\n      return selfClass.volume_lastVolume;\n    }\n\n    /**\n     * init laoded\n     * @param pargs\n     */\n    function init_loaded(pargs) {\n      if (cthis.hasClass('dzsap-loaded')) {\n        return;\n      }\n\n      let margs = {\n        'do_not_autoplay': false,\n        'call_from': 'init'\n      };\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      setTimeout(function () {\n        selfClass.isSafeToChangeTrack = true;\n      }, 5000);\n\n\n      clearInterval(selfClass.inter_checkReady);\n      clearTimeout(selfClass.inter_checkReady);\n      setup_listeners();\n\n\n      setTimeout(function () {\n        if (selfClass.$currTime && selfClass.$currTime.outerWidth() > 0) {\n          selfClass.currTime_outerWidth = selfClass.$currTime.outerWidth();\n        }\n      }, 1000);\n\n\n      // -- this comes from cue off, no pcm data\n\n\n      if (selfClass.isPcmRequiredToGenerate) {\n        scrubModeWave__checkIfWeShouldTryToGetPcm(selfClass, {\n          called_from: 'init_loaded()'\n        });\n      }\n\n      if (selfClass.audioType !== 'fake' && margs.call_from !== 'force_reload_change_media') {\n        if (o.settings_exclude_from_list !== 'on' && dzsap_list && dzsap_list.indexOf(cthis) === -1) {\n          if (selfClass._actualPlayer === null) {\n            dzsap_list.push(cthis);\n          }\n        }\n        if (o.type_audio_stop_buffer_on_unfocus === 'on') {\n          cthis.data('type_audio_stop_buffer_on_unfocus', 'on');\n          cthis.get(0).api_destroy_for_rebuffer = function () {\n            if (o.type === 'audio') {\n              selfClass.playFrom = selfClass.$mediaNode_.currentTime;\n            }\n            destroy_media(selfClass, pause_media);\n            isDestroyedForRebuffer = true;\n          }\n\n        }\n      }\n\n      if (selfClass.ajax_view_submitted === 'auto') {\n        setTimeout(function () {\n          if (selfClass.ajax_view_submitted === 'auto') {\n            selfClass.ajax_view_submitted = 'off';\n          }\n        }, 1000);\n      }\n\n      selfClass.isPlayerLoaded = true;\n\n\n      if (selfClass.data_source !== DZSAP_PLAYER_TYPE_FOR_ACCEPTING_FEED) {\n        cthis.addClass(DZSAP_PLAYER_CLASS_LOADED);\n\n\n\n        if(selfClass.isStickyPlayer){\n\n          if(window['dzsap_stickyPlayer_show']){\n            setTimeout(()=>{\n              dzsap_stickyPlayer_show(selfClass);\n            }, 500);\n          }\n        }\n      }\n\n\n      volume_setVolume(selfClass, getDefaultVolume(o, selfClass), {\n        call_from: \"from_init_loaded\"\n      });\n\n\n      if (isInt(selfClass.playFrom)) {\n        seek_to(selfClass.playFrom, {\n          call_from: 'from_playfrom'\n        });\n      }\n\n\n      if (selfClass.playFrom === DZSAP_PLAYER_ATTR_PLAY_FROM_LAST_POS) {\n        // -- here we save last position\n        if (typeof Storage !== 'undefined') {\n          setTimeout(function () {\n            selfClass.playFrom_ready = true;\n          })\n\n\n          if (typeof localStorage['dzsap_' + selfClass.the_player_id + '_lastpos'] !== 'undefined') {\n            seek_to(localStorage['dzsap_' + selfClass.the_player_id + '_lastpos'], {\n              'call_from': 'last_pos'\n            });\n          }\n        }\n      }\n\n      if (margs.do_not_autoplay !== true) {\n        if (o.autoplay === 'on' && o.cueMedia === 'on') {\n          play_media({\n            'called_from': 'do not autoplay not true ( init_loaded() ) '\n          });\n        }\n\n      }\n\n      if (selfClass.$mediaNode_ && selfClass.$mediaNode_.duration) {\n        player_view_addMetaLoaded(selfClass);\n      }\n\n      reinit();\n\n      handleEnterFrame({\n        'fire_only_once': false\n      });\n\n      if (o.autoplay === 'off') {\n        isRenderingFrame = false;\n      }\n\n      cthis.addClass('init-loaded');\n\n      setTimeout(function () {\n\n        selfClass.timeModel.refreshTimes({\n          'call_from': 'set timeout 500'\n        });\n        handleEnterFrame({\n          'fire_only_once': true\n        });\n\n        cthis.find('.wave-download').on('click', handle_mouse);\n      }, 500);\n\n      setTimeout(function () {\n        selfClass.timeModel.refreshTimes({\n          'call_from': 'set timeout 1000'\n        });\n\n        handleEnterFrame({\n          'fire_only_once': true\n        });\n\n\n      }, 1000);\n\n\n      if (inter_60_secs_contor === 0 && o.action_video_contor_60secs) {\n        inter_60_secs_contor = setInterval(count_60secs, 30000);\n      }\n    }\n\n\n    function count_60secs() {\n      if (o.action_video_contor_60secs && cthis.hasClass('is-playing')) {\n        o.action_video_contor_60secs(cthis, '');\n      }\n    }\n\n    /**\n     *\n     * @param {boolean} isGoingToActivate\n     */\n    function media_toggleLoop(isGoingToActivate) {\n      media_isLoopActive = isGoingToActivate;\n    }\n\n    function handle_mouse(e) {\n      const $t = $(this);\n\n      if (e.type === 'click') {\n        if ($t.hasClass('wave-download')) {\n          (ajax_submit_download.bind(selfClass))();\n        }\n        if ($t.hasClass('dzsap-loop-button')) {\n          if ($t.hasClass('active')) {\n            $t.removeClass('active');\n            media_isLoopActive = false;\n          } else {\n\n            $t.addClass('active');\n            media_isLoopActive = true;\n\n          }\n        }\n      }\n      if (e.type === 'mouseover') {\n      }\n      if (e.type === 'mouseenter') {\n\n        if (o.preview_on_hover === 'on') {\n          seek_to_perc(0);\n\n          play_media({\n            'called_from': 'preview_on_hover'\n          });\n        }\n\n        window.dzsap_mouseover = true;\n      }\n      if (e.type === 'mouseleave') {\n\n        if (o.preview_on_hover === 'on') {\n          seek_to_perc(0);\n          pause_media();\n        }\n        window.dzsap_mouseover = false;\n      }\n    }\n\n\n    function view_drawCurrentTime() {\n\n      // -- draw current time -- called onEnterFrame when playing\n\n      let currentTime = selfClass.timeModel.getVisualCurrentTime();\n      let totalTime = selfClass.timeModel.getVisualTotalTime();\n\n      if (selfClass.initOptions.scrubbar_type === 'wave') {\n        if (selfClass.initOptions.skinwave_enableSpectrum === 'on') {\n\n\n          if (!selfClass.isPlayerPlayingEased) {\n            return false;\n          }\n          view_spectrum_drawMeter(selfClass, selfClass._scrubbarbg_canvas, spectrum_fakeItMode, selfClass.heightCanvas);\n\n\n          // -- end spectrum\n        }\n\n        if (selfClass.$currTime && selfClass.$currTime.length) {\n\n          if (selfClass.initOptions.skinwave_timer_static !== 'on') {\n            view_player_scrubModeWaveAdjustCurrTimeAndTotalTime(selfClass);\n\n          }\n\n        }\n      }\n\n      if (totalTime !== last_time_total) {\n        view_updateTotalTime(totalTime)\n      }\n\n      if (selfClass.$currTime) {\n        if (selfClass.isScrubShowingCurrentTime === false) {\n          selfClass.$currTime.html(formatTime(currentTime));\n        }\n\n        if (selfClass.timeModel.getVisualTotalTime() && selfClass.timeModel.getVisualTotalTime() > -1) {\n          selfClass.cthis.addClass('time-total-visible');\n        }\n      }\n\n\n      if (selfClass.spectrum_audioContext) {\n        if (selfClass.$totalTime) {\n          selfClass.$totalTime.html(formatTime(totalTime));\n        }\n      }\n\n    }\n\n\n    function view_updateTotalTime(totalTime) {\n\n      if (selfClass.$totalTime) {\n        selfClass.$totalTime.html(formatTime(totalTime));\n        selfClass.$totalTime.fadeIn('fast');\n      }\n    }\n\n    /**\n     * draw the scrub width\n     * @returns {void}\n     */\n    function view_drawScrubProgress() {\n      let currentTime = selfClass.timeModel.getVisualCurrentTime();\n      let totalTime = selfClass.timeModel.getVisualTotalTime();\n\n      selfClass.scrubbarProgX = (currentTime / totalTime) * selfClass.scrubbarWidth;\n\n      if (isNaN(selfClass.scrubbarProgX)) {\n        selfClass.scrubbarProgX = 0;\n      }\n      if (selfClass.scrubbarProgX > selfClass.scrubbarWidth) {\n        selfClass.scrubbarProgX = selfClass.scrubbarWidth;\n      }\n\n      if (currentTime < 0) {\n        selfClass.scrubbarProgX = 0;\n      }\n\n      if (totalTime === 0 || isNaN(totalTime)) {\n        selfClass.scrubbarProgX = 0;\n      }\n\n      if (selfClass.scrubbarProgX < 2 && cthis.data('promise-to-play-footer-player-from')) {\n        return;\n      }\n\n      if (selfClass.spectrum_audioContext_buffer === null) {\n        if (selfClass.$$scrubbProg) {\n          selfClass.$$scrubbProg.style.width = parseInt(selfClass.scrubbarProgX, 10) + 'px';\n        }\n      }\n\n    }\n\n    /**\n     * fired on requestAnimationFrame\n     * @param pargs\n     * @returns {boolean}\n     */\n    function handleEnterFrame(pargs) {\n\n\n      // -- enter frame\n      const margs = $.extend({\n        'fire_only_once': false\n      }, pargs || {});\n\n      if (isDestroyed) {\n        return false;\n      }\n\n\n      selfClass.timeModel.refreshTimes({\n        'call_from': 'checK_time'\n      });\n\n      if (selfClass.audioType === 'selfHosted') {\n\n      }\n\n\n      view_drawScrubProgress();\n\n\n      selfClass.timeModel.processCurrentFrame();\n\n\n      // -- skin minimal\n      if (o.design_skin === 'skin-minimal') {\n        waitForScriptToBeAvailableThenExecute(window.dzsap_view_player_skinMinimal_drawFrame, function () {\n          window.dzsap_view_player_skinMinimal_drawFrame(selfClass, selfClass.scrubbarProgX);\n        })\n      }\n\n\n      // -- enter_frame\n      view_drawCurrentTime();\n\n\n      if (margs.fire_only_once !== true) {\n        requestAnimationFrame(handleEnterFrame);\n      }\n    }\n\n    function handleClick_playPause(e) {\n\n      if (cthis.hasClass('prevent-bubble')) {\n\n        if (e && e.stopPropagation) {\n          e.preventDefault();\n          e.stopPropagation();\n\n        }\n\n      }\n\n      var $conPlayPause = $(this);\n\n      var isToggleCancelled = false;\n\n      if (!cthis.hasClass('listeners-setuped')) {\n\n\n        $(selfClass.$mediaNode_).attr('preload', 'auto');\n\n        setup_listeners();\n        init_loaded();\n\n\n        var inter_checkTotalTime = setInterval(function () {\n\n          if (selfClass.$mediaNode_ && selfClass.$mediaNode_.duration && isNaN(selfClass.$mediaNode_.duration) === false) {\n\n\n            clearInterval(inter_checkTotalTime);\n          }\n        }, 1000);\n      }\n\n\n      if (o.design_skin === 'skin-minimal') {\n        waitForScriptToBeAvailableThenExecute(window.dzsap_skin_minimal_inited, function () {\n          window.dzsap_view_player_skinMinimal_onClickPlayPause(selfClass, $conPlayPause, seek_to_perc, handleEnterFrame, e, togglePlayPause);\n        })\n\n        isToggleCancelled = true;\n      }\n\n      if (!isToggleCancelled) {\n        togglePlayPause()\n      }\n\n\n      return false;\n    }\n\n    function togglePlayPause() {\n      if (!selfClass.isPlayerPlaying) {\n        play_media({\n          'called_from': 'click_playpause'\n        });\n      } else {\n        pause_media();\n      }\n    }\n\n\n    /**\n     *\n     * @param pargs\n     * @returns {boolean|void}\n     */\n    function media_handleEnd(pargs) {\n\n      media_handleEventEnd(selfClass, pargs, media_isLoopActive, seek_to, play_media, pause_media, o, syncPlayers_gotoNext, action_audio_end);\n    }\n\n\n    function view_handleResize(e, pargs) {\n\n\n      if (cthis) {\n\n      }\n\n      ww = $(window).width();\n      selfClass.cthisWidth = cthis.width();\n      th = cthis.height();\n\n\n      if (selfClass._scrubbarbg_canvas && typeof (selfClass._scrubbarbg_canvas.width) === 'function') {\n        selfClass.canvasWidth = selfClass._scrubbarbg_canvas.width();\n        selfClass.heightCanvas = selfClass._scrubbarbg_canvas.height();\n      }\n\n\n      if (selfClass.cthisWidth <= 720) {\n        cthis.addClass('under-720');\n      } else {\n\n        cthis.removeClass('under-720');\n      }\n      if (selfClass.cthisWidth <= 500) {\n        // -- width under 500\n\n        cthis.addClass('under-500');\n\n\n      } else {\n        // -- width under 500\n\n\n        cthis.removeClass('under-500');\n      }\n\n\n\n      view_resizeHandleTreatSkins(selfClass);\n\n\n\n      // -- display none + overflow hidden hack does not work .. yeah\n\n      if (cthis.css('display') !== 'none') {\n        selfClass._scrubbar.find('.scrub-bg-img').eq(0).css({\n          'width': selfClass._scrubbar.children('.scrub-bg').width()\n        });\n        selfClass._scrubbar.find('.scrub-prog-img').eq(0).css({\n          'width': selfClass._scrubbar.children('.scrub-bg').width()\n        });\n      }\n\n      cthis.removeClass('under-240 under-400');\n      if (selfClass.cthisWidth <= 240) {\n        cthis.addClass('under-240');\n      }\n      if (selfClass.cthisWidth <= 500) {\n        cthis.addClass('under-400');\n\n        if (is_under_400 === false) {\n          is_under_400 = true;\n        }\n        if (selfClass.$controlsVolume) {\n        }\n\n      } else {\n\n\n        if (is_under_400 === true) {\n          is_under_400 = false;\n        }\n      }\n\n\n      var aux2 = 50;\n\n      // -- skin-wave\n      if (o.design_skin === 'skin-wave') {\n\n\n        // ---------- calculate dims small\n        if (selfClass.skinwave_mode === 'small') {\n          selfClass.scrubbarWidth = selfClass._scrubbar.width();\n        }\n\n\n        if (o.skinwave_wave_mode === 'canvas') {\n          if (cthis.attr('data-pcm')) {\n            if (selfClass._scrubbarbg_canvas.width() === 100) {\n              selfClass._scrubbarbg_canvas.width(selfClass._scrubbar.width());\n            }\n            if (selfClass.data_source !== 'fake') {\n              // -- if inter definied then clear timeout and call\n              if (draw_canvas_inter) {\n                clearTimeout(draw_canvas_inter);\n                draw_canvas_inter = setTimeout(draw_canvas_inter_func, 300);\n              } else {\n                draw_canvas_inter_func();\n                draw_canvas_inter = 1;\n              }\n            }\n          }\n        }\n      }\n\n\n      if (['skin-minimal', 'skin-minion'].indexOf(o.design_skin)>-1) {\n\n        if(window.dzsap_skinFunctions_handleResize[o.design_skin]){\n          window.dzsap_skinFunctions_handleResize[o.design_skin](selfClass);\n        }\n\n      }\n\n\n      if (o.design_skin === 'skin-default') {\n        if (selfClass.$currTime) {\n\n          if (selfClass._metaArtistCon.css('display') === 'none') {\n            selfClass._metaArtistCon_w = 0;\n          }\n          if (isNaN(selfClass._metaArtistCon_l)) {\n            selfClass._metaArtistCon_l = 20;\n          }\n        }\n\n      }\n\n\n\n      if (o.embedded === 'on') {\n        view_resizeEmbedded(selfClass);\n      }\n\n\n      view_drawScrubProgress();\n\n      if (o.settings_trigger_resize > 0) {\n        if (o.parentgallery && $(o.parentgallery).get(0) !== undefined && $(o.parentgallery).get(0).api_handleResize !== undefined) {\n          $(o.parentgallery).get(0).api_handleResize();\n        }\n      }\n\n    }\n\n\n    function draw_canvas_inter_func() {\n      view_drawCanvases(selfClass, cthis.attr('data-pcm'), 'canvas_normal_pcm');\n\n      draw_canvas_inter = 0;\n    }\n\n\n    function viewCalculateScrubbarWidth() {\n\n\n      if (selfClass.scrubbarWidth === 0) {\n        selfClass.scrubbarWidth = selfClass._scrubbar.width();\n      }\n      if (selfClass.scrubbarWidth === 0) {\n        selfClass.scrubbarWidth = 300;\n      }\n    }\n\n    function seek_to_perc(argperc, pargs) {\n      seek_to((argperc * selfClass.timeModel.getVisualTotalTime()), pargs);\n    }\n\n    /**\n     * seek to seconds\n     * @param targetTimeMediaScrub - number of seconds\n     * @param pargs -- optiona arguments\n     * @returns {boolean}\n     */\n    function seek_to(targetTimeMediaScrub, pargs = {}) {\n\n      var margs = {\n        'call_from': 'default'\n        , 'deeplinking': 'off' // -- default or \"auto\" or \"user action\"\n        , 'call_from_type': 'default' // -- default or \"auto\" or \"user action\"\n      };\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      if (margs.call_from === 'from_feeder_to_feed') {\n\n      }\n\n      if (margs.deeplinking === 'on') {\n        var newlink = add_query_arg(window.location.href, 'audio_time', targetTimeMediaScrub);\n\n\n        var stateObj = {foo: \"bar\"};\n        history.pushState(stateObj, null, newlink);\n      }\n\n      targetTimeMediaScrub = sanitizeToIntFromPointTime(targetTimeMediaScrub);\n\n      targetTimeMediaScrub = selfClass.timeModel.getActualTargetTime(targetTimeMediaScrub);\n\n      if (selfClass._actualPlayer) {\n        player_feederSeekTo(selfClass, margs, targetTimeMediaScrub);\n\n        return false;\n      }\n\n\n      if (selfClass.audioType === 'youtube') {\n        try {\n          selfClass.$mediaNode_.seekTo(targetTimeMediaScrub);\n        } catch (err) {\n\n        }\n      }\n\n      handleEnterFrame({\n        'fire_only_once': true\n      })\n      setTimeout(function () {\n        handleEnterFrame({\n          'fire_only_once': true\n        })\n      }, 20);\n\n\n      if (selfClass.audioType === 'selfHosted') {\n        if (0) {\n\n          selfClass.lastTimeInSeconds = targetTimeMediaScrub;\n\n          pause_media({\n            'audioapi_setlasttime': false\n          });\n          play_media({\n            'called_from': 'audio_buffer ( seek_to() )'\n          });\n        } else {\n\n          if (selfClass.$mediaNode_ && typeof (selfClass.$mediaNode_.currentTime) !== 'undefined') {\n\n            try {\n              selfClass.$mediaNode_.currentTime = targetTimeMediaScrub;\n            } catch (e) {\n            }\n\n          }\n\n          return false;\n\n        }\n\n      }\n\n\n    }\n\n    /**\n     * seek to ( only visual )\n     * @param argperc\n     */\n    function seek_to_visual(argperc) {\n\n\n      curr_time_first_set = true;\n\n\n      handleEnterFrame({\n        'fire_only_once': true\n      })\n      setTimeout(function () {\n        handleEnterFrame({\n          'fire_only_once': true\n        })\n      }, 20);\n    }\n\n    /**\n     * playback speed\n     * @param {float} arg 0 - 10\n     */\n    function set_playback_speed(arg) {\n\n      if (selfClass.audioType === 'youtube') {\n        selfClass.$mediaNode_.setPlaybackRate(arg);\n      }\n      if (selfClass.audioType === 'selfHosted') {\n        selfClass.$mediaNode_.playbackRate = arg;\n\n      }\n\n    }\n\n\n    function pause_media_visual(pargs) {\n\n\n      var margs = {\n        'call_from': 'default'\n      };\n\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n      selfClass.$conPlayPause.removeClass('playing');\n      cthis.removeClass('is-playing');\n      selfClass.isPlayerPlaying = false;\n      clearTimeout(selfClass.isPlayerPlayingEasedInterval);\n      selfClass.isPlayerPlayingEasedInterval = setTimeout(() => {\n        selfClass.isPlayerPlayingEased = false;\n      }, DZSAP_VIEW_PLAYER_PLAYING_EASED_TIMEOUT);\n\n\n      if (cthis.parent().hasClass('zoomsounds-wrapper-bg-center')) {\n        cthis.parent().removeClass('is-playing');\n      }\n      if (selfClass.$reflectionVisualObject) {\n        selfClass.$reflectionVisualObject.removeClass('is-playing');\n      }\n\n      if (o.parentgallery) {\n        o.parentgallery.removeClass('player-is-playing');\n      }\n\n\n      clearTimeout(isRenderingFrameInterval);\n      isRenderingFrameInterval = setTimeout(() => {\n\n        isRenderingFrame = false;\n      }, DZSAP_VIEW_PLAYER_PLAYING_EASED_TIMEOUT);\n\n\n      if (action_audio_pause) {\n        action_audio_pause(cthis);\n      }\n    }\n\n    function pause_media(pargs) {\n\n      var margs = {\n        'audioapi_setlasttime': true,\n        'donot_change_media': false,\n        'call_actual_player': true,\n      };\n\n      if (isDestroyed) {\n        return false;\n      }\n\n      if (pargs) {\n        margs = $.extend(margs, pargs);\n      }\n\n\n      pause_media_visual({\n        'call_from': 'pause_media'\n      });\n\n\n      if (margs.call_actual_player && margs.donot_change_media !== true) {\n        if (selfClass._actualPlayer !== null) {\n          player_actualPlayerPause(selfClass);\n\n          return;\n        }\n      }\n\n\n      media_pause(selfClass, () => {\n        if (selfClass._sourcePlayer) {\n          player_sourcePlayerPauseVisual(selfClass);\n        }\n      })\n\n\n    }\n\n    function play_media_visual(margs) {\n\n\n      selfClass.isPlayerPlaying = true;\n      clearTimeout(selfClass.isPlayerPlayingEasedInterval);\n      selfClass.isPlayerPlayingEased = true;\n      clearTimeout(isRenderingFrameInterval);\n      isRenderingFrame = true;\n\n      cthis.addClass('is-playing');\n      cthis.addClass('first-played');\n\n      if (selfClass.$reflectionVisualObject) {\n        selfClass.$reflectionVisualObject.addClass('is-playing');\n      }\n      if (o.parentgallery) {\n        o.parentgallery.addClass('player-is-playing');\n      }\n\n      if (selfClass.classFunctionalityInnerPlaylist) {\n        selfClass.classFunctionalityInnerPlaylist.player_determineSyncPlayersIndex(selfClass, selfClass._sourcePlayer);\n      }\n      view_player_globalDetermineSyncPlayersIndex(selfClass);\n\n      view_player_playMiscEffects(selfClass);\n\n\n      if (selfClass.isStickyPlayer) {\n\n\n        if(window['dzsap_stickyPlayer_show']){\n          dzsap_stickyPlayer_show(selfClass);\n        }\n      }\n\n\n      if (action_audio_play) {\n        action_audio_play(cthis);\n      }\n      if (action_audio_play2) {\n        action_audio_play2(cthis);\n      }\n\n\n    }\n\n    function play_media(pargs) {\n\n      var margs = {\n        'api_report_play_media': true,\n        'called_from': 'default',\n        'retry_call': 0\n      }\n      if (pargs) {\n        margs = $.extend(margs, pargs)\n      }\n\n      if (!selfClass.isSetupedMedia) {\n        setup_media({'called_from': margs.called_from + '[play_media .. not setuped]'});\n      }\n\n\n      if (margs.called_from === 'api_sync_players_prev') {\n\n        player_index_in_gallery = cthis.parent().children('.audioplayer,.audioplayer-tobe').index(cthis);\n\n        if (o.parentgallery && o.parentgallery.get(0) && o.parentgallery.get(0).api_goto_item) {\n          o.parentgallery.get(0).api_goto_item(player_index_in_gallery);\n        }\n      }\n\n      if ((is_ios() && selfClass.spectrum_audioContext_buffer === 'waiting') || selfClass.mediaProtectionStatus === 'fetchingProtection') {\n        setTimeout(function () {\n          if (!pargs) {\n            pargs = {};\n          }\n          pargs.call_from_aux = 'waiting audioCtx_buffer or ios';\n          play_media(pargs);\n        }, 500);\n        return false;\n      }\n\n      if (margs.called_from === 'click_playpause') {\n        // -- lets setup the playlist\n      }\n\n\n      if (!cthis.hasClass('media-setuped') && selfClass._actualPlayer === null) {\n        console.log('[dzsap][warning] media not setuped, there might be issues', cthis.attr('id'));\n      }\n\n\n      if (margs.called_from.indexOf('feed_to_feeder') > -1) {\n        if (!cthis.hasClass('dzsap-loaded')) {\n          init_loaded();\n          let delay = 300;\n          if (is_android()) {\n            delay = 0;\n          }\n          if (margs.call_from_aux !== 'with delay') {\n            if (delay) {\n              setTimeout(function () {\n                margs.call_from_aux = 'with delay';\n                play_media(margs);\n              }, delay);\n            } else {\n              play_media(margs);\n            }\n            return false;\n          }\n\n        }\n      }\n\n      player_stopOtherPlayers(dzsap_list, selfClass);\n\n\n      if (isDestroyedForRebuffer) {\n        setup_media({\n          'called_from': 'play_media() .. destroyed for rebuffer'\n        });\n        if (isInt(selfClass.playFrom)) {\n          seek_to(selfClass.playFrom, {\n            'call_from': 'destroyed_for_rebuffer_playfrom'\n          });\n        }\n        isDestroyedForRebuffer = false;\n      }\n\n\n      // -- media functions\n\n      if (selfClass._sourcePlayer) {\n        player_sourcePlayerPlayVisual(selfClass);\n      }\n\n\n      if (selfClass._actualPlayer) {\n        var output = player_actualPlayerPlay(selfClass, margs, seek_to);\n        if (output.itShouldReturn) {\n          return;\n        }\n      }\n\n\n      if (selfClass.audioType === 'youtube') {\n        dzsap_youtube_playMedia(selfClass, margs, selfClass.youtube_currentId);\n      }\n      if (selfClass.audioType === 'selfHosted') {\n\n\n      }\n\n\n      if (selfClass.audioType === 'youtube') {\n        play_media_visual(margs);\n      }\n\n      media_tryToPlay(selfClass, () => {\n\n        play_media_visual(margs);\n        if (o.skinwave_enableSpectrum === 'on') {\n          player_initSpectrum(selfClass);\n        }\n\n        if (selfClass._sourcePlayer) {\n          window.dzsap_currplayer_focused = selfClass._sourcePlayer.get(0);\n          if (selfClass._sourcePlayer.get(0) && selfClass._sourcePlayer.get(0).api_pause_media_visual) {\n            selfClass._sourcePlayer.get(0).api_try_to_submit_view();\n          }\n        } else {\n          window.dzsap_currplayer_focused = cthis.get(0);\n          service_submitView();\n        }\n\n\n        if (selfClass.keyboard_controls.play_trigger_step_back === 'on') {\n          if (dzsap_currplayer_focused) {\n            dzsap_currplayer_focused.api_step_back(selfClass.keyboard_controls.step_back_amount);\n          }\n        }\n      }, (err) => {\n        console.log('error autoplay playing -  ', err);\n        setTimeout(() => {\n          pause_media();\n          console.log('trying to pause')\n        }, 30);\n      })\n\n\n    }\n\n\n    function service_submitView() {\n      if (selfClass.ajax_view_submitted === 'auto') {\n        selfClass.ajax_view_submitted = 'off';\n      }\n      if (selfClass.ajax_view_submitted === 'off') {\n\n        (ajax_submit_views.bind(selfClass))();\n      }\n    }\n\n\n  }\n}\n\n\nfunction register_dzsap_plugin() {\n  if (!window.dzsap_settings) {\n    window.dzsap_settings = {};\n  }\n  (function ($) {\n\n\n    assignHelperFunctionsToJquery($);\n\n\n    // -- define player here\n    $.fn.audioplayer = function (argOptions) {\n      let finalOptions = {};\n      const defaultOptions = Object.assign({}, defaultPlayerOptions);\n      finalOptions = convertPluginOptionsToFinalOptions(this, defaultOptions, argOptions);\n\n\n      this.each(function () {\n        return new DzsAudioPlayer(this, Object.assign({}, finalOptions), $);\n      })\n    }\n  })(jQuery);\n}\n\nwindow.dzsap_singleton_ready_calls_is_called = false;\n\n\n/**\n * not reliable\n */\nwindow.dzsap_get_base_url = function () {\n\n  window.dzsap_base_url = (window.dzsap_settings && window.dzsap_settings.pluginurl) ? window.dzsap_settings.pluginurl : getBaseUrl('dzsap_base_url', 'audioplayer.js');\n\n}\n\n\nwindow.dzsap_currplayer_focused = null;\nwindow.dzsap_currplayer_from_share = null;\nwindow.dzsap_mouseover = false;\n\n\nwindow.dzsap_init_allPlayers = function ($) {\n\n  const $feed_dzsapConfigs = $('.dzsap-feed--dzsap-configs');\n  if ($feed_dzsapConfigs.length) {\n    window.dzsap_apconfigs = JSON.parse($feed_dzsapConfigs.last().html());\n  }\n\n  $('.audioplayer.auto-init,.audioplayer-tobe.auto-init').each(function () {\n    const $playerTarget = $(this);\n    if ($playerTarget.hasClass('audioplayer-tobe')) {\n      if (window.dzsap_init) {\n        dzsap_init($playerTarget);\n      }\n    }\n  })\n}\n\n\ndzsap_jQueryInit().then(() => {\n  register_dzsap_plugin();\n  window.dzsap_get_base_url();\n  jQuery(document).ready(function ($) {\n\n\n    // -- defined gallery here\n    // --\n    // AUDIO GALLERY\n    // --\n\n\n    // -- main call\n\n    if (!window.dzsap_singleton_ready_calls_is_called) {\n      dzsap_singleton_ready_calls();\n    }\n\n\n    // window.dzsap_init_allGalleries($);\n\n    jQueryAuxBindings($);\n\n    window.dzsap_init_allPlayers($)\n  });\n\n\n  if (!window.dzsap_player_isOneTimeSetuped) {\n    dzsap_oneTimeSetups();\n    window.dzsap_player_isOneTimeSetuped = true;\n  }\n}).catch((err) => {\n  console.log(err);\n})\n\n\nwindow.dzsap_init = function (selector, settings) {\n  jQuery(selector).audioplayer(Object.assign({}, settings));\n\n  window.dzsap_lasto = settings;\n};\nplayerRegisterWindowFunctions();\n","import {formatTime} from \"../_dzsap_helpers\";\nimport {view_calculateTargetPositionOnScrub} from \"../view/player/_view_dimensionHelpers\";\n\nexport function player_scrubbarSetup(selfClass, $, o, view_drawCurrentTime, viewCalculateScrubbarWidth, play_media, seek_to) {\n  const cthis = selfClass.cthis;\n  selfClass._scrubbar.on('mousemove', handleMouseOnScrubbar);\n  selfClass._scrubbar.on('mouseleave', handleMouseOnScrubbar);\n  selfClass._scrubbar.on('click', handleMouseOnScrubbar);\n\n\n  function handleMouseOnScrubbar(e) {\n    var mousex = e.pageX;\n\n\n    if ($(e.target).hasClass('sample-block-start') || $(e.target).hasClass('sample-block-end')) {\n      return false;\n    }\n\n    if (e.type === 'mousemove') {\n      selfClass._scrubbar.children('.scrubBox-hover').css({\n        'left': (mousex - selfClass._scrubbar.offset().left)\n      });\n\n\n      if (o.scrub_show_scrub_time === 'on') {\n\n\n        if (selfClass.timeModel.getVisualTotalTime()) {\n          var aux = (mousex - selfClass._scrubbar.offset().left) / selfClass._scrubbar.outerWidth() * selfClass.timeModel.getVisualTotalTime();\n\n\n          if (selfClass.$currTime) {\n            selfClass.$currTime.html(formatTime(aux));\n            selfClass.$currTime.addClass('scrub-time');\n\n          }\n\n          selfClass.isScrubShowingCurrentTime = true;\n        }\n      }\n\n    }\n    if (e.type === 'mouseleave') {\n\n      selfClass.isScrubShowingCurrentTime = false;\n\n      if (selfClass.$currTime) {\n        selfClass.$currTime.removeClass('scrub-time');\n\n      }\n\n      view_drawCurrentTime();\n\n    }\n    if (e.type === 'click') {\n\n\n      if (cthis.hasClass('prevent-bubble')) {\n        if (e && e.stopPropagation) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      }\n\n      viewCalculateScrubbarWidth();\n      let targetPositionOnScrub = view_calculateTargetPositionOnScrub(selfClass, selfClass.scrubbarWidth, e);\n\n      if (selfClass._actualPlayer) {\n        setTimeout(function () {\n          if (selfClass._actualPlayer.get(0) && selfClass._actualPlayer.get(0).api_pause_media) {\n\n            selfClass._actualPlayer.get(0).api_seek_to_perc(targetPositionOnScrub / selfClass.timeModel.getVisualTotalTime(), {\n              'call_from': 'from_feeder_to_feed'\n            });\n          }\n        }, 50);\n      }\n\n\n      seek_to(targetPositionOnScrub, {\n        'call_from': 'handleMouseOnScrubbar'\n      });\n\n      if (o.autoplay_on_scrub_click === 'on') {\n        if (!selfClass.isPlayerPlaying) {\n          play_media({\n            'called_from': 'handleMouseOnScrubbar'\n          });\n        }\n      }\n\n      if (cthis.hasClass('from-wc_loop')) {\n        return false;\n      }\n    }\n\n  }\n\n}\n","export function view_calculateTargetPositionOnScrub(selfClass, scrubbarWidth, e) {\n  let targetPositionOnScrub = ((e.pageX - (selfClass._scrubbar.offset().left)) / (scrubbarWidth) * selfClass.timeModel.getVisualTotalTime());\n\n\n  if (selfClass.sample_time_start > 0) {\n    targetPositionOnScrub -= selfClass.sample_time_start;\n  }\n\n\n  return targetPositionOnScrub;\n}\n","import {ConstantsDzsAp} from \"../../configs/_constants\";\nimport {retrieve_soundcloud_url} from \"../_dzsap_misc\";\nimport {\n  scrubModeWave__checkIfWeShouldTryToGetPcm,\n  scrubModeWave__view_transitionIn\n} from \"../wave-render/_wave-render-functions\";\nimport {\n  assignPcmData,\n  player_reinit_findIfPcmNeedsGenerating,\n  sanitizeObjectForChangeMediaArgs,\n} from \"../_dzsap_helpers\";\nimport {player_adjustIdentifiers} from \"../player/_player_config\";\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n * @param $\n * @returns {function(*, *=): (boolean|undefined)}\n */\nexport function media_changeMedia(selfClass, $) {\n  /**\n   * change media source for the player / change_media(\"song.mp3\", {type:\"audio\", fakeplayer_is_feeder:\"off\"});\n   * @param {HTMLElement|string} $playerSource - can be player dom element\n   * @param pargs - {type:\"audio\", fakeplayer_is_feeder:\"off\"}\n   * @returns {boolean}\n   */\n  return function ($playerSource, pargs = {}) {\n\n\n    const changeMediaArgsDefaults = {\n      type: '',\n      fakeplayer_is_feeder: 'off' // -- this is OFF in case there is a button feeding it, and on if it's an actual player\n      , called_from: 'default'\n      , source: 'default'\n      , pcm: ''\n      , artist: \"\"\n      , song_name: \"\"\n      , thumb: \"\"\n      , thumb_link: \"\"\n      , autoplay: \"on\"\n      , cue: \"on\"\n      , feeder_type: \"player\"\n      , source_player_do_not_update: \"off\"\n      , playerid: \"\"\n    };\n\n\n    selfClass.ajax_view_submitted = 'on'; // -- view submitted from caller\n\n\n    var handle_resize_delay = 500;\n    let changeMediaArgs = {...changeMediaArgsDefaults, ...pargs};\n    var o = selfClass.initOptions;\n\n\n    const $sourceForChange = $playerSource;\n\n\n    // -- let us decide if we pause old player\n    var isGoingToPauseTheOldPlayer = true; // pause previous player\n    var isGoingToPauseTheActualPlayer = false; // pause if\n    var isSourceAStringSource = false;\n    var isSourceAZoomSoundsAudioplayer = false;\n    let isSourceA$Object = false;\n\n    let newSource = '';\n\n\n    if ($sourceForChange && $sourceForChange.attr) {\n      isSourceA$Object = true;\n    }\n\n\n    selfClass.reinit_resetMetrics();\n    selfClass.reinit_beforeChangeMedia();\n\n    if (typeof $sourceForChange === 'string') {\n      isSourceAStringSource = true;\n    }\n\n    if (!isSourceAStringSource) {\n      if ($playerSource.hasClass('audioplayer') || $playerSource.hasClass('audioplayer-tobe')) {\n        isSourceAZoomSoundsAudioplayer = true;\n      }\n    }\n\n    $('.current-feeder-for-parent-player').removeClass('current-feeder-for-parent-player');\n\n    if (selfClass.$reflectionVisualObject) {\n      selfClass.$reflectionVisualObject.removeClass('is-playing');\n    }\n\n\n    if (isSourceAStringSource) {\n      newSource = $sourceForChange;\n    }\n    if (isSourceA$Object) {\n\n      newSource = $sourceForChange.attr('data-source');\n      selfClass.$reflectionVisualObject = $sourceForChange;\n      changeMediaArgs = {...changeMediaArgs, ...sanitizeObjectForChangeMediaArgs($sourceForChange)};\n    }\n    if (changeMediaArgs.source && changeMediaArgs.source != 'default') {\n      newSource = changeMediaArgs.source;\n    }\n\n\n    if (selfClass.data_source === newSource) {\n      isGoingToPauseTheOldPlayer = false;\n    }\n\n    // -- old feed fake player\n\n    if (isGoingToPauseTheOldPlayer && selfClass._sourcePlayer) {\n      selfClass._sourcePlayer.get(0).api_pause_media_visual({\n        'call_from': 'change_media'\n      });\n      selfClass._sourcePlayer.get(0).api_set_timeVisualTotal(0);\n    }\n\n    // -- we are in one mode, so we need to preserve the originalSettings of the first item\n    if (!(selfClass.cthis.data('original-settings')) && selfClass.data_source !== 'fake') {\n      selfClass.cthis.data('original-settings', sanitizeObjectForChangeMediaArgs(selfClass.cthis))\n    }\n\n\n    const oldSource = selfClass.data_source;\n    selfClass.data_source = newSource;\n\n    const isSourceHasClassForDomSource = !isSourceAStringSource && !!($sourceForChange.hasClass('audioplayer') || $sourceForChange.hasClass('is-zoomsounds-source-player'));\n\n\n    if ((isSourceHasClassForDomSource) || changeMediaArgs.fakeplayer_is_feeder === 'on') {\n\n      selfClass.set_sourcePlayer($sourceForChange)\n      if (selfClass._sourcePlayer) {\n\n        selfClass.cthis.data('feeding-from', selfClass._sourcePlayer.get(0));\n        selfClass._sourcePlayer.addClass('current-feeder-for-parent-player');\n      }\n    }\n\n    if (!isSourceAStringSource && $sourceForChange) {\n      if ($sourceForChange && $sourceForChange.attr('data-playerid')) {\n        selfClass.cthis.attr('data-feed-playerid', $sourceForChange.attr('data-playerid'));\n      } else {\n        selfClass.cthis.attr('data-feed-playerid', '');\n        changeMediaArgs.playerid = '';\n      }\n    }\n\n\n    if (oldSource === newSource) {\n      if (selfClass.cthis.hasClass('is-playing')) {\n        selfClass.pause_media();\n      } else {\n        selfClass.play_media();\n      }\n      return false;\n    }\n\n\n    if (changeMediaArgs.type === 'detect' || changeMediaArgs.type === 'audio' || changeMediaArgs.type === 'normal') {\n      changeMediaArgs.type = 'selfHosted';\n    }\n\n\n    selfClass.cthis.removeClass('meta-loaded');\n\n\n    // -- footer placeholder\n    if (selfClass.cthis.parent().hasClass('audioplayer-was-loaded')) {\n\n      selfClass.cthis.parent().addClass('audioplayer-loaded');\n      $('body').addClass('footer-audioplayer-loaded');\n      selfClass.cthis.parent().removeClass('audioplayer-was-loaded');\n    }\n\n    if (selfClass.$stickToBottomContainer) {\n      selfClass.$stickToBottomContainer.addClass('audioplayer-loaded');\n    }\n\n\n    selfClass.cthis.removeClass(ConstantsDzsAp.ERRORED_OUT_CLASS);\n\n\n    selfClass.destroy_media();\n\n\n    selfClass.cthis.attr('data-source', changeMediaArgs.source);\n\n\n    const original_type = changeMediaArgs.type;\n    if (changeMediaArgs.type === 'mediafile') {\n      changeMediaArgs.type = 'audio';\n    }\n    if (changeMediaArgs.type) {\n      if (changeMediaArgs.type === 'soundcloud') {\n        changeMediaArgs.type = 'audio';\n      }\n      if (changeMediaArgs.type === 'album_part') {\n        changeMediaArgs.type = 'audio';\n      }\n      selfClass.cthis.attr('data-type', changeMediaArgs.type);\n      selfClass.audioType = changeMediaArgs.type;\n      o.type = changeMediaArgs.type;\n    }\n\n\n    if (o.design_skin === 'skin-wave') {\n      if (o.skinwave_wave_mode === 'canvas') {\n        if (selfClass._sourcePlayer) {\n          selfClass.data_source = $sourceForChange.attr('data-source');\n        } else {\n          if (typeof $sourceForChange === 'string') {\n\n            selfClass.data_source = $sourceForChange;\n          }\n        }\n\n        if ($sourceForChange && changeMediaArgs.pcm) {\n\n          if (selfClass.initOptions.scrubbar_type === 'wave') {\n\n            selfClass.cthis.attr('data-pcm', $sourceForChange.attr('data-pcm'));\n            assignPcmData(selfClass);\n            scrubModeWave__view_transitionIn(selfClass, $sourceForChange.attr('data-pcm'));\n          }\n        } else {\n\n          player_reinit_findIfPcmNeedsGenerating(selfClass);\n\n          scrubModeWave__checkIfWeShouldTryToGetPcm(selfClass, {});\n        }\n\n      }\n\n\n      // -- inside skin-wave\n      if (changeMediaArgs.thumb) {\n\n        if (selfClass.cthis.find('.the-thumb').length) {\n\n          selfClass.cthis.find('.the-thumb').css('background-image', 'url(' + changeMediaArgs.thumb + ')');\n        } else {\n          selfClass.cthis.attr('data-thumb', changeMediaArgs.thumb);\n          selfClass.setupStructure_thumbnailCon();\n        }\n\n      }\n    }\n\n\n    if (changeMediaArgs.thumb) {\n\n      if (selfClass.cthis.find('.the-thumb').length) {\n\n        selfClass.cthis.find('.the-thumb').css('background-image', 'url(' + changeMediaArgs.thumb + ')');\n      } else {\n        selfClass.cthis.attr('data-thumb', changeMediaArgs.thumb);\n        selfClass.setupStructure_thumbnailCon()\n      }\n\n      selfClass.cthis.removeClass('does-not-have-thumb');\n      selfClass.cthis.addClass('has-thumb');\n    } else {\n      selfClass.cthis.addClass('does-not-have-thumb');\n      selfClass.cthis.removeClass('has-thumb');\n    }\n\n\n    if (changeMediaArgs.pcm === '') {\n      selfClass.setup_pcm_random_for_now();\n    }\n\n\n    player_adjustIdentifiers(selfClass);\n\n\n    handle_resize_delay = 100;\n\n\n    if (!isSourceAStringSource && $sourceForChange) {\n\n\n      // -- .feed-dzsap-for-extra-html-right will be appended to the footer player\n\n      var selector = '';\n      var $feedExtraHtmlRightFromSource = null;\n      if ($sourceForChange.find('.feed-dzsap-for-extra-html-right').length) {\n        $feedExtraHtmlRightFromSource = $sourceForChange.find('.feed-dzsap-for-extra-html-right').eq(0);\n      } else {\n        // -- we use this for Shop Builder\n        if (selfClass._sourcePlayer) {\n\n          if (selfClass._sourcePlayer.attr('data-playerid') && $(document).find('.feed-dzsap-for-extra-html-right[data-playerid=\"' + selfClass._sourcePlayer.attr('data-playerid') + '\"]').length) {\n            $feedExtraHtmlRightFromSource = $(document).find('.feed-dzsap-for-extra-html-right[data-playerid=\"' + selfClass._sourcePlayer.attr('data-playerid') + '\"]').eq(0);\n          }\n        }\n      }\n\n      if ($feedExtraHtmlRightFromSource) {\n        selfClass.classMetaParts.set_extraHtmlFloatRight($feedExtraHtmlRightFromSource.html());\n\n      }\n    }\n\n    if (changeMediaArgs.artist) {\n      selfClass.cthis.find('.the-artist').html(changeMediaArgs.artist);\n    }\n    if (changeMediaArgs.song_name) {\n      selfClass.cthis.find('.the-name').html(changeMediaArgs.song_name);\n    }\n\n\n    if (changeMediaArgsDefaults.source_player_do_not_update === 'on') {\n      selfClass.set_sourcePlayer(null);\n    }\n\n\n    if (original_type === 'soundcloud' && changeMediaArgs.source.indexOf('api.soundcloud') === -1) {\n      selfClass.data_source = changeMediaArgs.source;\n\n      selfClass.isPlayPromised = true;\n      setTimeout(function () {\n        selfClass.isPlayPromised = true;\n      }, 501);\n      retrieve_soundcloud_url(selfClass);\n\n    } else {\n\n      // -- setup media for all sources\n      // -- make sure source is not fake\n      selfClass.setup_media({\n        'called_from': 'change_media'\n      });\n    }\n\n\n    selfClass.timeModel.getSampleTimesFromDom(selfClass._sourcePlayer);\n\n\n    if (selfClass.audioType === 'fake') {\n      return false;\n    }\n\n    if (selfClass.initOptions.action_audio_change_media) {\n      selfClass.initOptions.action_audio_change_media(changeMediaArgs.source, changeMediaArgs);\n    }\n\n\n    if (changeMediaArgs.autoplay === 'on') {\n      selfClass.play_media_visual();\n\n      if (!isSourceAZoomSoundsAudioplayer) {\n\n        setTimeout(function () {\n          selfClass.play_media({\n            'called_from': 'changeMediaArgs.autoplay'\n          });\n        }, 100);\n      }\n    }\n    selfClass.reinit();\n\n    if (o.skinwave_enableSpectrum === 'on') {\n      selfClass.spectrum_analyser = null;\n    }\n    setTimeout(function () {\n\n      selfClass.handleResize(null, {\n        called_from: 'change_media'\n      });\n    }, handle_resize_delay)\n  }\n}\n","import {ajax_submit_download} from \"../_dzsap_ajax\";\n\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n * @param {jQuery} $\n * @param {function} seek_to\n */\nexport const player_setupMiscButtons = (selfClass, $, seek_to) => {\n  var cthis = selfClass.cthis;\n\n  cthis.on('click', '.dzsap-repeat-button,.btn-zoomsounds-download,.zoomsounds-btn-step-backward,.zoomsounds-btn-step-forward,.zoomsounds-btn-go-beginning,.zoomsounds-btn-slow-playback,.zoomsounds-btn-reset, .tooltip-indicator--btn-footer-playlist, .wave-download', handle_mouse);\n  cthis.find('.wave-download').on('click', handle_mouse);\n\n\n\n  cthis.on('click', '.skip-15-sec', function () {\n    cthis.get(0).api_step_forward(15);\n  });\n\n  function handle_mouse(e) {\n    let _target;\n    const $t = $(this);\n\n    // if ($t.hasClass('wave-download')) {\n    //   (ajax_submit_download.bind(selfClass))();\n    // }\n    if ($t.hasClass('tooltip-indicator--btn-footer-playlist')) {\n\n      $t.parent().find('.dzstooltip').toggleClass('active');\n    }\n    if ($t.hasClass('zoomsounds-btn-go-beginning')) {\n\n      _target = cthis;\n      if (selfClass._actualPlayer) {\n        _target = selfClass._actualPlayer;\n      }\n\n      _target.get(0).api_seek_to(0);\n    }\n    if ($t.hasClass('zoomsounds-btn-step-backward')) {\n\n      _target = cthis;\n      if (selfClass._actualPlayer) {\n        _target = selfClass._actualPlayer;\n      }\n\n      _target.get(0).api_step_back();\n    }\n    if ($t.hasClass('zoomsounds-btn-step-forward')) {\n\n      _target = cthis;\n      if (selfClass._actualPlayer) {\n        _target = selfClass._actualPlayer;\n      }\n\n      _target.get(0).api_step_forward();\n    }\n    if ($t.hasClass('zoomsounds-btn-slow-playback')) {\n      _target = cthis;\n      if (selfClass._actualPlayer) {\n        _target = selfClass._actualPlayer;\n      }\n\n      _target.get(0).api_playback_slow();\n    }\n    if ($t.hasClass('zoomsounds-btn-reset')) {\n      _target = cthis;\n      if (selfClass._actualPlayer) {\n        _target = selfClass._actualPlayer;\n      }\n\n      _target.get(0).api_playback_reset();\n    }\n    if ($t.hasClass('btn-zoomsounds-download')) {\n      (ajax_submit_download.bind(selfClass))();\n    }\n    if ($t.hasClass('dzsap-repeat-button')) {\n\n      if (selfClass.isPlayerPlaying) {\n      }\n      seek_to(0, {\n        call_from: \"repeat\"\n      });\n    }\n\n\n  }\n\n}\n","export const dzsap_player_touchFunctionalitySetup = (selfClass, seek_to_perc, $) => {\n  // -- touch controls\n  var scrubbar_moving = false\n    , scrubbar_moving_x = 0\n    , aux3 = 0\n  ;\n\n\n  if (selfClass._scrubbar && selfClass._scrubbar.get(0)) {\n\n    selfClass._scrubbar.get(0).addEventListener('touchstart', function (e) {\n      if (selfClass.isPlayerPlaying) {\n        scrubbar_moving = true;\n      }\n    }, {passive: true})\n  }\n\n  $(document).on('touchmove', function (e) {\n    if (scrubbar_moving) {\n      scrubbar_moving_x = e.originalEvent.touches[0].pageX;\n\n\n      aux3 = scrubbar_moving_x - selfClass._scrubbar.offset().left;\n\n      if (aux3 < 0) {\n        aux3 = 0;\n      }\n      if (aux3 > selfClass._scrubbar.width()) {\n        aux3 = selfClass._scrubbar.width();\n      }\n\n      seek_to_perc(aux3 / selfClass._scrubbar.width(), {\n        call_from: \"touch move\"\n      });\n\n\n      return false;\n\n    }\n  });\n\n  $(document).on('touchend', function (e) {\n    scrubbar_moving = false;\n  });\n}\n","export const player_menuStateSetup = (cthis,o) => {\n\n  cthis.find('.btn-menu-state').eq(0).on('click', handleClickMenuState);\n\n\n  function handleClickMenuState(e) {\n    if (o.parentgallery && typeof (o.parentgallery.get(0)) !== \"undefined\") {\n      o.parentgallery.get(0).api_toggle_menu_state();\n    }\n  }\n}\n","export const dzsap_oneTimeSetups = ()=>{\n\n\n  window.dzsap_generate_list_for_sync_players = function (pargs) {\n    var $ = jQuery;\n\n    var margs = {\n      'force_regenerate': false\n\n    };\n\n    if (pargs) {\n      margs = $.extend(margs, pargs);\n    }\n    window.dzsap_syncList_players = [];\n\n\n    if ((window.dzsap_settings.syncPlayers_buildList === 'on') || margs.force_regenerate) {\n\n      jQuery('.audioplayer,.audioplayer-tobe').each(function () {\n        var _t2 = jQuery(this);\n        if (_t2.attr('data-do-not-include-in-list') !== 'on') {\n          if (_t2.attr('data-type') !== 'fake' || _t2.attr('data-fakeplayer')) {\n            window.dzsap_syncList_players.push(_t2);\n          }\n        }\n      })\n\n\n    }\n  }\n\n\n  jQuery(document).off('click.dzsap_global');\n  jQuery(document).on('click.dzsap_global', '.dzsap-btn-info', function () {\n\n    var _t = jQuery(this);\n    if (_t.hasClass('dzsap-btn-info')) {\n\n      _t.find('.dzstooltip').toggleClass('active');\n      return;\n    }\n\n  })\n  jQuery(document).on('mouseover.dzsap_global', '.dzsap-btn-info', function () {\n\n    var _t = jQuery(this);\n    if (_t.hasClass('dzsap-btn-info')) {\n\n      if (window.innerWidth < 500) {\n\n        if (_t.offset().left < (window.innerWidth / 2)) {\n          _t.find('.dzstooltip').removeClass('talign-end').addClass('talign-start');\n        }\n      } else {\n        _t.find('.dzstooltip').addClass('talign-end').removeClass('talign-start');\n      }\n    }\n\n  });\n}\n"],"names":["ConstantsDzsAp","PLAYLIST_TRANSITION_DURATION","URL_WAVESURFER_HELPER_BACKUP","WAVESURFER_MAX_TIMEOUT","URL_JQUERY","DEBUG_STYLE_PLAY_FUNCTIONS","ERRORED_OUT_CLASS","ERRORED_OUT_MAX_ATTEMPTS","DZSAP_PLAYER_CLASS_FOOTER_PLAYER","DZSAP_PLAYER_CLASS_LOADED","DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM","DZSAP_PLAYER_TYPE_FOR_ACCEPTING_FEED","DZSAP_PLAYER_ATTR_PLAY_FROM_LAST_POS","DZSAP_SCRIPT_SELECTOR_KEYBOARD","DZSAP_VIEW_PLAYER_PLAYING_EASED_TIMEOUT","decode_json","arg","fout","JSON","parse","err","dzsap_jQueryInit","callback","reject","Promise","resolve","window","jQuery","script","document","createElement","onload","src","head","appendChild","setTimeout","string_curateClassName","replace","loadScriptIfItDoesNotExist","scriptSrc","checkForVar","onerror","getBaseUrl","baseUrlVar","scriptName","scripts","getElementsByTagName","scriptKey","String","indexOf","baseUrl_arr","split","splice","url","result","join","substr","setupTooltip","args","mainArgs","Object","assign","tooltipInnerHTML","tooltipIndicatorText","tooltipConClass","isInt","n","Math","round","isValid","getRelativeX","mouseX","$el_","offset","left","formatTime","s","m","h","isFinite","can_history_api","history","pushState","dzs_clean_string","get_query_arg","purl","key","regtest","RegExp","exec","splitterS","aux","add_query_arg","value","pair","encodeURIComponent","r","regex_attr","dzsap_is_mobile","is_ios","is_android","navigator","platform","can_canvas","getContext","is_safari","prototype","toString","call","HTMLElement","userAgent","toLowerCase","select_all","el","getSelection","createRange","range","selectNodeContents","sel","removeAllRanges","addRange","selection","body","createTextRange","textRange","moveToElementText","select","is_android_good","htmlEncode","text","html","dzsap_generate_keyboard_tooltip","keyboard_controls","lab","structureDzsTooltipCommentAfterSubmit","hexToRgb","hex","targetAlpha","str","alpha","parseInt","g","b","assignHelperFunctionsToJquery","$","easeIn","t","c","d","checkIfHasClass","argfind","auxarr","fn","prependOnce","_t","this","children","length","prepend","appendOnce","append","registerTextWidth","textWidth","html_org","nodeName","val","html_calcS","_lastspan","last","css","width","remove","player_checkIfWeShouldShowAComment","selfClass","real_time_curr","real_time_total","timer_curr_perc","audioType","timeCurrent","timeTotal","_commentsHolder","each","hasClass","_t_posx","parseFloat","outerWidth","abs","find","removeClass","addClass","sanitizeObjectForChangeMediaArgs","_sourceForChange","changeMediaArgs","_feed_fakePlayer","data","source","attr","pcm","thumb_link","artist","eq","song_name","thumb","utils_sanitizeToColor","colorString","dzsapInitjQueryRegisters","player_radio_isNameUpdatable","radio_update_song_name","targetKey","_metaArtistCon","playerRegisterWindowFunctions","argtime","argcthis","Infinity","action","id_track","postdata","ceil","post","dzsap_ajaxurl","response","dzs_open_social_link","argthis","leftPosition","topPosition","windowFeatures","screen","height","location","href","auxa","cid","cid_gallery","dzsap_currplayer_from_share","parent","index","shareurl","open","dzsap_wp_send_contor_60_secs","argtitle","video_title","video_analytics_id","curr_user","dzsap_curr_user","theajaxurl","dzsap_settings","dzsap_site_url","ajax","type","success","error","dzsap_init_multisharer","assignPcmData","pcmSource","string_jsonConvertToArray","cthis","initOptions","skinwave_enableSpectrum","pcmSourceLen","desiredSize","i","ar_str","waves","dzsap_singleton_ready_calls","dzsap_singleton_ready_calls_is_called","$feed_dzsapMainSettings","$feed_dzsapMainSettingsAll","querySelectorAll","innerHTML","ajaxurl","ajax_url","dzsap__style","after","on","dzsap_currplayer_focused","dzsap_keyboardSetup","jQueryAuxBindings","off","e","$t","preventDefault","stopPropagation","stopImmediatePropagation","_c","get","api_change_media","playerid","wishlist_action","dzsap_lasto","settings_php_handler","view_player_playMiscEffects","$conPlayPause","view_player_globalDetermineSyncPlayersIndex","_sourcePlayer","dzsap_syncList_players","forEach","$syncPlayer","dzsap_syncList_index","player_view_addMetaLoaded","$totalTime","timeModel","refreshTimes","getVisualTotalTime","htmlEntities","waitForScriptToBeAvailableThenExecute","verifyVar","callbackFn","checkInterval","checkIfVarExists","clearInterval","setInterval","then","player_reinit_findIfPcmNeedsGenerating","o","hasInitialPcmData","skinwave_wave_mode","design_skin","isPcmRequiredToGenerate","scrubbar_type","is_inited_from_playlist","scrubbar_type_wave__has_reveal_animation","playerFunctions","functionType","skinwave_comments_playerid","the_player_id","uniqueId","identifier_pcm","skinwave_comments_enable","player_delete","_con","prev","sanitizeToHexColor","hexcolor","player_identifySource","data_source","player_identifyTypes","disable_timer","audioTypeSelfHosted_streamType","disable_scrub","player_getPlayFromTime","playFrom","playfrom","isNaN","sanitizeToIntFromPointTime","sampleTimeStart","arr","Number","player_determineStickToBottomContainer","$conTest","$stickToBottomContainer","isStickyPlayer","player_stickToBottomContainerDetermineClasses","player_service_getSourceProtection","player_isGoingToSetupMediaNow","player_stopOtherPlayers","dzsap_list","api_pause_media","api_destroy_for_rebuffer","player_syncPlayers_gotoItem","targetIncrement","syncPlayers_autoplayEnabled","$playerInSyncList","keySyncPlayer","targetIndex","$currentSyncPlayer_","api_play_media","player_syncPlayers_buildList","syncPlayers_isDzsapListBuilt","_t23","push","clearTimeout","syncPlayers_buildTimeout","convertPluginOptionsToFinalOptions","elThis","defaultOptions","argOptions","searchedAttr","$es","finalOptions","tempOptions","isSetFromJson","undefined","$elThis","isArgOptionsDefinedViaJs","Boolean","keys","eval","generateFakeArrayForPcm","it1","random","dzsap_generate_keyboard_controls","$keyboardControlsInfo","dzsap_keyboard_controls","extend","step_back_amount","handle_keypresses","dzsap_isTextFieldFocused","isKeyPressed","pause_play","dzsap_mouseover","step_back","api_step_back","step_forward","api_step_forward","sync_players_goto_next","api_sync_players_goto_next","sync_players_goto_prev","api_sync_players_goto_prev","checkKeyCode","ctrlKey","keyCode","currentTarget","$audioGallery","api_filter","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","definition","defineProperty","enumerable","obj","prop","hasOwnProperty","volume_setOnlyVisual","margs","$controlsVolume","skinwave_dynamicwaves","_scrubbar","localStorage","setItem","volume_lastVolume","volume_setVolume","pargs","volume_isSetByUser","call_from","default_volume","$mediaNode_","setVolume","volume","api_visual_set_volume","_actualPlayer","api_set_volume","scrubbar_modeWave_setupCanvas_context","_canvas","_canvasContext","imageSmoothingEnabled","imageSmoothing","imageSmoothingQuality","webkitImageSmoothing","scrubbar_modeWave_setupCanvas","prepare_for_transition_in","struct_scrubBg_str","struct_scrubProg_str","_scrubbarbg_canvas","_scrubbarprog_canvas","hide","scrubModeWave__checkIfWeShouldTryToGetPcm","dzsap_wavesurfer_is_trying_to_generate","call_attempt","isAlreadyHasRealPcm","isWeCanGeneratePcm","dzsap_get_base_url","wavesurferUrl","dzsap_base_url","scrubModeWave__view_transitionIn","scrubModeWave__initedGenerateWave","resolveStr","scrubModeWave__initGenerateWaveData","view_drawCanvases","argpcm","calledFrom","draw_canvas","design_wave_color_bg","skinwave_wave_mode_canvas_waves_number","skinwave_wave_mode_canvas_waves_padding","design_wave_color_progress","scrubbar_modeWave_clearObsoleteCanvas","scrubbar_reveal","waveCalculateWaveArray","waveArrayTemp","max","waveArrayNew","barIndex","waveArray","view_drawBars","isReflection","isProgressScrubContext","barCount","widthCanvas","heightCanvas","reflection_size","playerOptions","bar_space","isWithinSample","searched_index","lastBarHeight","gradient","spectrum_isBarWithinProgress","temp_hex","hexcolors","widthBar","sizeRatioNormal","progress_hexcolor","progress_hexcolors","save","targetRatio","barHeight","skinwave_wave_mode_canvas_normalize","lineWidth","floor","barPositionTop","beginPath","rect","isSample","isBeforeOrAfterSample","skinwave_wave_mode_canvas_mode","fillStyle","startColor","endColor","createLinearGradient","addColorStop","fill","closePath","restore","currBarIndex","sampleTimeTotal","sampleTimeEnd","$canvas_","pcm_arr","__canvas","skinwave_wave_mode_canvas_reflection_size","clearRect","player_initSpectrum","dzsap_audio_ctx","AudioContext","spectrum_audioContext","webkitAudioContext","spectrum_analyser","createAnalyser","smoothingTimeConstant","fftSize","crossOrigin","spectrum_mediaElementSource","createMediaElementSource","connect","createGain","spectrum_gainNode","destination","gain","frameCount","sampleRate","spectrum_audioContext_buffer","createBuffer","canvasWidth","dzsap_wavesurfer_load_attempt","media_removeMediaInside","$theMedia","setupMediaElement","stringAudioElementHtml","stringAudioTagSource","load","destroy_cmedia","isSetupedMedia","isPlayerLoaded","destroy_media","pause_media","isValidTotalTime","duration","retrieve_soundcloud_url","soundcloud_apikey","alert","soundcloud_retriever","php_retriever","async","dataType","q","newSource","original_real_mp3","stream_url","$feed_fakeButton","pcm_data_try_to_generate","pcm_data_try_to_generate_wait_for_real_pcm","setup_media","isPlayPromised","play_media","console","log","playbtn_svg","pausebtn_svg","svg_share_icon","player_detect_skinwave_mode","skinwave_mode","player_adjustIdentifiers","_feed_obj","PlayerTime","referenceMediaCurrentTime","referenceMediaTotalTime","visualCurrentTime","visualTotalTime","actualTotalTime","dzsapInstance","init","timeInstance","api_set_timeVisualCurrent","api_get_time_total","api_get_time_curr","getVisualCurrentTime","api_set_timeVisualTotal","currentTime","getCurrentTime","playFrom_ready","Storage","getDuration","handle_end","isMediaEnded","inter_isEnded","api_seek_to_visual","temp_time_curr","isSafeToChangeTrack","targetTime","$targetPlayer","sample_time_start","sample_time_total","pseudo_sample_time_end","sample_perc_start","sample_perc_end","sample_time_end","ajax_submit_views","argp","currip","currIp","playerSource","urlToAjaxHandler","auxnr","increment_views","ajax_view_submitted","auxlikes","ajax_comment_publish","comm_position","commentPositionPerc","skinwave_comments_avatar","comments_avatar","skinwave_comments_account","comments_username","email","charAt","slice","fout_tooltipData","action_audio_comment","ajax_submit_download","starrating_alreadyrated","_ClassMetaParts","extraHtml","hide_comments_writer","$commentsWritter","parentgallery","api_handleResize","comments_updateCommentHolderTimerWhenReady","percClickFromScrubWidth","comments_handleClickCommentsBg","argThis","$commentsHolder","leftMouseX","clientX","skinwave_comments_links_to","skinwave_comments_allow_post_if_not_logged_in","sw","$commentElement","lmx2","add_comments_placeholder","strCommentsAvatarUrl","comment_submit","comment_text","comment_email","comment_username","comm_author","test","$commentsSelector","MD5","bind","api_player_commentSubmitted","comments_selector_event","dzsap_moving_playlist_item","dzsap_playlist_con","dzsap_playlist_item_moving","dzsap_playlist_item_target","DzsapInnerPlaylist","dzsapClass","$playlistInner","thisClass","handle_mouse","ind","playlistInner_gotoItem","clone","_clone","_apControlsRight","playlistInner_setupStructureInPlayer","stringPlaylistMenuItems","attributes","specified","name","my","clientY","top","tmy","$playlistTooltipInner","playlist_inner_currNr","playerId","api_goto_item","$dzsapFooter","player_constructArtistAndSongCon","structHtmlMeta","_conControls","_audioplayerInner","wrap","_apControls","_apControlsLeft","_conPlayPauseCon","before","setup_structure","structure_str_apControls","setup_inner_player","setup_otherstructure","img","Image","setup_structure__setup_wrapper_image","aux_str_time","structure_str_scrubbar","aux_str_con_controls","controls_external_scrubbar","struct_con_playpause","structConPlayPause","settings_extrahtml_before_play_pause","addExtraHtmlInPlace","show_tooltips","structure_generatePlayPauseString","extraHtmlAreas","controlsLeft","aux_str_con_volume","disable_volume","controlsRight","playbtnSvg","pausebtnSvg","api_skin_redlights_give_controls_right_to_all","$$scrubbProg","$conControls","$currTime","time_total_for_visual","setupStructure_thumbnailCon","design_menu_show_player_state_button","skinwave_place_metaartist_after_volume","skinwave_place_thumb_after_volume","setup_structure_scrub","skinwave_timer_static","check_multisharer","skin_minimal_canvasplay","isCanvasFirstDrawn","player_navigation","disable_player_navigation","prev_btn_str","next_btn_str","auxs","isMultiSharer","setup_structure_sanitizers","next","radio_isGoingToUpdateSongName","radio_isGoingToUpdateArtistName","struct_embedButtonWithTooltip","feedEmbedCode","enable_embed_button","$embedButton","execCommand","feedEmbedFunctionality","footer_btn_playlist","classFunctionalityInnerPlaylist","index_extrahtml_toloads","unwrap","extraHtmlBottomFunctionality","setup_structure_extras","afterArtist","bottom","settings_extrahtml_in_float_right_str","feedSelector","addToString","$appendElement","defaultPlayerOptions","autoplay_on_scrub_click","cueMedia","preload_method","loop","pause_method","settings_extrahtml","settings_extrahtml_after_play_pause","settings_trigger_resize","design_thumbh","extra_classes_player","scrub_show_scrub_time","embed_code","wavesurfer_pcm_length","pcm_notice","notice_no_media","sampleTimesMode","mobile_delete","mobile_disable_fakeplayer","skinwave_comments_displayontime","skinwave_comments_mode_outer_selector","volume_from_gallery","design_animateplaypause","embedded","embedded_iframe_id","google_analytics_send_play_event","fakeplayer","failsafe_repair_media_element","action_audio_play","action_audio_play2","action_audio_pause","action_audio_end","action_received_time_total","action_audio_change_media","action_audio_loaded_metadata","action_video_contor_60secs","type_audio_stop_buffer_on_unfocus","settings_exclude_from_list","skin_minimal_button_size","gallery_gapless_play","preview_on_hover","player_icecastOrShoutcastRefresh","crossDomain","documentElement","new_title","new_artist","regexMatches","player_nextPrevButtonsSetup","api_goto_prev","syncPlayers_gotoPrev","api_goto_next","syncPlayers_gotoNext","syncPlayers_gotoItem","player_feederSeekTo","targetTimeMediaScrub","actualDataTypeOfMedia","fakeplayer_is_feeder","called_from","api_seek_to","view_resizeEmbedded","frameElement","outerHeight","message","params","postMessage","dzsap_globalidind","dzsap_inited","loading_multi_sharer","dzsap_player_interrupted_by_dzsap","dzsap_sticktobottom_con","dzsap_self_options","dzsap_generating_pcm","dzsap_box_main_con","dzsap_player_index","dzsap_action_play_listeners","DzsAudioPlayer","_scrubBgCanvasCtx","$parentPlaylist","$commentsChildren","$reflectionVisualObject","spectrum_audioContextBufferSource","lastArray","last_lastArray","isPlayerPlaying","isPlayerPlayingEased","isPlayerPlayingEasedInterval","youtube_retryPlayTimeout","lastTimeInSeconds","inter_checkReady","cthisWidth","isPcmTryingToGenerate","youtube_currentId","youtube_isInited","isSentCacheTotalTime","mediaProtectionStatus","classMetaParts","SelfInstance","classInit","$arg","getActualTotalTime","isScrubShowingCurrentTime","scrubbarWidth","scrubbarProgX","currTime_outerWidth","cthisId","isDestroyed","isDestroyedForRebuffer","media_isLoopActive","isListenersSetup","player_index_in_gallery","inter_60_secs_contor","is_under_400","isRenderingFrameInterval","draw_canvas_inter","calculate_dims_time","scrubbarh","change_visual_target","api_pause_media_visual","set_sourcePlayer","$sourcePlayer_","api_play_media_visual","api_draw_curr_time","api_get_times","api_check_time","api_draw_scrub_prog","view_updateColorHighlight","reinit","destroy_listeners","destroy_it","handleClickForSetupMedia","unbind","init_checkIfReady","init_loaded","readyState","aux_thumb_con_str","player_setupStructure_thumbnailCon","outerHTML","wrapAll","view_wave_setupRandomPcm","default_pcm","i3","toFixed","stringify","handleClick_playPause","setupMediaAttrs","dzsap_youtube_setupMedia","stringAudioElement","type_normal_stream_type","stringAudioTagOpen","stringAudioTagClose","buildAudioElementHtml","mediaSetupElement","addEventListener","action_initLoaded","attempt_reload","networkState","HTMLMediaElement","NETWORK_NO_SOURCE","earg","txt","target","$audio_","service_checkIfWeShouldUpdateTotalTime","view_drawCurrentTime","setupMediaListeners","makeMediaPreloadInTheFuture","isWasPlaying","repairMediaElement","handleMouseDown","once","player_initSpectrumOnUserAction","mediaSetup","setup_listeners","viewCalculateScrubbarWidth","seek_to","handleMouseOnScrubbar","mousex","pageX","targetPositionOnScrub","view_calculateTargetPositionOnScrub","api_seek_to_perc","player_scrubbarSetup","last_vol_before_mute","isMuted","volume_dragging","volume_handleMouse","mouseXRelativeToVolume","pageY","player_volumeSetup","view_handleResize","volume_getLast","dzsap_stickyPlayer_show","defaultVolume","getItem","getDefaultVolume","do_not_autoplay","autoplay","handleEnterFrame","count_60secs","media_toggleLoop","isGoingToActivate","seek_to_perc","totalTime","$scrubBgCanvas","spectrum_fakeItMode","duration_viy","begin_viy","change_viy","Uint8Array","frequencyBinCount","getByteFrequencyData","len","last_lastarray","view_spectrum_drawMeter","view_player_scrubModeWaveAdjustCurrTimeAndTotalTime","fadeIn","view_updateTotalTime","view_drawScrubProgress","style","processCurrentFrame","dzsap_view_player_skinMinimal_drawFrame","fire_only_once","requestAnimationFrame","isToggleCancelled","inter_checkTotalTime","dzsap_skin_minimal_inited","dzsap_view_player_skinMinimal_onClickPlayPause","togglePlayPause","media_handleEnd","api_get_media_isLoopActive","api_gallery_handle_end","autoplayNextMethod","$parentPlaylistForSource","SelfPlaylist","autoplayNext","api_handle_end","media_handleEventEnd","view_resizeHandleTreatSkins","draw_canvas_inter_func","dzsap_skinFunctions_handleResize","_metaArtistCon_w","_metaArtistCon_l","argperc","deeplinking","newlink","stateObj","foo","getActualTargetTime","seekTo","seek_to_visual","set_playback_speed","setPlaybackRate","playbackRate","pause_media_visual","call_actual_player","donot_change_media","player_actualPlayerPause","pauseVideo","pause","media_pause","player_sourcePlayerPauseVisual","play_media_visual","player_determineSyncPlayersIndex","call_from_aux","delay","player_sourcePlayerPlayVisual","output","itShouldReturn","api_regenerate_sync_players_with_this_playlist","api_regenerate_playerlist_inner","player_actualPlayerPlay","dzsap_youtube_playMedia","errorFn","tryToPlay","play","createBufferSource","buffer","start","async_media_tryToPlay","media_tryToPlay","api_try_to_submit_view","service_submitView","play_trigger_step_back","getSampleTimesFromDom","setup_pcm_random_for_now","handleResize","cue","dzsap_send_total_time","design_color_bg","design_color_highlight","php_handler","configureAudioPlayerOptionsInitial","player_viewApplySkinWaveModes","$fakePlayer","player_determineActualPlayer","extraHtmlBottom","extraHtmlControlsLeft","extraHtmlControlsRight","newExtraHtmlSectionClassName","className","player_determineHtmlAreas","syncPlayers_buildList","scriptUrl","dzsap_youtube_functions_inited","dzsap_youtube_functions_init","str_comments_holder","skinwave_comments_process_in_php","wrapInner","comments_setupCommentsHolder","comments_handleClickCancel","comments_handleClickSubmit","comments_setupCommentsInitial","isGoingToSetupMediaNow","checkIfNeedsSongNameRefresh","initObjects","classInstance","api_init_loaded","api_destroy","api_play","api_get_last_vol","api_get_source","api_click_for_setup_media","api_set_playback_speed","$playerSource","changeMediaArgsDefaults","feeder_type","source_player_do_not_update","handle_resize_delay","$sourceForChange","isGoingToPauseTheOldPlayer","isSourceAStringSource","isSourceAZoomSoundsAudioplayer","isSourceA$Object","reinit_resetMetrics","reinit_beforeChangeMedia","oldSource","original_type","$feedExtraHtmlRightFromSource","set_extraHtmlFloatRight","media_changeMedia","api_destroy_listeners","api_media_toggleLoop","api_change_visual_target","api_change_design_color_highlight","nrSeconds","api_playback_speed","argSpeed","api_set_action_audio_play","api_set_action_audio_pause","api_set_action_audio_end","api_set_action_audio_comment","_target","toggleClass","api_playback_slow","api_playback_reset","player_setupMiscButtons","scrubbar_moving","scrubbar_moving_x","aux3","passive","originalEvent","touches","dzsap_player_touchFunctionalitySetup","player_commentsSelectorInit","dzsap_part_starRatings_loaded","dzsap_init_starRatings_from_dzsap","api_toggle_menu_state","player_menuStateSetup","pluginurl","dzsap_init_allPlayers","$feed_dzsapConfigs","dzsap_apconfigs","$playerTarget","dzsap_init","audioplayer","ready","dzsap_player_isOneTimeSetuped","dzsap_generate_list_for_sync_players","force_regenerate","_t2","innerWidth","selector","settings"],"sourceRoot":""}