{"version":3,"file":"dzsap-wave-generator.js","mappings":"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","sources":["webpack://dzsap--compile-files/../source/audioplayer/configs/_constants.js","webpack://dzsap--compile-files/../source/audioplayer/js_common/_dzs_helpers.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/_dzsap_helpers.js","webpack://dzsap--compile-files/../source/audioplayer/jsinc/player/_player_keyboard.js","webpack://dzsap--compile-files/webpack/bootstrap","webpack://dzsap--compile-files/webpack/runtime/define property getters","webpack://dzsap--compile-files/webpack/runtime/hasOwnProperty shorthand","webpack://dzsap--compile-files/../source/audioplayer/js_common/_esjquery.js","webpack://dzsap--compile-files/../source/audioplayer/dzsap-wave-generator.sourcepack.js"],"sourcesContent":["export const ConstantsDzsAp = {\n  PLAYLIST_TRANSITION_DURATION: 300,\n  'DEBUG_STYLE_1': 'background-color: #aaa022; color: #222222;',\n  'DEBUG_STYLE_2': 'background-color: #7c3b8e; color: #ffffff;',\n  'DEBUG_STYLE_3': 'background-color: #3a696b; color: #eeeeee;',\n  'DEBUG_STYLE_ERROR': 'background-color: #3a696b; color: #eeeeee;',\n  URL_WAVESURFER_HELPER_BACKUP: 'https://zoomthe.me/assets/dzsap-wave-generate.js',\n  WAVESURFER_MAX_TIMEOUT: 20000,\n  URL_JQUERY: 'https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js',\n  DEBUG_STYLE_PLAY_FUNCTIONS: 'background-color: #daffda; color: #222222;',\n  ERRORED_OUT_CLASS: 'errored-out',\n  ERRORED_OUT_MAX_ATTEMPTS: 5\n}\n\nexport const DZSAP_PLAYER_CLASS_FOOTER_PLAYER = 'dzsap_footer';\nexport const DZSAP_PLAYER_CLASS_LOADED = 'dzsap-loaded';\nexport const DZSAP_PLAYER_CLASS_FOR_STICK_TO_BOTTOM_SHOW = 'audioplayer-loaded';\nexport const DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM = 'dzsap-sticktobottom';\nexport const DZSAP_PLAYER_PLACEHOLDER_CLASS_STICK_TO_BOTTOM = 'dzsap-sticktobottom-placeholder';\nexport const DZSAP_PLAYER_TYPE_FOR_ACCEPTING_FEED = 'fake';\nexport const DZSAP_PLAYER_ATTR_PLAY_FROM_LAST_POS = 'last';\n\nexport const DZSAP_SCRIPT_SELECTOR_MAIN_SETTINGS = '#dzsap-main-settings';\nexport const DZSAP_SCRIPT_SELECTOR_KEYBOARD = '#dzsap-keyboard-controls';\nexport const DZSAP_VIEW_PLAYER_PLAYING_EASED_TIMEOUT = 500;\n","import {ConstantsDzsAp} from \"../configs/_constants\";\n\nexport const decode_json = function (arg) {\n  var fout = {};\n\n  if (arg) {\n\n    try {\n\n      fout = JSON.parse(arg);\n    } catch (err) {\n\n      return null;\n    }\n  }\n\n  return fout;\n}\nexport async function dzsap_jQueryInit(callback, reject) {\n\n  return new Promise((resolve, reject) => {\n\n    if (window.jQuery) {\n      resolve('jQuery loaded');\n    } else {\n      const script = document.createElement('script');\n      script.onload = function () {\n        if (window.jQuery) {\n          resolve('jQuery loaded');\n        } else {\n          reject('error loading');\n        }\n      };\n      script.src = ConstantsDzsAp.URL_JQUERY;\n\n      document.head.appendChild(script);\n    }\n\n    setTimeout(() => {\n      reject('error loading');\n    }, 15000);\n  })\n}\n/**\n *\n * @param {string} arg\n * @return {string}\n */\nexport function string_curateClassName(arg){\n\n  arg = arg.replace('feed-dzsap', '');\n  arg = arg.replace('feed-dzsap--extra-html', '');\n  return arg;\n}\n\n\nexport function simpleStringify (object){\n  if (object && typeof object === 'object') {\n    object = copyWithoutCircularReferences([object], object);\n  }\n  return JSON.stringify(object);\n\n  function copyWithoutCircularReferences(references, object) {\n    const cleanObject = {};\n    Object.keys(object).forEach(function(key) {\n      var value = object[key];\n      if (value && typeof value === 'object') {\n        if (references.indexOf(value) < 0) {\n          references.push(value);\n          cleanObject[key] = copyWithoutCircularReferences(references, value);\n          references.pop();\n        } else {\n          cleanObject[key] = '###_Circular_###';\n        }\n      } else if (typeof value !== 'function') {\n        cleanObject[key] = value;\n      }\n    });\n    return cleanObject;\n  }\n}\n\nexport const loadScriptIfItDoesNotExist = (scriptSrc, checkForVar) => {\n  return new Promise((resolve, reject) => {\n    if (checkForVar) {\n      resolve('loadfromvar');\n      return;\n    }\n\n    var script = document.createElement('script');\n    script.onload = function () {\n      resolve('loadfromload');\n    };\n    script.onerror = function () {\n      reject();\n    };\n    script.src = scriptSrc;\n\n    document.head.appendChild(script);\n  })\n}\n\n\nexport const getBaseUrl = (baseUrlVar, scriptName) => {\n  if (window[baseUrlVar]) {\n    return window[baseUrlVar];\n  }\n\n  let scripts = document.getElementsByTagName(\"script\");\n  for (var scriptKey in scripts) {\n    if (scripts[scriptKey] && scripts[scriptKey].src && String(scripts[scriptKey].src).indexOf(scriptName) > -1) {\n      break;\n    }\n  }\n  var baseUrl_arr = String(scripts[scriptKey].src).split('/');\n  baseUrl_arr.splice(-1, 1);\n  const result = string_addTrailingSlash(baseUrl_arr.join('/'));\n  window[baseUrlVar] = result+'/';\n  return result;\n}\n\nfunction string_addTrailingSlash(url){\n  var lastChar = url.substr(-1); // Selects the last character\n  if (lastChar != '/') {         // If the last character is not a slash\n    url = url + '/';            // Append a slash to it.\n  }\n  return url;\n}\nexport const sanitizeToCssPx = (arg) => {\n\n  if (String(arg).indexOf('%') > -1 || String(arg).indexOf('em') > -1 || String(arg).indexOf('px') > -1 || String(arg).indexOf('auto') > -1) {\n    return arg;\n  }\n  return arg + 'px';\n}\n\n\nexport const setupTooltip = (args) => {\n\n  var mainArgs = Object.assign({\n    tooltipInnerHTML: '',\n    tooltipIndicatorText: '',\n    tooltipConClass: '',\n  }, args)\n\n  return `<div class=\"dzstooltip-con ${mainArgs.tooltipConClass}\"><span class=\"dzstooltip main-tooltip   talign-end arrow-bottom style-rounded color-dark-light  dims-set transition-slidedown \" style=\"width: 280px;\"><span class=\"dzstooltip--inner\">${mainArgs.tooltipInnerHTML}</span> </span></span><span class=\"tooltip-indicator\">${mainArgs.tooltipIndicatorText}</span></div>`;\n}\n\n\nexport const isInt = function (n) {\n  return typeof n == 'number' && Math.round(n) % 1 == 0;\n}\n\nexport const isValid = function (n) {\n  return typeof n != 'undefined' && n != '';\n}\n\n\nexport function getRelativeX (mouseX, $el_) {\n  if (jQuery) {\n    return mouseX - jQuery($el_).offset().left;\n  }\n}\n","import {isValid, string_curateClassName} from \"../js_common/_dzs_helpers\";\nimport {svg_share_icon} from \"./_dzsap_svgs\";\nimport {dzsap_keyboardSetup} from \"./player/_player_keyboard\";\nimport {DZSAP_PLAYER_CLASS_FOOTER_PLAYER, DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM} from \"../configs/_constants\";\n\n\nexport function formatTime(arg) {\n\n  var s = Math.round(arg);\n  var m = 0;\n  var h = 0;\n  if (s > 0) {\n    while (s > 3599 && s < 3000000 && isFinite(s)) {\n      h++;\n      s -= 3600;\n    }\n    while (s > 59 && s < 3000000 && isFinite(s)) {\n      m++;\n      s -= 60;\n    }\n    if (h) {\n\n      return String((h < 10 ? \"0\" : \"\") + h + \":\" + String((m < 10 ? \"0\" : \"\") + m + \":\" + (s < 10 ? \"0\" : \"\") + s));\n    }\n    return String((m < 10 ? \"0\" : \"\") + m + \":\" + (s < 10 ? \"0\" : \"\") + s);\n  } else {\n    return \"00:00\";\n  }\n}\n\nexport function can_history_api() {\n  return !!(window.history && history.pushState);\n}\n\nexport function dzs_clean_string(arg) {\n\n  if (arg) {\n\n    arg = arg.replace(/[^A-Za-z0-9\\-]/g, '');\n\n    arg = arg.replace(/\\./g, '');\n    return arg;\n  }\n\n  return '';\n\n\n}\n\n\nexport function get_query_arg(purl, key) {\n  if (purl) {\n\n    if (String(purl).indexOf(key + '=') > -1) {\n\n      var regexS = \"[?&]\" + key + \"=.+\";\n      var regex = new RegExp(regexS);\n      var regtest = regex.exec(purl);\n\n\n      if (regtest != null) {\n        var splitterS = regtest[0];\n        if (splitterS.indexOf('&') > -1) {\n          var aux = splitterS.split('&');\n          splitterS = aux[1];\n        }\n\n        var splitter = splitterS.split('=');\n\n\n        return splitter[1];\n\n      }\n\n    }\n\n  } else {\n  }\n}\n\nexport function add_query_arg(purl, key, value) {\n\n  key = encodeURIComponent(key);\n  value = encodeURIComponent(value);\n\n  if (!(purl)) {\n    purl = '';\n  }\n  var s = purl;\n  var pair = key + \"=\" + value;\n\n  var r = new RegExp(\"(&|\\\\?)\" + key + \"=[^\\&]*\");\n\n  s = s.replace(r, \"$1\" + pair);\n\n  if (s.indexOf(key + '=') > -1) {\n\n\n  } else {\n    if (s.indexOf('?') > -1) {\n      s += '&' + pair;\n    } else {\n      s += '?' + pair;\n    }\n  }\n\n\n  if (value === 'NaN') {\n    var regex_attr = new RegExp('[\\?|\\&]' + key + '=' + value);\n    s = s.replace(regex_attr, '');\n\n\n    if (s.indexOf('?') === -1 && s.indexOf('&') > -1) {\n      s = s.replace('&', '?');\n    }\n  }\n\n  return s;\n}\n\n\nexport function dzsap_is_mobile() {\n\n\n  return is_ios() || is_android();\n}\n\nexport function is_ios() {\n\n  return ((navigator.platform.indexOf(\"iPhone\") !== -1) || (navigator.platform.indexOf(\"iPod\") !== -1) || (navigator.platform.indexOf(\"iPad\") !== -1));\n}\n\n\nexport function can_canvas() {\n\n  var oCanvas = document.createElement(\"canvas\");\n  return !!oCanvas.getContext(\"2d\");\n\n}\n\nexport function is_safari() {\n  return Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0;\n}\n\n\nexport function is_android() {\n  var ua = navigator.userAgent.toLowerCase();\n\n  return (ua.indexOf(\"android\") > -1);\n}\n\nexport function select_all(el) {\n  if (typeof window.getSelection !== \"undefined\" && typeof document.createRange !== \"undefined\") {\n    var range = document.createRange();\n    range.selectNodeContents(el);\n    var sel = window.getSelection();\n    sel.removeAllRanges();\n    sel.addRange(range);\n  } else if (typeof document.selection !== \"undefined\" && typeof document.body.createTextRange !== \"undefined\") {\n    var textRange = document.body.createTextRange();\n    textRange.moveToElementText(el);\n    textRange.select();\n  }\n}\n\nexport function is_android_good() {\n\n\n}\n\nexport function htmlEncode(arg) {\n  return jQuery('<div/>').text(arg).html();\n}\n\nexport function dzsap_generate_keyboard_tooltip(keyboard_controls, lab) {\n\n\n  var structureDzsTooltipCommentAfterSubmit = '<span class=\"dzstooltip color-dark-light talign-start transition-slidein arrow-bottom style-default\" style=\"width: auto;  white-space:nowrap;\"><span class=\"dzstooltip--inner\">' + 'Shortcut' + ': ' + keyboard_controls[lab] + '</span></span>';\n\n  structureDzsTooltipCommentAfterSubmit = structureDzsTooltipCommentAfterSubmit.replace('32', 'space');\n  structureDzsTooltipCommentAfterSubmit = structureDzsTooltipCommentAfterSubmit.replace('27', 'escape');\n\n  return structureDzsTooltipCommentAfterSubmit;\n\n\n}\n\n\n/**\n *\n * @param hex\n * @param {number|null} targetAlpha 0-1\n * @returns {string}\n */\nexport function hexToRgb(hex, targetAlpha = null) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var str = '';\n  if (result) {\n    result = {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16)\n    };\n\n\n    var alpha = 1;\n\n    if (targetAlpha !== null) {\n      alpha = targetAlpha;\n    }\n\n\n    str = 'rgba(' + result.r + ',' + result.g + ',' + result.b + ',' + alpha + ')';\n  }\n\n\n  return str;\n\n\n}\n\nexport function assignHelperFunctionsToJquery($) {\n\n\n  Math.easeIn = function (t, b, c, d) {\n    return -c * (t /= d) * (t - 2) + b;\n  };\n\n\n  /**\n   *\n   * @param {string} argfind\n   * @param {string} arg\n   * @returns {string}\n   */\n  const checkIfHasClass = (argfind, arg) => {\n\n    if (!argfind) {\n      var regex = new RegExp('class=\"(.*?)\"');\n      var auxarr = regex.exec(arg);\n\n\n      if (auxarr && auxarr[1]) {\n        argfind = '.' + auxarr[1];\n      }\n    }\n\n    return argfind;\n  }\n  $.fn.prependOnce = function (arg, argfind) {\n    var _t = $(this)\n\n\n    argfind = checkIfHasClass(argfind, arg);\n\n\n    if (_t.children(argfind).length < 1) {\n      _t.prepend(arg);\n      return true;\n    }\n    return false;\n  };\n  $.fn.appendOnce = function (arg, argfind) {\n    var _t = $(this)\n\n    argfind = checkIfHasClass(argfind, arg);\n\n    if (_t.children(argfind).length < 1) {\n      _t.append(arg);\n      return true;\n    }\n    return false;\n  };\n};\n\n\nexport function registerTextWidth($) {\n\n  $.fn.textWidth = function () {\n    var _t = jQuery(this);\n    var html_org = _t.html();\n    if (_t[0].nodeName === 'INPUT') {\n      html_org = _t.val();\n    }\n    var html_calcS = '<span class=\"forcalc\">' + html_org + '</span>';\n    jQuery('body').append(html_calcS);\n    var _lastspan = jQuery('span.forcalc').last();\n\n    _lastspan.css({\n      'font-size': _t.css('font-size'),\n      'font-family': _t.css('font-family')\n    })\n    var width = _lastspan.width();\n\n    _lastspan.remove();\n    return width;\n  };\n}\n\nexport function player_checkIfWeShouldShowAComment(selfClass, real_time_curr, real_time_total) {\n\n  var $ = jQuery;\n  var timer_curr_perc = Math.round((real_time_curr / real_time_total) * 100) / 100;\n  if (selfClass.audioType === 'fake') {\n    timer_curr_perc = Math.round((selfClass.timeCurrent / selfClass.timeTotal) * 100) / 100;\n  }\n  if (selfClass._commentsHolder) {\n    selfClass._commentsHolder.children().each(function () {\n      var _t = $(this);\n      if (_t.hasClass('dzstooltip-con')) {\n        var _t_posx = _t.offset().left - selfClass._commentsHolder.offset().left;\n\n\n        var aux = Math.round((parseFloat(_t_posx) / selfClass._commentsHolder.outerWidth()) * 100) / 100;\n\n\n        if (aux) {\n\n          if (Math.abs(aux - timer_curr_perc) < 0.02) {\n            selfClass._commentsHolder.find('.dzstooltip').removeClass('active');\n            _t.find('.dzstooltip').addClass('active');\n          } else {\n            _t.find('.dzstooltip').removeClass('active');\n          }\n        }\n      }\n    })\n  }\n}\n\n\nexport function sanitizeObjectForChangeMediaArgs(_sourceForChange) {\n\n  var changeMediaArgs = {};\n  var _feed_fakePlayer = _sourceForChange;\n\n  var lab = '';\n\n  if (_sourceForChange.data('original-settings')) {\n    return _sourceForChange.data('original-settings');\n  }\n\n\n  changeMediaArgs.source = null;\n  if (_feed_fakePlayer.attr('data-source')) {\n    changeMediaArgs.source = _feed_fakePlayer.attr('data-source')\n  } else {\n\n    if (_feed_fakePlayer.attr('href')) {\n      changeMediaArgs.source = _feed_fakePlayer.attr('href');\n    }\n  }\n\n  if (_feed_fakePlayer.attr('data-pcm')) {\n    changeMediaArgs.pcm = _feed_fakePlayer.attr('data-pcm');\n  }\n\n\n  lab = 'thumb';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n\n  lab = 'playerid';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n  lab = 'type';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n\n\n  if (_feed_fakePlayer.attr('data-thumb_link')) {\n    changeMediaArgs.thumb_link = _sourceForChange.attr('data-thumb_link');\n  }\n\n\n  if (_sourceForChange.find('.meta-artist').length > 0 || _sourceForChange.find('.meta-artist-con').length > 0) {\n\n    changeMediaArgs.artist = _sourceForChange.find('.the-artist').eq(0).html();\n    changeMediaArgs.song_name = _sourceForChange.find('.the-name').eq(0).html();\n  }\n\n\n  if (_sourceForChange.attr('data-thumb_for_parent')) {\n    changeMediaArgs.thumb = _sourceForChange.attr('data-thumb_for_parent');\n  }\n\n\n  if (_sourceForChange.find('.feed-song-name').length > 0 || _sourceForChange.find('.feed-artist-name').length > 0) {\n    changeMediaArgs.artist = _sourceForChange.find('.feed-artist-name').eq(0).html();\n    changeMediaArgs.song_name = _sourceForChange.find('.feed-song-name').eq(0).html();\n  }\n\n\n  return changeMediaArgs;\n}\n\n\nexport function utils_sanitizeToColor(colorString) {\n  if (colorString.indexOf('#') === -1 && colorString.indexOf('rgb') === -1 && colorString.indexOf('hsl') === -1) {\n    return '#' + colorString;\n  }\n  return colorString;\n}\n\nexport function dzsapInitjQueryRegisters() {\n}\n\nexport function player_radio_isNameUpdatable(selfClass, radio_update_song_name, targetKey) {\n\n  if (selfClass._metaArtistCon.find(targetKey).length && selfClass._metaArtistCon.find(targetKey).eq(0).text().length > 0) {\n\n    if (selfClass._metaArtistCon.find(targetKey).eq(0).html().indexOf('{{update}}') > -1) {\n      return true;\n    }\n  }\n\n\n  return false;\n}\n\nexport function playerRegisterWindowFunctions() {\n\n\n  window['dzsap_functions'] = {};\n  window['dzsap_functions']['send_total_time'] = function (argtime, argcthis) {\n\n\n    if (argtime && argtime !== Infinity) {\n      const data = {\n        action: 'dzsap_send_total_time_for_track',\n        id_track: argcthis.attr('data-playerid'),\n        postdata: Math.ceil(argtime)\n      };\n      jQuery.post(window.dzsap_ajaxurl, data, function (response) {\n      });\n    }\n\n  }\n\n\n  window.dzs_open_social_link = function (arg, argthis) {\n    var leftPosition, topPosition;\n    var w = 500, h = 500;\n\n    leftPosition = (window.screen.width / 2) - ((w / 2) + 10);\n\n    topPosition = (window.screen.height / 2) - ((h / 2) + 50);\n    var windowFeatures = \"status=no,height=\" + h + \",width=\" + w + \",resizable=yes,left=\" + leftPosition + \",top=\" + topPosition + \",screenX=\" + leftPosition + \",screenY=\" + topPosition + \",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no\";\n\n\n    arg = arg.replace('{{replacewithcurrurl}}', encodeURIComponent(window.location.href));\n\n    if (argthis && argthis.attr) {\n      arg = arg.replace(/{{replacewithdataurl}}/g, argthis.attr('data-url'));\n    }\n\n    const locationHref = window.location.href;\n\n\n    const auxa = locationHref.split('?');\n\n    let cid = '';\n    let cid_gallery = '';\n\n\n    if (argthis) {\n\n    } else {\n      if (window.dzsap_currplayer_from_share) {\n\n        argthis = window.dzsap_currplayer_from_share;\n      }\n    }\n\n\n    if (argthis) {\n\n      const $ = jQuery;\n\n      if ($(argthis).hasClass('audioplayer')) {\n        cid = $(argthis).parent().children().index(argthis);\n        cid_gallery = $(argthis).parent().parent().parent().attr('id');\n      } else {\n        if (jQuery(argthis).parent().parent().attr('data-menu-index')) {\n\n          cid = jQuery(argthis).parent().parent().attr('data-menu-index');\n        }\n        if (jQuery(argthis).parent().parent().attr('data-gallery-id')) {\n\n          cid_gallery = jQuery(argthis).parent().parent().attr('data-gallery-id');\n        }\n      }\n\n    }\n\n\n    var shareurl = encodeURIComponent(auxa[0] + '?fromsharer=on&audiogallery_startitem_' + cid_gallery + '=' + cid + '');\n    arg = arg.replace('{{shareurl}}', shareurl);\n\n\n    window.open(arg, \"sharer\", windowFeatures);\n  }\n\n\n  window.dzsap_wp_send_contor_60_secs = function (argcthis, argtitle) {\n\n    var data = {\n      video_title: argtitle\n\n      , video_analytics_id: argcthis.attr('data-playerid')\n      , curr_user: window.dzsap_curr_user\n    };\n    var theajaxurl = 'index.php?action=ajax_dzsap_submit_contor_60_secs';\n\n    if (window.dzsap_settings.dzsap_site_url) {\n\n      theajaxurl = dzsap_settings.dzsap_site_url + theajaxurl;\n    }\n\n\n    jQuery.ajax({\n      type: \"POST\",\n      url: theajaxurl,\n      data: data,\n      success: function (response) {\n\n\n      },\n      error: function (arg) {\n\n      }\n    });\n  }\n\n\n  window.dzsap_init_multisharer = function () {\n\n\n  }\n\n\n}\n\n\n/**\n *\n * @param {DzsAudioPlayer} selfClass\n */\nexport function assignPcmData(selfClass) {\n\n  selfClass.pcmSource = string_jsonConvertToArray(selfClass.cthis.attr('data-pcm'));\n  if (selfClass.initOptions.skinwave_enableSpectrum === 'on') {\n    var pcmSourceLen = selfClass.pcmSource.length;\n    var desiredSize = 256;\n\n    for (var i = 0; i < pcmSourceLen; i++) {\n      if (i > desiredSize) {\n        continue;\n      }\n      selfClass.pcmSource[i] = selfClass.pcmSource[i * pcmSourceLen / desiredSize] * desiredSize;\n    }\n    selfClass.pcmSource.splice(desiredSize, pcmSourceLen - desiredSize); // removes 3rd element of array\n  }\n}\n\nexport function string_jsonConvertToArray(ar_str) {\n  let waves = [];\n  if (typeof (ar_str) == 'object') {\n    waves = ar_str;\n  } else {\n    try {\n      waves = JSON.parse(ar_str);\n    } catch (err) {\n\n    }\n  }\n\n  return waves;\n}\n\n/**\n * should be called only once on init\n */\nexport function dzsap_singleton_ready_calls() {\n\n  window.dzsap_singleton_ready_calls_is_called = true;\n\n\n  let $feed_dzsapMainSettings = null;\n  const $feed_dzsapMainSettingsAll = document.querySelectorAll('.dzsap-main-settings');\n  if ($feed_dzsapMainSettingsAll.length) {\n    $feed_dzsapMainSettings = $feed_dzsapMainSettingsAll[$feed_dzsapMainSettingsAll.length - 1];\n  }\n  if ($feed_dzsapMainSettings) {\n    window.dzsap_settings = JSON.parse($feed_dzsapMainSettings.innerHTML);\n    window.ajaxurl = window.dzsap_settings.ajax_url;\n    window.dzsap_curr_user = window.dzsap_settings.dzsap_curr_user;\n  }\n\n  jQuery('body').append('<style class=\"dzsap--style\"></style>');\n\n\n  window.dzsap__style = jQuery('.dzsap--style');\n\n\n  jQuery('audio.zoomsounds-from-audio').each(function () {\n    var _t = jQuery(this);\n    _t.after('<div class=\"audioplayer-tobe auto-init skin-silver\" data-source=\"' + _t.attr('src') + '\"></div>');\n    _t.remove();\n  })\n\n  jQuery(document).on('focus.dzsap', 'input', function () {\n    window.dzsap_currplayer_focused = null;\n  })\n\n  registerTextWidth(jQuery);\n\n  dzsap_keyboardSetup();\n}\n\nexport function jQueryAuxBindings($) {\n\n\n  function handleClick_onGlobalZoomSoundsButton(e) {\n    var $t = $(this);\n\n\n    e.preventDefault();\n    e.stopPropagation();\n    e.stopImmediatePropagation();\n\n    if ($t.hasClass('audioplayer-song-changer')) {\n      var _c = $($t.attr('data-fakeplayer')).eq(0);\n\n\n      if (_c && _c.get(0) && _c.get(0).api_change_media) {\n        _c.get(0).api_change_media($t, {\n          'feeder_type': 'button'\n          , 'call_from': 'changed audioplayer-song-changer'\n        });\n      }\n\n      return false;\n    }\n\n    if ($t.hasClass('dzsap-wishlist-but')) {\n\n\n      var data = {\n        action: 'dzsap_add_to_wishlist',\n        playerid: $t.attr('data-post_id'),\n        wishlist_action: 'add',\n      };\n\n\n      if ($t.find('.svg-icon').hasClass('fa-star')) {\n        data.wishlist_action = 'remove';\n      }\n\n\n      if (window.dzsap_lasto.settings_php_handler) {\n        $.ajax({\n          type: \"POST\",\n          url: window.dzsap_lasto.settings_php_handler,\n          data: data,\n          success: function (response) {\n\n\n            if ($t.find('.svg-icon').hasClass('fa-star-o')) {\n              $t.find('.svg-icon').eq(0).attr('class', 'svg-icon fa fa-star');\n            } else {\n\n              $t.find('.svg-icon').eq(0).attr('class', 'svg-icon fa fa-star-o');\n            }\n\n          },\n          error: function (arg) {\n\n          }\n        });\n      }\n\n      return false;\n\n\n    }\n\n  }\n\n\n  $(document).off('click.dzsap_metas')\n  $(document).on('click.dzsap_metas', '.audioplayer-song-changer, .dzsap-wishlist-but', handleClick_onGlobalZoomSoundsButton)\n\n\n}\n\n\n/**\n * for .zoomsounds-wrapper-bg-center\n * @param selfClass\n */\nexport function view_player_playMiscEffects(selfClass) {\n\n  selfClass.$conPlayPause.addClass('playing');\n\n  if (selfClass.cthis.parent().hasClass('zoomsounds-wrapper-bg-center')) {\n    selfClass.cthis.parent().addClass('is-playing');\n  }\n}\n\n\nexport function view_player_globalDetermineSyncPlayersIndex(selfClass) {\n\n  if (selfClass._sourcePlayer === null && window.dzsap_syncList_players) {\n    window.dzsap_syncList_players.forEach(($syncPlayer, index) => {\n      if (selfClass.cthis.attr('data-playerid') == $syncPlayer.attr('data-playerid')) {\n        window.dzsap_syncList_index = index;\n      }\n    })\n  }\n}\n\n\nexport function player_view_addMetaLoaded(selfClass) {\n\n  selfClass.cthis.addClass('meta-loaded');\n  selfClass.cthis.removeClass('meta-fake');\n  if (selfClass._sourcePlayer) {\n    selfClass._sourcePlayer.addClass('meta-loaded');\n    selfClass._sourcePlayer.removeClass('meta-fake');\n  }\n  if (selfClass.$totalTime) {\n\n    selfClass.timeModel.refreshTimes();\n    selfClass.$totalTime.html(formatTime(selfClass.timeModel.getVisualTotalTime()));\n  }\n  if (selfClass._sourcePlayer) {\n    selfClass._sourcePlayer.addClass('meta-loaded');\n  }\n}\n\n\n\nfunction htmlEntities(str) {\n  return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n}\n\nexport function waitForScriptToBeAvailableThenExecute(verifyVar, callbackFn) {\n\n  new Promise((resolve, reject) => {\n\n    var checkInterval = 0;\n\n    function checkIfVarExists() {\n      if (verifyVar) {\n        clearInterval(checkInterval);\n        resolve('var exists');\n      }\n    }\n\n    checkIfVarExists()\n    checkInterval = setInterval(checkIfVarExists, 300);\n    setTimeout(() => {\n      reject('timeout');\n    }, 5000);\n\n  }).then((resolve => {\n    callbackFn(resolve);\n  })).catch((err) => {\n  })\n}\n\n\n\n\nexport function player_reinit_findIfPcmNeedsGenerating(selfClass) {\n  const o = selfClass.initOptions;\n\n  if (selfClass.cthis.attr('data-pcm')) {\n    selfClass.hasInitialPcmData = true;\n  }\n\n  if (!selfClass.hasInitialPcmData && o.skinwave_wave_mode === 'canvas' && (o.design_skin === 'skin-wave' || selfClass.cthis.attr('data-fakeplayer'))) {\n    selfClass.isPcmRequiredToGenerate = true;\n  }\n\n\n  if (o.scrubbar_type === 'wave') {\n    if (o.is_inited_from_playlist) {\n\n      selfClass.cthis.addClass('scrubbar-type-wave--has-reveal-animation');\n    }\n    if (o.scrubbar_type_wave__has_reveal_animation === 'on') {\n\n      selfClass.cthis.addClass('scrubbar-type-wave--has-reveal-animation');\n    }\n    if (selfClass.isPcmRequiredToGenerate) {\n      selfClass.cthis.addClass('scrubbar-type-wave--has-reveal-animation');\n    }\n  }\n}\n\n\nexport function playerFunctions(selfClass, functionType) {\n  var o = selfClass.initOptions;\n\n  if (functionType === 'detectIds') {\n\n\n    if (o.skinwave_comments_playerid === '') {\n      if (typeof (selfClass.cthis.attr('id')) !== 'undefined') {\n        selfClass.the_player_id = selfClass.cthis.attr('id');\n      }\n    }\n\n\n    if (selfClass.the_player_id == '') {\n\n      if (selfClass.cthis.attr('data-computed-playerid')) {\n        selfClass.the_player_id = selfClass.cthis.attr('data-computed-playerid');\n      }\n      if (selfClass.cthis.attr('data-real-playerid')) {\n        selfClass.the_player_id = selfClass.cthis.attr('data-real-playerid');\n      }\n    }\n    selfClass.uniqueId = selfClass.the_player_id;\n\n    if (typeof selfClass.uniqueId === 'string') {\n      selfClass.uniqueId = selfClass.uniqueId.replace('ap', '');\n    }\n    selfClass.identifier_pcm = selfClass.uniqueId;\n\n\n    if (selfClass.uniqueId === '') {\n      o.skinwave_comments_enable = 'off';\n    }\n\n  }\n}\n\nexport function player_delete(selfClass) {\n\n  var _con = null;\n  if (selfClass.cthis.parent().parent().hasClass('dzsap-sticktobottom')) {\n    _con = selfClass.cthis.parent().parent();\n  }\n  if (_con) {\n    if (_con.prev().hasClass(\"dzsap-sticktobottom-placeholder\")) {\n      _con.prev().remove();\n    }\n    _con.remove();\n  }\n  selfClass.cthis.remove();\n  return false;\n}\n\n\n\nexport function sanitizeToHexColor(hexcolor) {\n  if (hexcolor.indexOf('#') === -1) {\n    hexcolor = '#' + hexcolor;\n  }\n  return hexcolor;\n}\n\nexport function player_identifySource(selfClass) {\n\n  selfClass.data_source = selfClass.cthis.attr('data-source') || '';\n}\n\nexport function player_identifyTypes(selfClass) {\n\n\n  var o = selfClass.initOptions;\n  const cthis = selfClass.cthis;\n  if (cthis.attr('data-type') === 'youtube') {\n    o.type = 'youtube';\n    selfClass.audioType = 'youtube';\n  }\n  if (cthis.attr('data-type') === 'soundcloud') {\n    o.type = 'soundcloud';\n    selfClass.audioType = 'soundcloud';\n\n    o.skinwave_enableSpectrum = 'off';\n    cthis.removeClass('skin-wave-is-spectrum');\n  }\n  if (cthis.attr('data-type') === 'mediafile') {\n    o.type = 'audio';\n    selfClass.audioType = 'audio';\n  }\n\n  if (cthis.attr('data-type') === 'shoutcast') {\n    o.type = 'shoutcast';\n    selfClass.audioType = 'audio';\n    o.disable_timer = 'on';\n    o.skinwave_enableSpectrum = 'off';\n\n    if (!cthis.attr('data-streamtype')) {\n\n      selfClass.audioTypeSelfHosted_streamType = 'shoutcast';\n    }\n\n\n    if (o.design_skin === 'skin-default') {\n      o.disable_scrub = 'on';\n    }\n\n  }\n\n\n  if (selfClass.audioType === 'audio' || selfClass.audioType === 'normal' || selfClass.audioType === '') {\n    selfClass.audioType = 'selfHosted';\n  }\n\n\n  if (String(selfClass.data_source).indexOf('https://soundcloud.com/') > -1) {\n    selfClass.audioType = 'soundcloud';\n  }\n}\n\n\n\nexport function player_getPlayFromTime(selfClass) {\n\n  selfClass.playFrom = selfClass.initOptions.playfrom;\n\n  if (isValid(selfClass.cthis.attr('data-playfrom'))) {\n    selfClass.playFrom = selfClass.cthis.attr('data-playfrom');\n  }\n\n  if (isNaN(parseInt(selfClass.playFrom, 10)) === false) {\n    selfClass.playFrom = parseInt(selfClass.playFrom, 10);\n  }\n\n\n  if (selfClass.playFrom === 'off' || selfClass.playFrom === '') {\n    if (get_query_arg(window.location.href, 'audio_time')) {\n      selfClass.playFrom = sanitizeToIntFromPointTime(get_query_arg(window.location.href, 'audio_time'));\n    }\n  }\n\n  if (selfClass.timeModel.sampleTimeStart) {\n    if (selfClass.playFrom < selfClass.timeModel.sampleTimeStart) {\n      selfClass.playFrom = selfClass.timeModel.sampleTimeStart;\n    }\n    if (typeof selfClass.playFrom === 'string') {\n      selfClass.playFrom = selfClass.timeModel.sampleTimeStart;\n    }\n  }\n}\n\n\nexport function sanitizeToIntFromPointTime(arg) {\n\n\n  arg = String(arg).replace('%3A', ':');\n  arg = String(arg).replace('#', '');\n\n  if (arg && String(arg).indexOf(':') > -1) {\n\n    var arr = /(\\d.*):(\\d.*)/g.exec(arg);\n\n\n    var m = parseInt(arr[1], 10);\n    var s = parseInt(arr[2], 10);\n\n\n    return (m * 60) + s;\n  } else {\n    return Number(arg);\n  }\n}\n\n\n/**\n * called in player init()\n * @param {DzsAudioPlayer} selfClass\n */\nexport function player_determineStickToBottomContainer(selfClass) {\n\n  let $conTest = selfClass.cthis.parent();\n\n\n\n  if ($conTest.hasClass(DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM)) {\n    selfClass.$stickToBottomContainer = $conTest;\n    selfClass.isStickyPlayer = true;\n\n  }\n  $conTest = selfClass.cthis.parent().parent();\n  if ($conTest.hasClass(DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM)) {\n    selfClass.$stickToBottomContainer = $conTest;\n    selfClass.isStickyPlayer = true;\n  }\n}\n\n\n/**\n *\n * todo: maybe move\n * @param {DzsAudioPlayer} selfClass\n */\nexport function player_stickToBottomContainerDetermineClasses(selfClass) {\n\n  if (selfClass.$stickToBottomContainer) {\n    if (selfClass.cthis.hasClass('theme-dark')) {\n      selfClass.$stickToBottomContainer.addClass('theme-dark');\n    }\n\n    setTimeout(function () {\n\n      selfClass.$stickToBottomContainer.addClass('inited');\n    }, 500)\n\n\n  }\n\n}\n\nexport function player_service_getSourceProtection(selfClass) {\n\n  return new Promise((resolve, reject) => {\n\n    jQuery.ajax({\n      type: \"POST\",\n      url: selfClass.data_source,\n      data: {},\n      success: function (response) {\n        resolve(response);\n      },\n      error: function (err) {\n        reject(err);\n      }\n    });\n  })\n}\n\nexport function player_isGoingToSetupMediaNow(selfClass) {\n  return selfClass.audioTypeSelfHosted_streamType !== 'icecast' && selfClass.audioType !== 'youtube';\n}\n\n\nexport function player_stopOtherPlayers(dzsap_list, selfClass) {\n\n  let i = 0;\n  for (i = 0; i < dzsap_list.length; i++) {\n\n    if (dzsap_list[i].get(0) && dzsap_list[i].get(0).api_pause_media && (dzsap_list[i].get(0) != selfClass.cthis.get(0))) {\n\n\n      if (dzsap_list[i].data('type_audio_stop_buffer_on_unfocus') && dzsap_list[i].data('type_audio_stop_buffer_on_unfocus') === 'on') {\n        dzsap_list[i].get(0).api_destroy_for_rebuffer();\n      } else {\n        dzsap_list[i].get(0).api_pause_media({\n          'audioapi_setlasttime': false\n        });\n      }\n    }\n  }\n}\n\n\nexport function player_syncPlayers_gotoItem(selfClass, targetIncrement) {\n  if (window.dzsap_settings.syncPlayers_autoplayEnabled) {\n\n    for (let keySyncPlayer in window.dzsap_syncList_players) {\n      let $playerInSyncList = selfClass.cthis;\n\n      if (selfClass._sourcePlayer) {\n        $playerInSyncList = selfClass._sourcePlayer;\n      }\n\n\n      if (window.dzsap_syncList_players[keySyncPlayer].get(0) === $playerInSyncList.get(0)) {\n\n        keySyncPlayer = parseInt(keySyncPlayer, 10);\n        let targetIndex = window.dzsap_syncList_index + targetIncrement;\n        if (targetIndex >= 0 && targetIndex < window.dzsap_syncList_players.length) {\n          const $currentSyncPlayer_ = window.dzsap_syncList_players[targetIndex].get(0);\n\n\n          if ($currentSyncPlayer_ && $currentSyncPlayer_.api_play_media) {\n            setTimeout(function () {\n              $currentSyncPlayer_.api_play_media({\n                'called_from': 'api_sync_players_prev'\n              });\n            }, 200);\n\n          }\n        }\n      }\n    }\n  }\n\n}\n\nexport function player_syncPlayers_buildList() {\n\n  if (!window.syncPlayers_isDzsapListBuilt) {\n\n    window.dzsap_syncList_players = [];\n\n    window.syncPlayers_isDzsapListBuilt = true;\n\n    jQuery('.audioplayer.is-single-player,.audioplayer-tobe.is-single-player').each(function () {\n      var _t23 = jQuery(this);\n\n\n      if (_t23.hasClass(DZSAP_PLAYER_CLASS_FOOTER_PLAYER)) {\n        return;\n      }\n\n\n      if (_t23.attr('data-do-not-include-in-list') !== 'on') {\n        window.dzsap_syncList_players.push(_t23);\n      }\n    })\n\n\n    clearTimeout(window.syncPlayers_buildTimeout);\n\n    window.syncPlayers_buildTimeout = setTimeout(function () {\n      window.syncPlayers_isDzsapListBuilt = false;\n    }, 500);\n\n  }\n}\n\n\n\nexport function convertPluginOptionsToFinalOptions(elThis, defaultOptions, argOptions = null, searchedAttr = 'data-options', $es) {\n\n  var finalOptions = null;\n  var tempOptions = {};\n  var isSetFromJson = false;\n\n  if ($es === undefined) {\n    $es = jQuery;\n  }\n\n\n  var $elThis = $es(elThis);\n\n  const isArgOptionsDefinedViaJs = Boolean(argOptions && typeof argOptions === 'object' && Object.keys(argOptions).length);\n\n\n  if (isArgOptionsDefinedViaJs) {\n    tempOptions = argOptions;\n  } else {\n    if ($elThis.attr(searchedAttr)) {\n      try {\n        tempOptions = JSON.parse($elThis.attr(searchedAttr));\n        isSetFromJson = true;\n      } catch (err) {\n\n      }\n    }\n    if (!isSetFromJson) {\n      if (typeof $elThis.attr(searchedAttr) != 'undefined' && $elThis.attr('data-options') != '') {\n        let aux = $elThis.attr(searchedAttr);\n        aux = 'var aux_opts = ' + aux;\n        eval(aux);\n        tempOptions = Object.assign({}, argOptions);\n      }\n    }\n  }\n  finalOptions = Object.assign(defaultOptions, tempOptions);\n\n  return finalOptions;\n}\n\nexport function generateFakeArrayForPcm() {\n\n\n  var maxlen = 256;\n\n  var arr = [];\n\n  for (let it1 = 0; it1 < maxlen; it1++) {\n    arr[it1] = Math.random() * 100;\n\n  }\n\n  return arr;\n}\n","import {DZSAP_SCRIPT_SELECTOR_KEYBOARD} from \"../../configs/_constants\";\n\nexport const dzsap_generate_keyboard_controls = function () {\n  let keyboard_controls = {\n    'play_trigger_step_back': 'off'\n    , 'step_back_amount': '5'\n    , 'step_back': '37'\n    , 'step_forward': '39'\n    , 'sync_players_goto_next': ''\n    , 'sync_players_goto_prev': ''\n    , 'pause_play': '32'\n    , 'show_tooltips': 'off'\n  }\n\n\n  const $keyboardControlsInfo = jQuery(DZSAP_SCRIPT_SELECTOR_KEYBOARD);\n  if ($keyboardControlsInfo.length) {\n    window.dzsap_keyboard_controls = JSON.parse($keyboardControlsInfo.html());\n  }\n\n  if (window.dzsap_keyboard_controls) {\n    keyboard_controls = jQuery.extend(keyboard_controls, window.dzsap_keyboard_controls);\n  }\n\n  keyboard_controls.step_back_amount = Number(keyboard_controls.step_back_amount);\n\n\n  return keyboard_controls;\n};\n\n\nexport function handle_keypresses(e) {\n\n  if (window.dzsap_isTextFieldFocused) {\n    return;\n  }\n\n\n  function isKeyPressed(checkKeyCode) {\n    let isKeyPressed = false;\n    if (checkKeyCode.indexOf('ctrl+') > -1) {\n      if (e.ctrlKey) {\n        checkKeyCode = checkKeyCode.replace('ctrl+', '');\n        if (e.keyCode === Number(checkKeyCode)) {\n          isKeyPressed = true;\n        }\n      }\n    } else {\n      if (e.keyCode === Number(checkKeyCode)) {\n        isKeyPressed = true;\n      }\n    }\n    return isKeyPressed;\n  }\n\n  var $ = jQuery;\n\n  const keyboard_controls = $.extend({}, dzsap_generate_keyboard_controls());\n\n\n  if (dzsap_currplayer_focused && dzsap_currplayer_focused.api_pause_media) {\n\n    if (isKeyPressed(keyboard_controls.pause_play)) {\n      if (!$(dzsap_currplayer_focused).hasClass('comments-writer-active')) {\n        if ($(dzsap_currplayer_focused).hasClass('is-playing')) {\n          dzsap_currplayer_focused.api_pause_media();\n        } else {\n          dzsap_currplayer_focused.api_play_media();\n        }\n\n        if (window.dzsap_mouseover) {\n          e.preventDefault();\n          return false;\n        }\n      }\n    }\n\n    if (isKeyPressed(keyboard_controls.step_back)) {\n      dzsap_currplayer_focused.api_step_back(keyboard_controls.step_back_amount);\n    }\n\n    if (isKeyPressed(keyboard_controls.step_forward)) {\n      dzsap_currplayer_focused.api_step_forward(keyboard_controls.step_back_amount);\n    }\n\n    if (isKeyPressed(keyboard_controls.sync_players_goto_next)) {\n      dzsap_currplayer_focused.api_sync_players_goto_next();\n    }\n\n\n    if (isKeyPressed(keyboard_controls.sync_players_goto_prev)) {\n      dzsap_currplayer_focused.api_sync_players_goto_prev();\n    }\n\n\n  }\n}\n\n\n/**\n * called in singleton\n */\nexport const dzsap_keyboardSetup = () => {\n\n  let $ = jQuery;\n\n  window.dzsap_isTextFieldFocused = false;\n\n  $(document).off('keydown.dzsapkeyup');\n  $(document).on('keydown.dzsapkeyup', handle_keypresses);\n\n\n  $(document).on('focus blur', 'textarea,input', function (e) {\n\n    if (e.type == 'focusin' || e.type == 'focus') {\n\n      window.dzsap_isTextFieldFocused = true;\n    }\n    if (e.type == 'focusout' || e.type == 'blur') {\n\n      window.dzsap_isTextFieldFocused = false;\n    }\n  });\n\n\n  $(document).on('keydown blur', '.zoomsounds-search-field', function (e) {\n    const _t = $(e.currentTarget);\n\n    setTimeout(function () {\n\n      if (_t) {\n        let $audioGallery = $('.audiogallery').eq(0);\n        if (_t.attr('data-target')) {\n          $audioGallery = $(_t.attr('data-target'));\n        }\n        if ($audioGallery.get(0) && $audioGallery.get(0).api_filter) {\n          $audioGallery.get(0).api_filter('title', _t.val());\n        }\n      }\n    }, 100);\n\n  });\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/**\n * v1.0.0\n * @type {esJquery}\n */\nlet esJquery = class {\n\n  /**\n   *\n   * @param {string|esJquery} selector\n   */\n  constructor(selector) {\n\n    if (typeof selector == 'string') {\n\n      this.$el = document.querySelector(selector);\n      this.$els = document.querySelectorAll(selector);\n    } else {\n\n      this.$el = selector;\n\n      if (isNodeList(selector)) {\n        this.$el = selector[0];\n      }\n      this.$els = [];\n\n      if (isNodeList(selector)) {\n\n        selector.forEach((_el) => {\n\n          this.$els.push(_el);\n        })\n      } else {\n\n        this.$els.push(this.$el);\n      }\n\n\n    }\n  }\n\n  /**\n   *\n   * @param {number} indexNr\n   * @returns {esJquery}\n   */\n  eq(indexNr) {\n\n    if (this.$els.length < indexNr - 1) {\n      return $es(this.$els[this.$els.length - 1]);\n    }\n    return $es(this.$els[indexNr]);\n\n  }\n\n  length() {\n\n    return this.$els.length;\n\n  }\n\n  hide() {\n\n    this.$els.forEach(function (el) {\n      el.style.display = 'none';\n    });\n  }\n\n  clone() {\n    // -- @only works on first element\n    const cln = this.$el.cloneNode(true);\n    this.$el.parentNode.appendChild(cln)\n    return cln;\n  }\n\n  show() {\n\n    this.$els.forEach(function (el) {\n      el.style.display = '';\n    });\n  }\n\n  /**\n   *\n   * @param {string} arg\n   * @return {esJquery}\n   */\n  addClass(arg) {\n    this.$els.forEach(function (el3) {\n      if (el3) {\n        el3.classList.add(arg);\n      }\n    });\n    return this;\n  }\n\n  /**\n   *\n   * @param {string} arg\n   * @return {esJquery}\n   */\n  removeClass(arg) {\n\n\n    this.$els.forEach(function (el3) {\n      const classesToRemove = arg.split(' ');\n      classesToRemove.forEach((classToRemove) => {\n\n        if (el3) {\n          el3.classList.remove(classToRemove);\n        }\n      })\n    });\n    return this;\n  }\n\n  /**\n   *\n   * @param {string} html\n   * @return {esJquery}\n   */\n  prepend(html) {\n    if (typeof html == 'string') {\n\n      const _tempKid = document.createElement(\"div\");\n\n\n      this.$els.forEach(function (el) {\n        try {\n\n          el.appendChild(_tempKid);\n          el.insertBefore(_tempKid, el.firstChild);\n          _tempKid.outerHTML = html;\n        } catch (err) {\n          console.error('something went wrong .. ', err, this, el);\n        }\n      })\n    }\n  }\n\n  /**\n   *\n   * @param {number} index\n   * @returns {Element}\n   */\n  get(index) {\n    if (index === 0) {\n      return this.$el;\n    }\n  }\n\n  /**\n   *\n   * @param {function} callback\n   */\n  each(callback) {\n    this.$els.forEach((el) => {\n        callback.bind(el)($es(el));\n      }\n    )\n  }\n\n  text() {\n    if (arguments.length === 0) {\n\n      return this.$el.textContent;\n    } else {\n\n      this.$el.textContent = arguments[0];\n\n      return this;\n    }\n  }\n\n  /**\n   *\n   * @param {string} selector\n   * @return {esJquery}\n   */\n  find(selector) {\n\n    if (this.$el) {\n      return new esJquery(this.$el.querySelectorAll(selector));\n    }\n    return new esJquery(this.$el);\n  }\n\n  /**\n   *\n   * @param {string} html\n   * @return {esJquery}\n   */\n  append(html) {\n    if (typeof html == 'string') {\n\n      const _tempKid = document.createElement(\"div\");\n      _tempKid.innerHTML = html;\n\n\n      this.$els.forEach(function (el) {\n        try {\n          el.appendChild(_tempKid);\n        } catch (err) {\n          console.error('something went wrong .. ', err, this, el);\n        }\n      })\n    }\n  }\n\n  /**\n   *\n   * @param {string} actionType\n   */\n  trigger(actionType) {\n\n    var event = new CustomEvent(actionType, {\n      bubbles: true, detail: 'event'\n    });\n\n    this.$el.dispatchEvent(event);\n  }\n\n  /**\n   *\n   * @param {string} eventName\n   * @param {string|function} sel\n   * @param {string|function} handler\n   * @return {esJquery}\n   */\n  on(eventName, sel, handler) {\n    const isSelTheHandler = typeof sel === 'function';\n    const theHandler = isSelTheHandler ? sel : handler;\n\n\n    if (this.$el) {\n\n      this.$el.addEventListener(eventName, function (event) {\n\n        if (isSelTheHandler) {\n          theHandler.call(this.$el, event);\n          return;\n        }\n        let t = event.target;\n        while (t && t !== this) {\n          if (t.matches(sel)) {\n            theHandler.call(t, event);\n          }\n          t = t.parentNode;\n        }\n      });\n    }\n    return $es(this);\n  }\n\n  /**\n   *\n   * @param {string} arg\n   * @return {esJquery}\n   */\n  hasClass(arg) {\n    if (this.$el) {\n\n      return this.$el.classList.contains(arg);\n    }\n    return $es(null);\n  }\n\n  html() {\n\n    const attrArgs = arguments;\n    if (attrArgs.length === 0) {\n      return this.$el.innerHTML;\n    }\n    if (attrArgs.length === 1) {\n\n      if (this.$el) {\n        this.$el.innerHTML = attrArgs[0];\n      }\n\n      return this;\n    }\n  }\n\n  getLast() {\n\n    if (this.$els.length) {\n      return $es(this.$els[this.$els.length - 1]);\n    }\n    return null;\n  }\n\n  val() {\n    const attrArgs = arguments;\n    if (attrArgs.length === 0) {\n      return this.$el.value ? this.$el.value : '';\n    }\n    if (attrArgs.length === 1) {\n\n      this.$els.forEach(function (el) {\n        if (el) {\n          console.log('arguments - ', attrArgs);\n          el.value = attrArgs[0];\n        }\n      });\n    }\n    return this;\n\n\n  }\n\n  attr() {\n    const attrArgs = arguments;\n    if (attrArgs.length === 0) {\n      console.log('no attrArgs.. ');\n    }\n    if (attrArgs.length === 1) {\n      return this.$el.getAttribute(attrArgs[0]);\n    }\n    if (attrArgs.length === 2) {\n      this.$els.forEach(function (el) {\n        if (el) {\n          el.setAttribute(attrArgs[0], attrArgs[1]);\n        }\n      });\n    }\n\n    return $es(this.$el);\n\n\n  }\n\n  css() {\n    const self = this;\n    const attrArgs = arguments;\n    if (attrArgs.length === 0) {\n      console.log('no attrArgs.. ');\n    }\n    if (attrArgs.length === 1) {\n      return this.$el.getAttribute(attrArgs[0]);\n    }\n    if (attrArgs.length === 2) {\n\n      this.$els.forEach(function (el) {\n        if (el) {\n          console.log('toCamel case - ', self._toCamelCase(attrArgs[0]), attrArgs[1]);\n          el.style[self._toCamelCase(attrArgs[0])] = attrArgs[1];\n        }\n      })\n\n      console.log(this.$el);\n\n    }\n\n    return $es(this.$el);\n\n\n  }\n\n  _toCamelCase(s) {\n    return s.replace(/-./g, x => x[1].toUpperCase())\n  }\n\n  remove() {\n    this.$el.remove();\n  }\n\n  parent() {\n\n    if (this.$el) {\n\n      return $es(this.$el.parentNode);\n    }\n    return $es(null);\n  }\n\n  prev() {\n\n    return $es(this.$el.previousElementSibling);\n  }\n\n  /**\n   *\n   * @returns {Element}\n   */\n  getEl() {\n\n    return this.$el;\n  }\n\n  children() {\n    return $es(this.$el.childNodes);\n  }\n\n  serialize() {\n    var form = this.$el;\n    var field, query = '';\n    if (typeof form == 'object' && form.nodeName === \"FORM\") {\n      for (let i = 0; i <= form.elements.length - 1; i++) {\n        field = form.elements[i];\n        if (field.name && field.type !== 'file' && field.type !== 'reset') {\n          if (field.type === 'select-multiple') {\n            for (let j = 0; j <= form.elements[i].options.length - 1; j++) {\n              if (field.options[j].selected) {\n                query += '&' + field.name + \"=\" + encodeURIComponent(field.options[j].value).replace(/%20/g, '+');\n              }\n            }\n          } else {\n            if ((field.type !== 'submit' && field.type !== 'button')) {\n              if ((field.type !== 'checkbox' && field.type !== 'radio') || field.checked) {\n                query += '&' + field.name + \"=\" + encodeURIComponent(field.value).replace(/%20/g, '+');\n              }\n            }\n          }\n        }\n      }\n    }\n    return query.substr(1);\n  }\n};\n\nfunction isNodeList(nodes) {\n  var stringRepr = Object.prototype.toString.call(nodes);\n\n  return typeof nodes === 'object' &&\n    /^\\[object (HTMLCollection|NodeList|Object)\\]$/.test(stringRepr) &&\n    (typeof nodes.length === 'number') &&\n    (nodes.length === 0 || (typeof nodes[0] === \"object\" && nodes[0].nodeType > 0));\n}\n\n/**\n * jQuery, but in es6\n * @returns {esJquery} esjQuery\n * @param arg\n */\nexport const $es = (arg) => {\n\n\n  return new esJquery(arg)\n};\n\n\nexport function documentReady(callback) {\n  new Promise((resolutionFunc, rejectionFunc) => {\n    if (document.readyState === 'interactive' || document.readyState === 'complete') {\n      resolutionFunc('interactive')\n    }\n    document.addEventListener('DOMContentLoaded', () => {\n      resolutionFunc('DOMContentLoaded')\n    }, false);\n    setTimeout(() => {\n      resolutionFunc('timeout')\n    }, 5000);\n  }).then(resolution => {\n    callback(resolution);\n  }).catch(err => {\n    callback(err)\n  });\n}\n\n\nwindow.es_document_ready = documentReady;\n\n/** call ajax function\n * {\n    'type':'GET',\n    'url':'/',\n    'data':{},\n    'success':null\n  }\n */\nwindow.es_ajax = function (pargs) {\n  var margs = {\n    'method': 'GET',\n    'url': '/',\n    'data': {},\n    'success': null\n  };\n\n  if (pargs) {\n    margs = Object.assign(margs, pargs);\n  }\n\n  let xhr = new XMLHttpRequest();\n\n  xhr.open(margs.method, margs.url);\n  var form_data = new FormData();\n\n  for (var key in margs.data) {\n    form_data.append(key, margs.data[key]);\n  }\n\n  xhr.send(form_data);\n  xhr.addEventListener('load', handle_loaded);\n\n  function handle_loaded(e) {\n\n    if (xhr.status !== 200) {\n\n      if (margs.error) {\n        margs.error(e, this);\n      }\n    } else { // show the result\n      if (margs.success) {\n        margs.success(e, this);\n      }\n    }\n  }\n\n\n}\n\nwindow.get_query_arg = function (purl, key) {\n  if (purl.indexOf(key + '=') > -1) {\n    var regexS = \"[?&]\" + key + \"(.+?)(?=&|$)\";\n    var regex = new RegExp(regexS);\n    var regtest = regex.exec(purl);\n\n\n    if (regtest != null) {\n\n\n      if (regtest[1]) {\n        return regtest[1].replace(/=/g, '');\n      } else {\n        return '';\n      }\n\n\n    }\n  }\n}\n\n\n/**\n *\n * @param {string} purl\n * @param {string} key\n * @param {string} value\n * @returns {*}\n */\nwindow.add_query_arg = function (purl, key, value) {\n  key = encodeURIComponent(key);\n  value = encodeURIComponent(value);\n\n\n  var s = purl;\n  var pair = key + \"=\" + value;\n\n  var r = new RegExp(\"(&|\\\\?)\" + key + \"=[^\\&]*\");\n\n\n  s = s.replace(r, \"$1\" + pair);\n  var addition = '';\n  if (s.indexOf(key + '=') > -1) {\n\n\n  } else {\n    if (s.indexOf('?') > -1) {\n      addition = '&' + pair;\n    } else {\n      addition = '?' + pair;\n    }\n    s += addition;\n  }\n\n  if (value === 'NaN') {\n    var regex_attr = new RegExp('[\\?|\\&]' + key + '=' + value);\n    s = s.replace(regex_attr, '');\n  }\n\n\n  return s;\n}\n","/*\n* deprecated\n * */\n\n'use strict';\nimport {$es} from \"./js_common/_esjquery\";\nimport {ConstantsDzsAp} from \"./configs/_constants\";\nimport {convertPluginOptionsToFinalOptions, generateFakeArrayForPcm} from \"./jsinc/_dzsap_helpers\";\n\n\n\nclass WaveGenerator {\n\n  constructor($waveGenerator_) {\n\n    this.initOptions = {};\n    this.dataSource = '';\n    this.$waveGenerator_ = ($waveGenerator_);\n    this.$waveGenerator = $es($waveGenerator_);\n    this.$wavedataField = null;\n    this.$status = null;\n    this.init();\n  }\n\n  init() {\n\n    let finalOptions = {};\n    const defaultOptions = Object.assign({\n      source: '',\n      selectorWaveData: '',\n    }, {});\n    finalOptions = convertPluginOptionsToFinalOptions(this.$waveGenerator_, defaultOptions, null, 'data-options', $es);\n\n    const selfClass = this;\n\n    selfClass.initOptions = finalOptions;\n    selfClass.$status = selfClass.$waveGenerator.find('.dzsap-wave-generator--status');\n\n\n    if (selfClass.initOptions.source) {\n      selfClass.dataSource = selfClass.initOptions.source;\n    }\n\n    if (selfClass.initOptions.selectorWaveData) {\n      selfClass.$wavedataField = $es(selfClass.initOptions.selectorWaveData);\n    }\n\n    selfClass.$status.html('generating waveforms');\n\n    if (selfClass.dataSource) {\n      promise_waveGenerate(selfClass.$waveGenerator.find('.dzsap-wave-generator--wave').get(0), selfClass.dataSource).then((resolve) => {\n        selfClass.$status.html('');\n\n\n        try {\n          if (resolve.pcm_data) {\n            if (selfClass.$wavedataField) {\n              selfClass.$wavedataField.val(resolve.pcm_data);\n\n              if(dzsap_settings.dzsap_wave_generate_auto==='on' && get_query_arg(window.location.href, 'dzsap_wave_generate_auto')==='on'){\n\n                window.dzsap_admin_waveforms_submitPcmData(document.querySelector('.track-waveform-meta'));\n              }\n\n            }\n          }\n        } catch (err) {\n          console.log(err);\n\n        }\n      })\n    }\n  }\n}\n\n\nwindow.es_document_ready(() => {\n\n  $es('.dzsap-wave-generator.auto-init').each($el => {\n    var generator = new WaveGenerator($el.get(0));\n  })\n})\n\nfunction get_query_arg(purl, key) {\n  if (purl.indexOf(key + '=') > -1) {\n\n    var regexS = \"[?&]\" + key + \"=.+\";\n    var regex = new RegExp(regexS);\n    var regtest = regex.exec(purl);\n\n    if (regtest != null) {\n      var splitterS = regtest[0];\n      if (splitterS.indexOf('&') > -1) {\n        var aux = splitterS.split('&');\n        splitterS = aux[1];\n      }\n      var splitter = splitterS.split('=');\n\n      return splitter[1];\n\n    }\n  }\n}\nwindow.dzsap_generating_pcm = false;\n\nconst promise_waveGenerate = async function ($container_, sourceMp3, pargs) {\n\n\n  var margs = Object.assign({\n    called_from: 'default',\n    preferBackendPeaks: true,\n    wavesurfer_pcm_length: 200\n  }, pargs);\n  var self = this;\n\n\n  return new Promise((resolvePcm, rejectPcm) => {\n\n    async function wavesurfer_renderPcm() {\n\n      function asyncRenderPcm(resolve, reject) {\n\n\n        // -- make sure we are generating only once\n        if (window.dzsap_generating_pcm) {\n          setTimeout(function () {\n            asyncRenderPcm(resolve, reject);\n          }, 1000);\n          return false;\n        }\n        window.dzsap_generating_pcm = true;\n\n\n        var wavesurferConId = 'wavesurfer_' + Math.ceil(Math.random() * 10000);\n\n        if (!$container_) {\n          $container_ = document.body;\n        }\n\n        $es($container_).append(`<div id=\"${wavesurferConId}\"></div>`);\n\n\n        var ctx = document.createElement('canvas').getContext('2d');\n        var linGrad = ctx.createLinearGradient(0, 64, 0, 200);\n        linGrad.addColorStop(0.5, 'rgb(107,95,95)');\n        linGrad.addColorStop(0.5, 'rgb(119,115,115)');\n\n\n        var wavesurfer = WaveSurfer.create({\n          container: '#' + wavesurferConId,\n          normalize: true,\n          pixelRatio: 1,\n          waveColor: linGrad,\n          progressColor: 'hsla(200, 100%, 30%, 0.5)',\n          cursorColor: '#fff',\n          // This parameter makes the waveform look like SoundCloud's player\n          barWidth: 2\n        });\n\n\n        wavesurfer.on('loading', function (percents) {\n\n          $container_.parentNode.querySelector('.dzsap-wave-generator--status').innerHTML = (percents + '%')\n        });\n\n\n        try {\n          wavesurfer.load(sourceMp3);\n        } catch (err) {\n          console.log(\"[wavesurfer] WAVE SURFER NO LOAD\");\n        }\n\n\n        wavesurfer.on('ready', function () {\n          console.log('[dzsap] [wavesurfer] generating wave data for ', sourceMp3);\n\n          var accuracy = 100;\n          var pcmDataArr = [];\n          var pcmDataString = '';\n\n          if (wavesurfer && wavesurfer.exportPCM) {\n\n            if (margs.preferBackendPeaks !== true) {\n\n              pcmDataArr = wavesurfer.exportPCM(margs.wavesurfer_pcm_length, accuracy, true);\n            }\n\n            let isPcmDataArrValid = false;\n            try {\n              pcmDataArr = JSON.parse(pcmDataString);\n\n              for (let i in pcmDataArr) {\n                if (pcmDataArr[i] !== null && pcmDataArr[i] !== 0 && pcmDataArr[i] !== \"0\") {\n                  isPcmDataArrValid = true;\n                  break;\n                }\n              }\n            } catch (err) {\n              isPcmDataArrValid = false;\n            }\n\n            if (!isPcmDataArrValid) {\n              pcmDataArr = wavesurfer.backend.getPeaks(margs.wavesurfer_pcm_length, 0, margs.wavesurfer_pcm_length);\n            }\n            for (let i in pcmDataArr) {\n              if (pcmDataArr[i] !== null && pcmDataArr[i] !== 0 && pcmDataArr[i] !== \"0\") {\n                pcmDataArr[i] = Math.abs(Number(Number(pcmDataArr[i]).toFixed(2)));\n              }\n            }\n\n\n          } else {\n            pcmDataArr = generateFakeArrayForPcm();\n          }\n          pcmDataString = JSON.stringify(pcmDataArr);\n\n\n          resolve({\n            resolve_type: 'success',\n            pcm_data: pcmDataString\n          })\n        });\n\n        wavesurfer.on('error', function (err, err2) {\n          reject({\n            error_type: 'wavesurfer_error',\n            error_message: err,\n          })\n        });\n\n\n        setTimeout(() => {\n\n          reject({\n            error_type: 'wavesurfer_timeout',\n            error_message: 'timeout',\n          })\n\n        }, ConstantsDzsAp.WAVESURFER_MAX_TIMEOUT);\n      }\n\n      // -- end promise\n\n\n      return new Promise((resolve, reject) => {\n        asyncRenderPcm(resolve, reject);\n      });\n    }\n\n    wavesurfer_renderPcm().then(responsePcm => {\n      console.log('%c [dzsap] [wave] success while generating pcm - ', ConstantsDzsAp.DEBUG_STYLE_PLAY_FUNCTIONS, responsePcm)\n\n      resolvePcm(responsePcm);\n\n    }).catch(err => {\n\n      var default_pcm = [];\n\n      for (var i3 = 0; i3 < 200; i3++) {\n        default_pcm[i3] = Math.abs(Number(Math.random()).toFixed(2));\n      }\n      default_pcm = JSON.stringify(default_pcm);\n\n      console.log('%c [dzsap] [wave] error while generating pcm - ', ConstantsDzsAp.DEBUG_STYLE_PLAY_FUNCTIONS, err, err.error_message)\n\n\n      resolvePcm(default_pcm);\n    });\n  })\n\n\n}\n"],"names":["ConstantsDzsAp","PLAYLIST_TRANSITION_DURATION","URL_WAVESURFER_HELPER_BACKUP","WAVESURFER_MAX_TIMEOUT","URL_JQUERY","DEBUG_STYLE_PLAY_FUNCTIONS","ERRORED_OUT_CLASS","ERRORED_OUT_MAX_ATTEMPTS","DZSAP_PLAYER_CLASS_FOOTER_PLAYER","DZSAP_PLAYER_CLASS_STICK_TO_BOTTOM","DZSAP_SCRIPT_SELECTOR_KEYBOARD","isValid","n","formatTime","arg","s","Math","round","m","h","isFinite","String","can_history_api","window","history","pushState","dzs_clean_string","replace","get_query_arg","purl","key","indexOf","regtest","RegExp","exec","splitterS","aux","split","add_query_arg","value","pair","encodeURIComponent","r","regex_attr","dzsap_is_mobile","is_ios","is_android","navigator","platform","can_canvas","document","createElement","getContext","is_safari","Object","prototype","toString","call","HTMLElement","userAgent","toLowerCase","select_all","el","getSelection","createRange","range","selectNodeContents","sel","removeAllRanges","addRange","selection","body","createTextRange","textRange","moveToElementText","select","is_android_good","htmlEncode","jQuery","text","html","dzsap_generate_keyboard_tooltip","keyboard_controls","lab","structureDzsTooltipCommentAfterSubmit","hexToRgb","hex","targetAlpha","result","str","alpha","parseInt","g","b","assignHelperFunctionsToJquery","$","easeIn","t","c","d","checkIfHasClass","argfind","auxarr","fn","prependOnce","_t","this","children","length","prepend","appendOnce","append","registerTextWidth","textWidth","html_org","nodeName","val","html_calcS","_lastspan","last","css","width","remove","player_checkIfWeShouldShowAComment","selfClass","real_time_curr","real_time_total","timer_curr_perc","audioType","timeCurrent","timeTotal","_commentsHolder","each","hasClass","_t_posx","offset","left","parseFloat","outerWidth","abs","find","removeClass","addClass","sanitizeObjectForChangeMediaArgs","_sourceForChange","changeMediaArgs","_feed_fakePlayer","data","source","attr","pcm","thumb_link","artist","eq","song_name","thumb","utils_sanitizeToColor","colorString","dzsapInitjQueryRegisters","player_radio_isNameUpdatable","radio_update_song_name","targetKey","_metaArtistCon","playerRegisterWindowFunctions","argtime","argcthis","Infinity","action","id_track","postdata","ceil","post","dzsap_ajaxurl","response","dzs_open_social_link","argthis","leftPosition","topPosition","windowFeatures","screen","height","location","href","auxa","cid","cid_gallery","dzsap_currplayer_from_share","parent","index","shareurl","open","dzsap_wp_send_contor_60_secs","argtitle","video_title","video_analytics_id","curr_user","dzsap_curr_user","theajaxurl","dzsap_settings","dzsap_site_url","ajax","type","url","success","error","dzsap_init_multisharer","assignPcmData","pcmSource","string_jsonConvertToArray","cthis","initOptions","skinwave_enableSpectrum","pcmSourceLen","desiredSize","i","splice","ar_str","waves","JSON","parse","err","dzsap_singleton_ready_calls","dzsap_singleton_ready_calls_is_called","$feed_dzsapMainSettings","$feed_dzsapMainSettingsAll","querySelectorAll","innerHTML","ajaxurl","ajax_url","dzsap__style","after","on","dzsap_currplayer_focused","dzsap_keyboardSetup","jQueryAuxBindings","off","e","$t","preventDefault","stopPropagation","stopImmediatePropagation","_c","get","api_change_media","playerid","wishlist_action","dzsap_lasto","settings_php_handler","view_player_playMiscEffects","$conPlayPause","view_player_globalDetermineSyncPlayersIndex","_sourcePlayer","dzsap_syncList_players","forEach","$syncPlayer","dzsap_syncList_index","player_view_addMetaLoaded","$totalTime","timeModel","refreshTimes","getVisualTotalTime","htmlEntities","waitForScriptToBeAvailableThenExecute","verifyVar","callbackFn","Promise","resolve","reject","checkInterval","checkIfVarExists","clearInterval","setInterval","setTimeout","then","player_reinit_findIfPcmNeedsGenerating","o","hasInitialPcmData","skinwave_wave_mode","design_skin","isPcmRequiredToGenerate","scrubbar_type","is_inited_from_playlist","scrubbar_type_wave__has_reveal_animation","playerFunctions","functionType","skinwave_comments_playerid","the_player_id","uniqueId","identifier_pcm","skinwave_comments_enable","player_delete","_con","prev","sanitizeToHexColor","hexcolor","player_identifySource","data_source","player_identifyTypes","disable_timer","audioTypeSelfHosted_streamType","disable_scrub","player_getPlayFromTime","playFrom","playfrom","isNaN","sanitizeToIntFromPointTime","sampleTimeStart","arr","Number","player_determineStickToBottomContainer","$conTest","$stickToBottomContainer","isStickyPlayer","player_stickToBottomContainerDetermineClasses","player_service_getSourceProtection","player_isGoingToSetupMediaNow","player_stopOtherPlayers","dzsap_list","api_pause_media","api_destroy_for_rebuffer","player_syncPlayers_gotoItem","targetIncrement","syncPlayers_autoplayEnabled","$playerInSyncList","keySyncPlayer","targetIndex","$currentSyncPlayer_","api_play_media","player_syncPlayers_buildList","syncPlayers_isDzsapListBuilt","_t23","push","clearTimeout","syncPlayers_buildTimeout","convertPluginOptionsToFinalOptions","elThis","defaultOptions","argOptions","searchedAttr","$es","finalOptions","tempOptions","isSetFromJson","undefined","$elThis","isArgOptionsDefinedViaJs","Boolean","keys","eval","assign","generateFakeArrayForPcm","it1","random","handle_keypresses","dzsap_isTextFieldFocused","extend","$keyboardControlsInfo","dzsap_keyboard_controls","step_back_amount","dzsap_generate_keyboard_controls","isKeyPressed","pause_play","dzsap_mouseover","step_back","api_step_back","step_forward","api_step_forward","sync_players_goto_next","api_sync_players_goto_next","sync_players_goto_prev","api_sync_players_goto_prev","checkKeyCode","ctrlKey","keyCode","currentTarget","$audioGallery","api_filter","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","definition","defineProperty","enumerable","obj","prop","hasOwnProperty","esJquery","selector","$el","querySelector","$els","isNodeList","_el","indexNr","style","display","cln","cloneNode","parentNode","appendChild","el3","classList","add","classToRemove","_tempKid","insertBefore","firstChild","outerHTML","console","callback","bind","arguments","textContent","actionType","event","CustomEvent","bubbles","detail","dispatchEvent","eventName","handler","isSelTheHandler","theHandler","addEventListener","target","matches","contains","attrArgs","log","getAttribute","setAttribute","self","_toCamelCase","x","toUpperCase","previousElementSibling","childNodes","field","form","query","elements","name","j","options","selected","checked","substr","nodes","stringRepr","test","nodeType","es_document_ready","resolutionFunc","rejectionFunc","readyState","resolution","es_ajax","pargs","margs","xhr","XMLHttpRequest","method","form_data","FormData","send","status","addition","WaveGenerator","$waveGenerator_","dataSource","$waveGenerator","$wavedataField","$status","init","selectorWaveData","promise_waveGenerate","pcm_data","dzsap_wave_generate_auto","dzsap_admin_waveforms_submitPcmData","dzsap_generating_pcm","$container_","sourceMp3","called_from","preferBackendPeaks","wavesurfer_pcm_length","resolvePcm","rejectPcm","asyncRenderPcm","wavesurferConId","linGrad","createLinearGradient","addColorStop","wavesurfer","WaveSurfer","create","container","normalize","pixelRatio","waveColor","progressColor","cursorColor","barWidth","percents","load","pcmDataArr","pcmDataString","exportPCM","isPcmDataArrValid","backend","getPeaks","toFixed","stringify","resolve_type","err2","error_type","error_message","wavesurfer_renderPcm","responsePcm","default_pcm","i3"],"sourceRoot":""}