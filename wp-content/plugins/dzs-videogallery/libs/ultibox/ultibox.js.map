{"version":3,"sources":["../../../../../../../../../../../usr/local/lib/node_modules/browserify/node_modules/browser-pack/_prelude.js","jsinc/_ultibox_helpers.js","ultibox.source.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","var svg_close_btn = '<svg enable-background=\"new 0 0 40 40\" id=\"\" version=\"1.1\" viewBox=\"0 0 40 40\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g><path d=\"M28.1,26.8c0.4,0.4,0.4,1,0,1.4c-0.2,0.2-0.5,0.3-0.7,0.3s-0.5-0.1-0.7-0.3l-6.8-6.8l-6.8,6.8c-0.2,0.2-0.5,0.3-0.7,0.3   s-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l6.8-6.8l-6.8-6.8c-0.4-0.4-0.4-1,0-1.4c0.4-0.4,1-0.4,1.4,0l6.8,6.8l6.8-6.8   c0.4-0.4,1-0.4,1.4,0c0.4,0.4,0.4,1,0,1.4L21.3,20L28.1,26.8z\"/></g><g><path d=\"M19.9,40c-11,0-20-9-20-20s9-20,20-20c4.5,0,8.7,1.5,12.3,4.2c0.4,0.3,0.5,1,0.2,1.4c-0.3,0.4-1,0.5-1.4,0.2   c-3.2-2.5-7-3.8-11-3.8c-9.9,0-18,8.1-18,18s8.1,18,18,18s18-8.1,18-18c0-3.2-0.9-6.4-2.5-9.2c-0.3-0.5-0.1-1.1,0.3-1.4   c0.5-0.3,1.1-0.1,1.4,0.3c1.8,3.1,2.8,6.6,2.8,10.2C39.9,31,30.9,40,19.9,40z\"/></g></svg>';\n\n\nvar svg_right_arrow = '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 22.062 22.062\" style=\"enable-background:new 0 0 22.062 22.062;\" xml:space=\"preserve\" width=\"512px\" height=\"512px\"> <g> <path d=\"M10.544,11.031l6.742-6.742c0.81-0.809,0.81-2.135,0-2.944l-0.737-0.737 c-0.81-0.811-2.135-0.811-2.945,0L4.769,9.443c-0.435,0.434-0.628,1.017-0.597,1.589c-0.031,0.571,0.162,1.154,0.597,1.588 l8.835,8.834c0.81,0.811,2.135,0.811,2.945,0l0.737-0.737c0.81-0.808,0.81-2.134,0-2.943L10.544,11.031z\" fill=\"#696969\"/> </g> </svg> ';\n\n\nwindow.get_query_arg = function (purl, key) {\n\n\n\n  if (purl.indexOf(key + '=') > -1) {\n\n    var regexS = \"[?&]\" + key + \"(.+?)(?=&|$)\";\n    var regex = new RegExp(regexS);\n    var regtest = regex.exec(purl);\n\n\n\n    if (regtest != null) {\n\n\n\n      if (regtest[1]) {\n        var aux = regtest[1].replace(/=/g, '');\n        return aux;\n      } else {\n        return '';\n      }\n\n\n    }\n\n  }\n}\n\n\nwindow.add_query_arg = function (purl, key, value) {\n  key = encodeURIComponent(key);\n  value = encodeURIComponent(value);\n\n\n\n  var s = purl;\n  var pair = key + \"=\" + value;\n\n  var r = new RegExp(\"(&|\\\\?)\" + key + \"=[^\\&]*\");\n\n\n\n\n  s = s.replace(r, \"$1\" + pair);\n\n  var addition = '';\n  if (s.indexOf(key + '=') > -1) {\n\n\n  } else {\n    if (s.indexOf('?') > -1) {\n      addition = '&' + pair;\n    } else {\n      addition = '?' + pair;\n    }\n    s += addition;\n  }\n\n  //if value NaN we remove this field from the url\n  if (value == 'NaN') {\n    var regex_attr = new RegExp('[\\?|\\&]' + key + '=' + value);\n    s = s.replace(regex_attr, '');\n  }\n\n\n\n\n  return s;\n}\n\nfunction init_jquery_helpers() {\n\n  jQuery.fn.outerHTML = function (e) {\n    return e\n      ? this.before(e).remove()\n      : jQuery(\"<p>\").append(this.eq(0).clone()).html();\n  };\n\n\n  jQuery.fn.prependOnce = function (arg, argfind) {\n    var _t = jQuery(this) // It's your element\n\n\n\n    if (typeof (argfind) == 'undefined') {\n      var regex = new RegExp('class=\"(.*?)\"');\n      var auxarr = regex.exec(arg);\n\n\n      if (typeof auxarr[1] != 'undefined') {\n        argfind = '.' + auxarr[1];\n      }\n    }\n\n\n    // we compromise chaining for returning the success\n    if (_t.children(argfind).length < 1) {\n      _t.prepend(arg);\n      return true;\n    } else {\n      return false;\n    }\n  };\n  jQuery.fn.appendOnce = function (arg, argfind) {\n    var _t = jQuery(this) // It's your element\n\n\n    if (typeof (argfind) == 'undefined') {\n      var regex = new RegExp('class=\"(.*?)\"');\n      var auxarr = regex.exec(arg);\n\n\n      if (typeof auxarr[1] != 'undefined') {\n        argfind = '.' + auxarr[1];\n      }\n    }\n\n    if (_t.children(argfind).length < 1) {\n      _t.append(arg);\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n}\n\nmodule.exports.detect_ultibox_media_type = function (arg, suggestedMediaType='image') {\n\n  var type = suggestedMediaType;\n\n\n  if(arg){\n\n    if (arg.indexOf('.mp4') >= arg.length - 4 || arg.indexOf('.m4v') >= arg.length - 4) {\n      type = 'video';\n    }\n    if (arg.indexOf('.mp3') >= arg.length - 4 || arg.indexOf('.m4a') >= arg.length - 4) {\n      type = 'audio';\n    }\n    if (arg.indexOf('#') === 0 || arg.indexOf('.') === 0) {\n      type = 'inlinecontent';\n    }\n  }\n\n  return type;\n}\nmodule.exports.svg_close_btn = svg_close_btn;\nmodule.exports.svg_right_arrow = svg_right_arrow;\nmodule.exports.init_jquery_helpers = init_jquery_helpers;","// -- DZS Ultibox\n// @version 1.23\n// @this is not free software\n// -- DZS Ultibox == copyright == http://digitalzoomstudio.net\n\n\n\"use strict\";\n\nconst ultiboxHelpers = require('./jsinc/_ultibox_helpers');\n\nObject.size = function (obj) {\n  var size = 0, key;\n  for (key in obj) {\n    if (obj.hasOwnProperty(key)) size++;\n  }\n  return size;\n};\nif (window.jQuery == undefined) {\n  console.log(\"jquery not detected ? \");\n  setTimeout(() => {\n    ultiboxHelpers.init_jquery_helpers();\n  }, 500);\n} else {\n  ultiboxHelpers.init_jquery_helpers();\n}\n\nwindow.dzstaa_self_options = {};\n\n\nwindow.dzsulb_inited = false;\n\n\nMath.easeIn = function (t, b, c, d) {\n\n  return -c * (t /= d) * (t - 2) + b;\n\n};\n\n\n(function ($) {\n\n\n  var svg_close_btn = ultiboxHelpers.svg_close_btn;\n\n\n  var svg_right_arrow = ultiboxHelpers.svg_right_arrow;\n\n\n  var _maincon = null\n    , _boxMainsCon = null\n    , _galleryClipCon = null\n    , _galleryItemsCon = null\n    , _boxMain = null\n    , _boxMainMediaCon = null\n    , _boxMainMedia = null\n    , _boxMainRealMedia = null // -- temp, the real media\n    , _boxMainUnder = null\n  ;\n\n\n  var id_main = '';\n\n  var media_ratio_w_h = 0\n    , media_w = 0\n    , media_h = 0\n    , media_finalw = 0\n    , media_finalh = 0\n    , media_has_under_description = false\n\n    , opts_max_width = 0\n\n\n    , currNr_gal = -1\n\n    , bmc_w = 0 // -- box-mains-con width\n    , bmc_h = 0 // -- box-mains-con height\n\n    , scaling = 'proportional' // -- proportional or fill\n\n    , ww = 0\n    , wh = 0\n\n    , gallery_setup = '' // -- the gallery curently setup\n\n    , $ultibox_items_arr = []\n    , theurl = window.location.href\n  ;\n\n\n  var lastargs = null\n    , lastlastargs = null\n  ;\n\n  var padding_hor = 30\n    , padding_ver = 30\n    , offset_v = 30\n  ;\n\n\n  var inter_calculate_dims_light = 0;\n\n\n  // Starting time and duration.\n\n\n  var _inline_content_orig_parent = null\n    , _inline_content_orig_prev = null\n    , _inline_content_orig_parent_last = null\n    , _inline_content_orig_prev_last = null\n  ;\n\n\n  var func_callback = null\n  ;\n\n\n  var ultibox_curr_margs = {};\n  var ultibox_options = {\n\n    'transition': 'slideup'\n    , 'transition_out': 'same-as-in'\n    , 'skin': 'skin-default'\n    , settings_deeplinking: \"on\"\n    , nav_mode: \"thumbs\" // -- thumbs or none\n    , settings_enable_arrows: \"auto\"\n    , extra_classes: \"\"\n    , gallery_type: \"skin-default\"\n    , videoplayer_settings: {\n      'autoplay': 'off',\n      'design_skin': 'skin_reborn',\n       settings_youtube_usecustomskin: 'on',\n       'cue': 'on'\n    }\n    , audioplayer_settings: {}\n\n\n  };\n\n  var svg_play = '<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"13.75px\" height=\"12.982px\" viewBox=\"0 0 13.75 12.982\" enable-background=\"new 0 0 13.75 12.982\" xml:space=\"preserve\"> <path d=\"M11.889,5.71L3.491,0.108C3.389,0.041,3.284,0,3.163,0C2.834,0,2.565,0.304,2.565,0.676H2.562v11.63h0.003 c0,0.372,0.269,0.676,0.597,0.676c0.124,0,0.227-0.047,0.338-0.115l8.389-5.595c0.199-0.186,0.326-0.467,0.326-0.781 S12.088,5.899,11.889,5.71z\"/> </svg>';\n\n  var _body = $('body').eq(0);\n  var _html = $('html').eq(0);\n\n  window.dzsulb_main_init = dzsulb_main_init;\n\n  function dzsulb_main_init() {\n\n\n    if (_maincon) {\n      return false;\n    }\n\n    _body = $('body').eq(0);\n    _html = $('html').eq(0);\n\n\n    if (window.ultibox_options_init) {\n      ultibox_options = $.extend(ultibox_options, window.ultibox_options_init);\n    }\n\n\n    offset_v = ultibox_options.offset_v;\n\n\n    var aux = '<div class=\"dzsulb-main-con ' + ultibox_options.skin + ' ' + ultibox_options.extra_classes + ' gallery-' + ultibox_options.gallery_type + '\">';\n\n\n    if (ultibox_options.skin == 'skin-default') {\n\n      if (ultibox_options.settings_enable_arrows == 'auto') {\n\n      }\n    }\n\n    aux += '<div class=\"overlay-background\"></div>';\n\n    aux += '<div class=\"dzsulb-preloader preloader-fountain\" > <div id=\"fountainG_1\" class=\"fountainG\"></div> <div id=\"fountainG_2\" class=\"fountainG\"></div> <div id=\"fountainG_3\" class=\"fountainG\"></div> <div id=\"fountainG_4\" class=\"fountainG\"></div> </div>';\n\n    aux += '<div class=\"box-mains-con\">';\n\n    aux += '</div><!-- end .box-mains-con-->';\n\n\n    if (ultibox_options.nav_mode == 'thumbs') {\n\n      aux += '<div class=\"gallery-clip-con\"><div class=\"gallery-items-con\">';\n\n      aux += '</div></div><!-- end .gallery-clip-con-->';\n    }\n\n\n    aux += '</div>';\n\n\n    _body.append(aux);\n\n\n    _maincon = _body.children('.dzsulb-main-con').eq(0);\n    _boxMainsCon = _maincon.find('.box-mains-con').eq(0);\n    _galleryClipCon = _maincon.find('.gallery-clip-con').eq(0);\n    _galleryItemsCon = _maincon.find('.gallery-items-con').eq(0);\n\n    if (ultibox_options.transition == 'default') {\n      ultibox_options.transition = 'fade';\n    }\n    if (ultibox_options.transition_out == 'same-as-in') {\n      ultibox_options.transition_out = ultibox_options.transition;\n    }\n\n\n    _maincon.addClass('transition-' + ultibox_options.transition);\n\n\n    _maincon.on('click', '>.overlay-background, .close-btn-con, .ultibox-close-btn, .gallery-items-con > .gallery-thumb, .ultibox-gallery-arrow,.ultibox-prev-btn,.ultibox-next-btn', handle_mouse);\n    _maincon.on('wheel', '.box-main.scroll-mode,.gallery-items-con.scroll-mode', handle_scroll);\n\n\n    check_deeplink();\n\n\n    window.close_ultibox = close_ultibox;\n\n\n    window.api_ultibox_set_callback_func = function (argo) {\n      func_callback = argo;\n    };\n\n\n    $(window).on('resize', handle_resize)\n    handle_resize();\n\n  }\n\n  function check_deeplink() {\n    if (theurl.indexOf('ultibox=') > -1) {\n\n      if (get_query_arg(theurl, 'ultibox')) {\n        var tempNr = parseInt(get_query_arg(theurl, 'ultibox'), 10);\n\n\n        if (String(tempNr) !== 'NaN') {\n          // -- if it is a number\n          if (tempNr > -1) {\n\n            // -- lets see if we have it .. if we don t\n\n\n            if ($('.ultibox-item,.ultibox-item-delegated').eq(tempNr).length) {\n\n              open_ultibox($('.ultibox-item,.ultibox-item-delegated').eq(tempNr), null, {\n                from_deeplink: tempNr\n                , call_from: 'check_deeplink'\n              });\n            } else {\n\n              setTimeout(function () {\n                open_ultibox($('.ultibox-item,.ultibox-item-delegated').eq(tempNr), null, {\n                  from_deeplink: tempNr\n                  , call_from: 'check_deeplink'\n                });\n\n              }, 1500);\n            }\n            // -- let us try again\n\n          }\n        } else {\n\n          var auxobj = $('#' + get_query_arg(theurl, 'ultibox'));\n\n\n          open_ultibox(auxobj, null, {\n            from_deeplink: '#' + get_query_arg(theurl, 'ultibox')\n            , call_from: 'check_deeplink'\n          });\n        }\n      }\n\n    }\n  }\n\n  function handle_scroll(e) {\n\n\n    var _t = $(this);\n\n\n    // -- this is where the scrolling happens\n    if (_t.hasClass('box-main')) {\n\n      var ch = wh;\n      var th = _boxMain.children('.box-main-media-con').eq(0).outerHeight();\n\n      var auxY = parseInt(_boxMain.css('top')) + Number(e.originalEvent.wheelDelta) * 10;\n\n\n      if (auxY > offset_v) {\n        auxY = offset_v;\n      }\n      if (auxY < ch - th - offset_v - (wh - _boxMain.parent().outerHeight())) {\n        auxY = ch - th - offset_v - (wh - _boxMain.parent().outerHeight());\n      }\n\n\n      _boxMain.css({})\n    }\n    if (_t.hasClass('gallery-items-con')) {\n\n      var cw = ww;\n      var tw = _galleryItemsCon.outerWidth();\n\n      var auxX = parseInt(_galleryItemsCon.css('left')) + Number(e.originalEvent.wheelDelta) * 10;\n\n\n      if (auxX > 30) {\n        auxX = 30;\n      }\n      if (auxX < cw - tw - 30) {\n        auxX = cw - tw - 30;\n      }\n\n\n      _galleryItemsCon.css({\n        'left': auxX\n      })\n    }\n\n\n  }\n\n  function handle_mouse(e) {\n\n\n    var _t = $(this);\n\n    if (e.type === 'click') {\n\n\n      if (_t.hasClass('overlay-background')) {\n\n        close_ultibox();\n\n      }\n      if (_t.hasClass('close-btn-con') || _t.hasClass('ultibox-close-btn')) {\n\n        close_ultibox();\n\n      }\n\n      if (_t.hasClass('gallery-thumb')) {\n\n        var ind = _t.parent().children().index(_t);\n\n\n        goto_gallery_item(ind);\n\n      }\n\n      if (_t.hasClass('ultibox-gallery-arrow--left')) {\n\n        goto_gallery_item_prev();\n\n      }\n\n      if (_t.hasClass('ultibox-gallery-arrow--right')) {\n\n        goto_gallery_item_next();\n\n      }\n\n\n      // -- loaded-item next, .zoomed next\n    }\n\n  }\n\n  function handle_mouse_item(e) {\n\n\n    var _t = $(this);\n\n    if (e.type === 'click') {\n\n\n      if (_t.hasClass('')) {\n\n      }\n\n      open_ultibox(_t, null);\n\n\n      // -- loaded-item next, .zoomed next\n    }\n\n  }\n\n\n  function goto_gallery_item_prev() {\n    var tempNr = currNr_gal;\n    tempNr--;\n\n\n    var gal_nr_items = 0;\n\n    if (_galleryItemsCon.length) {\n      gal_nr_items = _galleryItemsCon.children().length;\n    } else {\n      gal_nr_items = $('*[data-biggallery=\"' + ultibox_curr_margs.biggallery + '\"]').length;\n    }\n\n    if (tempNr < 0) {\n      tempNr = gal_nr_items - 1;\n    }\n\n\n    goto_gallery_item(tempNr);\n\n    return false;\n  }\n\n  function goto_gallery_item_next() {\n    var tempNr = currNr_gal;\n    tempNr++;\n\n\n    var gal_nr_items = 0;\n\n    if (_galleryItemsCon.length) {\n      gal_nr_items = _galleryItemsCon.children().length;\n    } else {\n      gal_nr_items = $('*[data-biggallery=\"' + ultibox_curr_margs.biggallery + '\"]').length;\n    }\n\n\n    if (tempNr >= gal_nr_items) {\n      tempNr = 0;\n    }\n\n\n    goto_gallery_item(tempNr);\n\n\n    return false;\n  }\n\n\n  function goto_gallery_item(arg) {\n\n    var _c = null;\n    var gallery_selection_mode = 'gallery-items';\n\n\n    if (_galleryItemsCon.length && _galleryItemsCon.children().length) {\n\n\n      _c = _galleryItemsCon.children().eq(arg);\n\n      gallery_selection_mode = 'gallery-items';\n    } else {\n\n\n      _c = $('*[data-biggallery=\"' + ultibox_curr_margs.biggallery + '\"]').eq(arg);\n\n      gallery_selection_mode = 'this is the item';\n    }\n\n\n    if (_c) {\n\n    }\n\n\n    if (currNr_gal > -1) {\n      if (arg < currNr_gal) {\n\n        _maincon.addClass('gallery-direction-reverse');\n      }\n\n      if (arg === currNr_gal) {\n        return false;\n      }\n    }\n\n\n    // -- if we have _c parent-item property\n    if (_c) {\n\n      window.ultibox_countdown = false;\n\n      if (gallery_selection_mode === 'gallery-items') {\n\n        if (_c.data('parent-item')) {\n          open_ultibox(_c.data('parent-item'), {\n            'call_from': 'gallery_item'\n          })\n        }\n\n\n      }\n\n      if (gallery_selection_mode === 'this is the item') {\n\n\n        open_ultibox(_c, {\n          'call_from': 'gallery_item'\n        })\n\n\n      }\n\n      currNr_gal = arg;\n\n\n      restore_target_div();\n\n\n      if (_galleryItemsCon) {\n\n        _galleryItemsCon.children().removeClass('active');\n        setTimeout(function () {\n          _galleryItemsCon.children().eq(currNr_gal).addClass('active');\n        }, 100)\n      }\n\n    }\n\n  }\n\n\n  window.ultibox_reset_cooldown = function () {\n\n  }\n  /**\n   * main open ultibox\n   * @param _arg\n   * @param pargs\n   * @returns {boolean}\n   */\n  window.open_ultibox = function (_arg, pargs) {\n\n\n    var margs = {\n\n      type: 'detect'\n      , video_type: 'detect'\n      , audio_type: 'detect'\n      , audio_thumb: ''\n      , source: ''\n      , max_width: 'default' // -- this is useful for under description feed and is mandatory actually\n      , under_description: '' // -- this is the under description\n      , right_description: '' // -- this is the under description\n      , scaling: 'proportional' // -- this is the under description\n      , inline_content_move: 'off'\n      , suggested_width: ''\n      , suggested_height: ''\n      , box_bg: ''\n      , biggallery: ''\n      , call_from: 'default'\n      , forcenodeeplink: 'off'\n      , _targetDiv: null\n      , item: null // -- we can pass the items from here too\n\n    };\n\n\n    if (pargs) {\n      margs = $.extend(margs, pargs);\n    }\n\n\n    if (window.ultibox_countdown) {\n      return false;\n\n    }\n    window.ultibox_countdown = true;\n    setTimeout(function () {\n      window.ultibox_reset_cooldown();\n    }, 100);\n\n\n    let suggestedMediaType = 'image';\n    if (_arg) {\n\n\n      if (_arg.attr('data-source')) {\n        margs.source = _arg.attr('data-source');\n      } else {\n        if (_arg.attr('data-src')) {\n          margs.source = _arg.attr('data-src');\n        } else {\n          if (_arg.attr('data-sourcevp')) {\n            // -- if it's video we might be looking for data-sourcevp\n            margs.source = _arg.attr('data-sourcevp');\n            suggestedMediaType = 'video';\n          } else {\n            if (_arg.attr('href')) {\n              margs.source = _arg.attr('href');\n              suggestedMediaType = 'iframe';\n            }\n          }\n        }\n      }\n      if (_arg.attr('data-type')) {\n        margs.type = _arg.attr('data-type');\n\n\n        if (margs.type === 'vimeo') {\n          margs.type = 'video';\n          margs.video_type = 'vimeo';\n        }\n        if (margs.type === 'youtube') {\n          margs.type = 'video';\n          margs.video_type = 'youtube';\n        }\n      } else {\n        margs.type = ultiboxHelpers.detect_ultibox_media_type(margs.source, suggestedMediaType);\n      }\n\n      if (_arg.attr('data-scaling')) {\n        margs.scaling = _arg.attr('data-scaling');\n      }\n      if (_arg.attr('data-box-bg')) {\n        margs.box_bg = _arg.attr('data-box-bg');\n      }\n      if (_arg.attr('data-audio-thumb')) {\n        margs.audio_thumb = _arg.attr('data-audio-thumb');\n      }\n      if (_arg.attr('data-inline-move')) {\n        margs.inline_content_move = _arg.attr('data-inline-move');\n      }\n\n      if (_arg.next().hasClass('feed-ultibox-desc') || _arg.children().hasClass('feed-ultibox-desc')) {\n\n        var _c = null;\n        if (_arg.next().hasClass('feed-ultibox-desc')) {\n          _c = _arg.next();\n        }\n        if (_arg.children('.feed-ultibox-desc').length) {\n          _c = _arg.children('.feed-ultibox-desc').eq(0);\n        }\n\n        margs.under_description = _c.html();\n      }\n\n\n      if (_arg.attr('data-suggested-width')) {\n        margs.suggested_width = (_arg.attr('data-suggested-width'));\n      }\n      if (_arg.attr('data-force-nodeeplink')) {\n        margs.forcenodeeplink = (_arg.attr('data-force-nodeeplink'));\n      }\n      if (_arg.attr('data-suggested-height')) {\n        margs.suggested_height = (_arg.attr('data-suggested-height'));\n      }\n\n      if (typeof _arg != 'string') {\n        margs.item = _arg;\n      }\n\n\n      if (_arg.attr('data-biggallery')) {\n        margs.biggallery = _arg.attr('data-biggallery');\n      }\n    }\n\n\n    if (margs.type === 'video') {\n      if (margs.video_type === 'detect') {\n\n\n        if (margs.item && margs.item.attr('data-video-type')) {\n          margs.video_type = margs.item.attr('data-video-type');\n        }\n      }\n\n      if (margs.video_type === 'detect') {\n        if (margs.source.indexOf('youtube.com/') > -1) {\n\n\n          margs.video_type = 'youtube';\n\n          margs.source = get_query_arg(margs.source, 'v');\n\n\n        }\n      }\n      if (margs.video_type === 'detect') {\n\n        margs.video_type = 'video';\n      }\n\n    }\n\n    if (margs.type === 'audio') {\n\n      if (margs.audio_type === 'detect') {\n\n        margs.audio_type = 'audio';\n      }\n\n    }\n\n    if (margs.type === 'inlinecontent') {\n      margs._targetDiv = $(margs.source).eq(0);\n\n    }\n\n\n    if (margs.under_description) {\n      if (margs.max_width === 'default') {\n        margs.max_width = 400;\n      }\n    }\n\n\n    if (margs.biggallery) {\n    }\n\n\n    ultibox_curr_margs = $.extend({}, margs);\n\n\n    _maincon.removeClass('disabled');\n    _html.addClass('ultibox-opened');\n\n\n    setTimeout(function () {\n\n      _maincon.addClass('loading-item');\n\n\n      if (margs.type === 'image') {\n\n\n        var newImg = new Image;\n        newImg.onload = function () {\n\n\n          media_w = this.naturalWidth;\n          media_h = this.naturalHeight;\n\n\n          setup_media(margs);\n\n\n        };\n        newImg.src = margs.source;\n      }\n\n      if (margs.type === 'video') {\n\n\n        media_w = 800;\n        media_h = 454;\n\n        if (margs.video_type === 'video' || margs.video_type === 'youtube' || margs.video_type === 'vimeo') {\n          if ($.fn.vPlayer) {\n\n            setup_media(margs);\n          } else {\n\n            console.warn(\"You need videogallery embedded\");\n            close_ultibox();\n          }\n        }\n\n      }\n\n      if (margs.type === 'audio') {\n\n\n        media_w = 800;\n        media_h = 'auto';\n\n        if (margs.audio_type === 'audio') {\n          if ($.fn.audioplayer) {\n\n            setup_media(margs);\n          } else {\n\n            console.warn(\"You need zoomsounds embedded\");\n            close_ultibox();\n          }\n        }\n\n      }\n\n      if (margs.type === 'iframe') {\n\n\n        media_w = 800;\n        media_h = 600;\n\n        setup_media(margs);\n      }\n\n      if (margs.type === 'inlinecontent') {\n\n\n        media_w = 800;\n        media_h = 'auto';\n\n        setup_media(margs);\n      }\n    }, 100);\n\n\n    if (ultibox_options.settings_deeplinking === 'on' && can_history_api() === true && margs.forcenodeeplink !== 'on') {\n\n\n      $ultibox_items_arr = $('.ultibox-item,.ultibox-item-delegated')\n      if (margs.item && margs.item.attr('data-ultibox-sort')) {\n\n      }\n\n      var ind = $ultibox_items_arr.index(margs.item);\n      if (typeof ($(margs.item).attr('id')) != 'undefined') {\n\n\n        var aux = encodeURIComponent($(margs.item).attr('id'));\n        aux = aux.replace(/%/g, \"8767\");\n        ind = aux;\n      }\n\n\n      theurl = window.location.href;\n      var newurl = add_query_arg(theurl, 'ultibox', ind);\n      if (newurl.indexOf(' ') > -1) {\n        newurl = newurl.replace(' ', '%20');\n      }\n      theurl = newurl;\n      history.pushState({}, \"\", newurl);\n    }\n  }\n\n\n  function setup_media(margs) {\n    // -- appends the item to the DOM but does not necesarrly append the loaded event , that is appended only when the media is ( allegedly )\n\n\n    if (margs.suggested_width) {\n      if (isNaN(Number(margs.suggested_width)) === false) {\n\n        media_w = Number(margs.suggested_width);\n      } else {\n        media_w = margs.suggested_width;\n      }\n    }\n    if (margs.suggested_height) {\n      if (isNaN(Number(margs.suggested_height)) === false) {\n\n        media_h = Number(margs.suggested_height);\n      } else {\n        media_h = margs.suggested_height;\n      }\n    }\n\n\n    if (isNaN(Number(margs.suggested_height)) === false) {\n      media_ratio_w_h = media_w / media_h;\n    } else {\n      media_ratio_w_h = 1;\n    }\n    scaling = margs.scaling;\n\n\n    var structureBoxMain = '';\n\n\n    if (margs.call_from == 'gallery_item') {\n      _boxMain.addClass('gallery-transitioning-out');\n    } else {\n      if (_boxMain) {\n\n        _boxMain.addClass('transitioning-out');\n      }\n    }\n\n    structureBoxMain += '<div class=\"box-main type-' + margs.type;\n\n    if (margs.call_from == 'gallery_item') {\n      structureBoxMain += ' gallery-preparing-transitioning-in';\n\n      setTimeout(function () {\n        _boxMain.addClass('gallery-transitioning-in')\n      }, 10)\n      setTimeout(function () {\n        _maincon.find('.box-main.gallery-transitioning-out').remove();\n        _boxMain.removeClass('gallery-transitioning-in')\n        _boxMain.removeClass('gallery-preparing-transitioning-in')\n        _maincon.removeClass('gallery-direction-reverse')\n      }, 500)\n\n\n    }\n\n\n    structureBoxMain += '\">';\n\n\n    structureBoxMain += '<div class=\"box-main-media-con transition-target\">';\n\n\n    structureBoxMain += '<div class=\"close-btn-con\"> ' + svg_close_btn + '</div>';\n\n    structureBoxMain += '<div class=\"box-main-media type-' + margs.type + '\" style=\"';\n\n    if (margs.box_bg) {\n      structureBoxMain += 'background-color: ' + margs.box_bg + ';';\n    }\n\n    structureBoxMain += '\"></div><div class=\"box-main-under\"></div>';\n\n\n    if (ultibox_options.settings_enable_arrows === 'on') {\n      structureBoxMain += '<div class=\"ultibox-gallery-arrow ultibox-gallery-arrow--left\">' + svg_right_arrow + '</div>';\n      structureBoxMain += '<div class=\"ultibox-gallery-arrow ultibox-gallery-arrow--right\">' + svg_right_arrow + '</div>';\n\n\n    }\n\n\n    structureBoxMain += '</div></div>';\n\n    _boxMainsCon.append(structureBoxMain);\n\n\n    _boxMain = _maincon.find('.box-main:not(.gallery-transitioning-out)').eq(0);\n    _boxMainMediaCon = _boxMain.find('.box-main-media-con').eq(0);\n    _boxMainMedia = _boxMain.find('.box-main-media').eq(0);\n    _boxMainUnder = _boxMain.find('.box-main-under').eq(0);\n\n\n    if (margs.type === 'image') {\n      _boxMainMedia.append('<div class=\"imagediv real-media\" style=\"background-image: url(' + margs.source + ') \"></div>');\n      setTimeout(function () {\n\n        media_ready(margs);\n      }, 50);\n\n    }\n\n    if (margs.type === 'video') {\n\n\n      if (ultibox_options.videoplayer_settings.settings_youtube_usecustomskin === 'off' && (margs.video_type === 'youtube' || margs.video_type === 'vimeo')) {\n\n\n        if (margs.video_type === 'youtube') {\n          _boxMainMedia.append('<iframe class=\"real-media\" width=\"100%\" height=\"100%\" src=\"https://www.youtube.com/embed/' + margs.source + '\" frameborder=\"0\" allowfullscreen allow=\"fullscreen\"></iframe>');\n        }\n        if (margs.video_type === 'vimeo') {\n          _boxMainMedia.append('<iframe src=\"https://player.vimeo.com/video/' + margs.source + '\" width=\"100%\" height=\"100%\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen allow=\"fullscreen\"></iframe>');\n        }\n\n\n      } else {\n        if (margs.video_type === 'video' || margs.video_type === 'youtube' || margs.video_type === 'vimeo') {\n          if ($.fn.vPlayer) {\n\n\n            var video_title = '';\n\n            if (margs.item && margs.item.attr('data-videotitle')) {\n              video_title = margs.item.attr('data-videotitle');\n            }\n\n\n            var aux_str_videoplayer = '<div class=\"vplayer-tobe auto-init   real-media \" data-videoTitle=\"' + video_title + '\"  data-src=\"' + margs.source + '\"';\n\n\n            aux_str_videoplayer += ' data-type=\"' + margs.video_type + '\"'\n\n            aux_str_videoplayer += '></div>';\n\n            _boxMainMedia.append(aux_str_videoplayer);\n\n\n            var args = {\n              'autoplay': 'off'\n              , 'cue': 'on'\n            };\n\n            if (ultibox_options.videoplayer_settings) {\n              args = $.extend(args, ultibox_options.videoplayer_settings);\n            }\n\n            var autoplay_it = args.autoplay;\n\n\n            if (margs.item && margs.item.attr('data-player-id')) {\n              _boxMainMedia.find('.real-media').eq(0).attr('data-player-id', margs.item.attr('data-player-id'));\n            }\n\n\n            window.dzsvp_init(_boxMainMedia.find('.real-media').eq(0), args);\n\n\n          }\n        }\n\n      }\n\n\n      setTimeout(function () {\n\n        _maincon.addClass('loaded-item');\n      }, 50);\n\n\n    }\n\n\n    if (margs.type === 'audio') {\n\n      if (margs.audio_type === 'youtube') {\n        _boxMainMedia.append('<iframe class=\"real-media\" width=\"100%\" height=\"100%\" src=\"https://www.youtube.com/embed/' + margs.source + '\" frameborder=\"0\" allowfullscreen></iframe>');\n      }\n\n\n      if (margs.audio_type === 'audio') {\n        if ($.fn.audioplayer) {\n\n          var structAudioPlayer = '<div class=\"audioplayer-tobe skin-wave real-media  button-aspect-noir button-aspect-noir--filled \"   data-source=\"' + margs.source + '\" ';\n\n\n          if (margs.audio_thumb) {\n            structAudioPlayer += ' data-thumb=\"' + margs.audio_thumb + '\"'\n          }\n\n          structAudioPlayer += '></div>';\n\n\n          _boxMainMedia.append(structAudioPlayer);\n\n\n          var argsApSettings = $.extend({\n            'autoplay': 'off'\n            , 'cue': 'on'\n            , skinwave_mode: 'small'\n          }, ultibox_options.audioplayer_settings);\n\n          _boxMainMedia.find('.real-media').eq(0).audioplayer(argsApSettings);\n\n          setTimeout(function () {\n            _boxMainRealMedia.get(0).api_play_media();\n          }, 300)\n        }\n      }\n\n\n      setTimeout(function () {\n\n        media_ready(margs);\n      }, 50);\n\n\n    }\n    if (margs.type === 'iframe') {\n      _boxMainMedia.append('<div class=\" real-media\" style=\"\"><iframe class=\"ultibox--real-media--iframe\" src=\"' + margs.source + '\" style=\"\" width=\"100%\" height=\"100%\"></iframe></div>');\n\n      setTimeout(function () {\n        media_ready(margs);\n\n      }, 1500);\n\n\n    }\n    if (margs.type === 'inlinecontent') {\n\n\n      _boxMainMedia.append('<div class=\" real-media\" style=\"\"></div>');\n\n\n      _inline_content_orig_prev = null;\n      _inline_content_orig_parent = null;\n\n\n      if (margs.inline_content_move === 'on') {\n\n        if (margs._targetDiv.prev().length > 0) {\n          _inline_content_orig_prev = margs._targetDiv.prev();\n        } else {\n\n          _inline_content_orig_parent = margs._targetDiv.parent();\n        }\n      }\n\n\n      if (margs.inline_content_move === 'on') {\n        _boxMainMedia.find('.real-media').append(margs._targetDiv);\n      } else {\n        _boxMainMedia.find('.real-media').append(margs._targetDiv.clone());\n      }\n\n\n      if (margs._targetDiv.hasClass('cancel-inlinecontent-padding')) {\n        _boxMainMedia.addClass('cancel-inlinecontent-padding');\n      } else {\n        _boxMainMedia.removeClass('cancel-inlinecontent-padding');\n      }\n\n\n      if (_boxMainMedia.find('.auto-init-from-ultibox').length) {\n\n\n        if (window.dzsvg_init) {\n          _boxMainMedia.find('.videogallery.auto-init-from-ultibox:not(.inited)').each(function () {\n            var _t2 = $(this);\n\n            dzsvg_init(_t2, {\n              init_each: true,\n            });\n          })\n        }\n      }\n\n\n      _boxMainMedia.find('.toexecute, .to-execute--from-ultibox').each(function () {\n        var _t2 = $(this);\n        if (_t2.hasClass('executed') === false) {\n          eval(_t2.text());\n          _t2.addClass('executed');\n        }\n      });\n\n      setTimeout(function () {\n\n        media_ready(margs);\n      }, 200);\n\n      // -- we leave 1500 ms time to load any iframe\n\n    }\n    _boxMainRealMedia = _boxMainMedia.find('.real-media').eq(0);\n\n\n    if (margs.under_description) {\n\n\n      _boxMainUnder.append(margs.under_description);\n      _boxMainMedia.width('100%');\n      media_has_under_description = true;\n      _boxMain.addClass('with-description');\n    } else {\n\n      media_has_under_description = false;\n\n    }\n\n\n    if (margs.biggallery) {\n\n      if (margs.biggallery !== gallery_setup) {\n\n\n        if (ultibox_options.nav_mode !== 'none') {\n\n          _maincon.addClass('has-gallery');\n        }\n\n\n        var i5 = 0;\n        $('*[data-biggallery=\"' + margs.biggallery + '\"]').each(function () {\n          var _t = $(this);\n\n\n          // -- we check if\n          if (margs.item && margs.item.get && margs.item.get(0)) {\n            if (margs.item.get(0) === _t.get(0)) {\n\n              currNr_gal = i5;\n            }\n          }\n\n\n          var thumb_src = '';\n\n\n          if (_t.attr('data-thumb-for-gallery')) {\n            thumb_src = _t.attr('data-thumb-for-gallery');\n          } else {\n            if (_t.attr('data-source')) {\n              thumb_src = _t.attr('data-source');\n            }\n            if (_t.get(0) && _t.get(0).nodeName === \"IMG\") {\n\n              thumb_src = _t.attr('src');\n            }\n          }\n\n\n          if (thumb_src) {\n\n            var aux = '<div class=\"gallery-thumb\"><div class=\"gallery-thumb--image\" style=\"background-image: url(' + thumb_src + ');\"></div><div class=\"gallery-thumb--icon\">';\n\n\n            if (_t.attr('data-type') === 'video' || _t.attr('data-type') === 'audio') {\n\n              aux += svg_play;\n            }\n\n            aux += '</div></div>';\n\n\n            _galleryItemsCon.append(aux);\n\n\n            _galleryItemsCon.children().last().data('parent-item', _t);\n          }\n\n          i5++;\n\n        });\n\n        // -- end for\n\n        gallery_setup = margs.biggallery;\n\n\n        setTimeout(function () {\n          _galleryClipCon.addClass('gallery-loaded');\n\n          _galleryItemsCon.children().eq(currNr_gal).addClass('active');\n        }, 100)\n\n      } else {\n\n        _galleryClipCon.addClass('gallery-loaded');\n      }\n    } else {\n\n      _maincon.removeClass('has-gallery');\n      _galleryClipCon.removeClass('gallery-loaded');\n      gallery_setup = '';\n    }\n\n\n    if (margs.max_width) {\n      opts_max_width = margs.max_width;\n    } else {\n      opts_max_width = 0;\n    }\n\n    handle_resize(null, {\n      call_calculate_dims_light: false\n    })\n    calculate_dims_light({\n      'call_from': \"setup_media\"\n      , 'calculate_main_con': true\n\n    })\n\n    lastargs = margs;\n\n\n    if (func_callback) {\n      func_callback(margs);\n    }\n\n\n    // -- just want to cancel the default click behaviour on links\n\n\n  }\n\n  function media_ready(margs) {\n\n    _maincon.addClass('loaded-item');\n\n\n    if (margs.type === 'inlinecontent') {\n\n\n      if (_boxMainMedia.find('.contentscroller').length) {\n        _boxMainMedia.find('.contentscroller').each(function () {\n          var $t2 = $(this);\n\n\n          if ($t2.get(0).api_handleResize) {\n\n            $t2.get(0).api_handleResize();\n          }\n        })\n      }\n\n\n      if (_boxMainMedia.find('.videogallery').length) {\n        _boxMainMedia.find('.videogallery').each(function () {\n          var $t2 = $(this);\n\n\n          if ($t2.get(0).api_handleResize) {\n            $t2.get(0).api_handleResize(null, {\n              force_resize_gallery: true\n            })\n          }\n        })\n      }\n\n      if (_boxMainMedia.find('.ultibox-close-btn').length) {\n        _boxMain.find('.close-btn-con').fadeOut('fast');\n      } else {\n\n        _boxMain.find('.close-btn-con').fadeIn('fast');\n      }\n\n\n      setTimeout(function () {\n\n        calculate_dims_light();\n      }, 500);\n    }\n  }\n\n\n  function restore_target_div() {\n\n\n    if (lastargs && lastargs.inline_content_move === 'on') {\n\n      _inline_content_orig_prev_last = _inline_content_orig_prev;\n      _inline_content_orig_parent_last = _inline_content_orig_parent;\n\n\n      lastlastargs = $.extend({}, lastargs);\n\n\n      setTimeout(function () {\n\n\n        if (_inline_content_orig_prev_last) {\n\n          _inline_content_orig_prev_last.after(lastlastargs._targetDiv);\n\n        }\n        if (_inline_content_orig_parent_last) {\n\n          _inline_content_orig_parent_last.prepend(lastlastargs._targetDiv);\n\n        }\n\n\n        // -- TODO: maybe resize content scroller\n\n\n      }, 300)\n    }\n\n  }\n\n\n  function close_ultibox() {\n\n\n    if (_maincon.find('.show-only-in-ultibox').length === 0) {\n      _maincon.removeClass('loading-item');\n    }\n\n    _maincon.removeClass('loaded-item');\n    _html.removeClass('ultibox-opened');\n    _galleryClipCon.removeClass('gallery-loaded');\n\n\n    if (_maincon.find('.show-only-in-ultibox').length) {\n      setTimeout(function () {\n        _maincon.removeClass('loading-item');\n      }, 500);\n    }\n    _maincon.addClass('closing-ultibox');\n\n\n    // -- leave it a bit so we can make sure that the hiding for show-only-in-ultibox is not instant\n    setTimeout(function () {\n      _maincon.removeClass('loading-item');\n      _maincon.removeClass('closing-ultibox');\n    }, 500);\n\n    restore_target_div();\n\n\n    if (ultibox_options.settings_deeplinking == 'on' && can_history_api() == true) {\n      var newurl = add_query_arg(theurl, 'ultibox', \"NaN\");\n      theurl = newurl;\n      history.pushState({}, \"\", newurl);\n    }\n\n    setTimeout(function () {\n\n      _maincon.addClass('disabled');\n\n      if (_boxMainRealMedia) {\n\n        _boxMainRealMedia.remove();\n      }\n\n      if (_boxMainUnder) {\n\n        _boxMainUnder.html('');\n      }\n\n      _boxMainsCon.html('');\n\n\n      window.ultibox_countdown = false;\n    }, 300);\n  }\n\n  function handle_resize(e, pargs) {\n\n\n    var margs = {\n      'call_from': 'default'\n      , 'call_calculate_dims_light': true\n    };\n\n    if (pargs) {\n      margs = $.extend(margs, pargs);\n    }\n\n\n    ww = $(window).width();\n    wh = window.innerHeight;\n\n    bmc_w = _boxMainsCon.width();\n    bmc_h = _boxMainsCon.height();\n\n\n    if (margs.call_calculate_dims_light) {\n\n      if (inter_calculate_dims_light) {\n        clearTimeout(inter_calculate_dims_light);\n      }\n      inter_calculate_dims_light = setTimeout(calculate_dims_light, 100);\n    }\n\n    if (_boxMainMedia && _boxMainMedia.hasClass('type-inlinecontent')) {\n\n\n    }\n\n  }\n\n\n  function calculate_dims_light(pargs) {\n\n\n    var margs = {\n      'call_from': 'default'\n      , 'calculate_main_con': true\n    };\n\n    if (pargs) {\n      margs = $.extend(margs, pargs);\n    }\n\n\n    if (margs.calculate_main_con) {\n\n\n      media_finalw = media_w;\n      media_finalh = media_h;\n\n      if (opts_max_width) {\n        if (media_finalw > opts_max_width) {\n          media_finalw = opts_max_width;\n\n          if (scaling !== 'fill') {\n\n            media_finalh = media_finalw / media_ratio_w_h;\n          }\n\n\n        }\n\n\n      }\n\n\n      if (media_finalw > bmc_w - padding_hor) {\n        media_finalw = bmc_w - padding_hor;\n        if (scaling !== 'fill') {\n          media_finalh = media_finalw / media_ratio_w_h;\n        }\n      }\n      if (media_finalh > bmc_h - padding_ver) {\n\n        media_finalh = bmc_h - padding_ver;\n        if (scaling !== 'fill') {\n          media_finalw = media_finalh * media_ratio_w_h;\n        }\n\n      }\n\n\n      if (opts_max_width) {\n        if (media_has_under_description) {\n          _boxMainMediaCon.width(media_finalw);\n        }\n      }\n\n      if (_boxMainMedia) {\n\n        if (media_has_under_description) {\n          _boxMainMedia.width('100%');\n        } else {\n\n          _boxMainMedia.width(media_finalw);\n        }\n\n        setTimeout(function () {\n\n\n        }, 5000);\n\n        _boxMainMedia.height(media_finalh);\n\n\n        _boxMain.css({\n          'max-height': 'none'\n          , 'height': 'auto'\n        })\n        if (_boxMain) {\n\n\n          setTimeout(function () {\n\n            if (_boxMain.outerHeight() > _boxMain.parent().outerHeight()) { // 0 = padding\n\n\n              _boxMain.addClass('scroll-mode');\n\n              if (offset_v !== 30) {\n                _boxMain.css('top', offset_v);\n              }\n\n            } else {\n\n              _boxMain.removeClass('scroll-mode');\n              _boxMain.css({\n                'top': ''\n              })\n            }\n            _boxMain.css({\n              'max-height': ''\n              , 'height': ''\n            })\n          }, 100)\n        }\n        if (_galleryItemsCon) {\n\n\n          if (_galleryItemsCon.outerWidth() > ww - 0) { // 0 = padding\n\n\n            _galleryItemsCon.addClass('scroll-mode');\n\n          } else {\n\n            _galleryItemsCon.removeClass('scroll-mode');\n            _galleryItemsCon.css({\n              'left': ''\n            })\n          }\n          _galleryItemsCon.css({\n            'max-height': ''\n            , 'height': ''\n          })\n        }\n      }\n\n\n    }\n\n\n  }\n\n\n  // -- item\n\n\n  $.fn.dzsulb = function (o) {\n\n    //==default options\n    var defaults = {\n      settings_slideshowTime: '5' //in seconds\n      , settings_enable_linking: 'off' // enable deeplinking on tabs\n      , settings_contentHeight: '0'//set the fixed tab height\n      , settings_scroll_to_start: 'off'//scroll to start when a tab menu is clicked\n      , settings_startTab: 'default'// -- the start tab, default or a fixed number\n      , design_skin: 'skin-default' // -- skin-default, skin-boxed, skin-melbourne or skin-blue\n      , design_transition: 'default' // default, fade or slide\n      , design_tabsposition: 'top' // -- set top, right, bottom or left\n      , design_tabswidth: 'default' // -- set the tabs width for position left or right, if tabs position top or bottom and this is set to fullwidth, then the tabs will cover all the width\n      , design_maxwidth: '4000'\n      , settings_makeFunctional: false\n      , settings_appendWholeContent: false // -- take the whole tab content and append it into the dzs tabs, this makes complex scripts like sliders still work inside of tabs\n      , toggle_breakpoint: '320' //  -- a number at which bellow the tabs will trasform to toggles\n      , toggle_type: 'accordion' // -- normally, the  toggles act like accordions, but they can act like traditional toggles if this is set to toggle\n      , refresh_tab_height: '0' // -- normally, the  toggles act like accordions, but they can act like traditional toggles if this is set to toggle\n      , outer_menu: null // -- normally, the  toggles act like accordions, but they can act like traditional toggles if this is set to toggle\n      , action_gotoItem: null // -- set a external javascript action that happens when a item is selected\n      , vc_editable: false // -- add some extra classes for the visual composer frontend edit\n\n    };\n\n\n    if (typeof o == 'undefined') {\n      if (typeof $(this).attr('data-options') != 'undefined' && $(this).attr('data-options') != '') {\n        var aux = $(this).attr('data-options');\n        aux = 'window.dzstaa_self_options = ' + aux;\n        eval(aux);\n        o = $.extend({}, window.dzstaa_self_options);\n        window.dzstaa_self_options = $.extend({}, {});\n      }\n    }\n    o = $.extend(defaults, o);\n    this.each(function () {\n      var cthis = $(this)\n\n      ;\n\n\n      if (isNaN(Number(o.settings_startTab)) === false) {\n        o.settings_startTab = parseInt(o.settings_startTab, 10);\n      }\n\n      if (can_history_api() === false) {\n        o.settings_enable_linking = 'off';\n      }\n\n      o.toggle_breakpoint = parseInt(o.toggle_breakpoint, 10);\n\n\n      if (window.dzsulb_inited === false) {\n        dzsulb_init();\n      }\n\n\n      // -- item\n\n\n      init();\n\n      // -- init item !\n      function init() {\n\n\n        if (cthis.attr('data-source')) {\n\n        } else {\n          if (cthis.attr('href')) {\n            cthis.attr('data-source', cthis.attr('href'));\n          }\n        }\n\n        var src = cthis.attr('data-source');\n        if (!(cthis.attr('data-type')) || cthis.attr('data-type') === 'detect') {\n\n\n          cthis.attr('data-type', ultiboxHelpers.detect_ultibox_media_type(src));\n\n        } else {\n\n        }\n\n\n        cthis.off('click', handle_mouse_item);\n        cthis.on('click', handle_mouse_item);\n\n      }\n\n\n      return this;\n    })\n  }\n  window.dzsulb_init = function (selector, settings) {\n    if (typeof (settings) != \"undefined\" && typeof (settings.init_each) != \"undefined\" && settings.init_each === true) {\n      var element_count = 0;\n      for (var e in settings) {\n        element_count++;\n      }\n      if (element_count == 1) {\n        settings = undefined;\n      }\n\n      $(selector).each(function () {\n        var _t = $(this);\n        _t.dzsulb(settings)\n      });\n    } else {\n      $(selector).dzsulb(settings);\n    }\n\n\n    if (get_query_arg(window.location.href, 'ultibox') || get_query_arg(window.location.href, 'ultibox') === '0') {\n\n      $(window).scrollTop(0);\n    }\n\n\n  };\n})(jQuery);\n\n\nfunction can_history_api() {\n  return !!(window.history && history.pushState);\n}\n\n\njQuery(document).ready(function ($) {\n\n  dzsulb_init('.ultibox-item', {init_each: true});\n\n  window.dzsulb_main_init();\n\n\n  $(document).off('click', '.ultibox-item-delegated');\n  $(document).on('click', '.ultibox-item-delegated', function (e) {\n    window.open_ultibox($(this));\n\n    e.stopPropagation();\n    e.preventDefault();\n    return false;\n  });\n\n\n});"]}