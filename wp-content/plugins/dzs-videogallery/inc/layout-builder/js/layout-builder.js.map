{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////Users/raduh/Dropbox/hosts/videogallery/wp/wp-content/plugins/dzs-videogallery/inc/layout-builder/js/js_common/_helpers.js","webpack:////Users/raduh/Dropbox/hosts/videogallery/wp/wp-content/plugins/dzs-videogallery/inc/layout-builder/js/js_common/_esjquery.js","webpack:////Users/raduh/Dropbox/hosts/videogallery/wp/wp-content/plugins/dzs-videogallery/inc/layout-builder/js/layout-builder.sourcepack.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","getHtmlAttributeWithRegex","attributeLabel","htmlInput","result","regexString","console","log","aux","RegExp","exec","$es","arg","esJquery","selector","this","$el","document","querySelector","$els","querySelectorAll","isNodeList","forEach","_el","push","callbackFn","$el_","index","el","style","display","cln","cloneNode","parentNode","appendChild","attrArgs","arguments","length","el3","classList","add","remove","html","_tempKid","createElement","insertBefore","firstChild","outerHTML","err","textContent","innerHTML","evt","sel","handler","addEventListener","event","target","matches","contains","getAttribute","setAttribute","childNodes","field","form","query","nodeName","elements","type","j","options","selected","encodeURIComponent","replace","checked","substr","nodes","stringRepr","toString","test","nodeType","window","es_ajax","pargs","margs","assign","xhr","XMLHttpRequest","open","url","form_data","FormData","data","append","send","e","status","success","get_query_arg","purl","indexOf","regtest","add_query_arg","pair","addition","regex_attr","String","insert_at","string","LayoutBuilder","classInit","$theForm_","$layoutBuilderLayers_","$theOutput_","getElementById","handleReorder","mapJsonStructureToInputs","each","attr","find","$elInput","jsonStructure","items","JSON","stringify","mapBuilderItemToHtml","builderItemString","builderItemArgs","builderItemHtml","regexItemsResultsAux","matchAll","regexItemsResults","Array","from","regexItemsResult","regexItemsResultHtml","defaultValue","lbKey","setValue","setTimeout","jQuery","nestable","expandBtnHTML","collapseBtnHTML","action_drag_stop","ev","foutObj","assignToFinalObject","foutItems","targetIndex","targetJsonObj","$inputForm_","theValue","jsonObj","parse","thisVal","firstKey","keys","jsonKey","serializeFormToJson","ajaxurl","layout_builder_settings","ajaxActionName","location","href","preventDefault","on","$t","hasClass","layoutBuilderStructure","builder_item","val","initialFeed","initialFeedObj","item","mapInitialConfigToItems"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,I,yCClF9C,MAAMC,EAA4B,CAACC,EAAgBC,KAExD,IAAIC,EAAS,KAETC,EAAcH,EAAe,mBACjCI,QAAQC,MACR,IAAIC,EAAM,IAAKC,OAAOJ,GAAcK,KAAKP,GAKzC,OAHGK,GAAKA,EAAI,KACVJ,EAASI,EAAI,IAERJ,GCJIO,EAAOC,IAKlB,IAAIC,EAAW,MACb,YAAYC,GAGa,iBAAZA,GAETC,KAAKC,IAAMC,SAASC,cAAcJ,GAClCC,KAAKI,KAAOF,SAASG,iBAAiBN,KAGtCC,KAAKC,IAAMF,EAERO,EAAWP,KACZC,KAAKC,IAAMF,EAAS,IAEtBC,KAAKI,KAAO,GAETE,EAAWP,GAEZA,EAASQ,QAASC,IAEhBR,KAAKI,KAAKK,KAAKD,KAIjBR,KAAKI,KAAKK,KAAKT,KAAKC,MAO1B,KAAKS,GACHV,KAAKI,KAAKG,SAAQ,SAAUI,EAAMC,GAChCF,EAAW,IAAIZ,EAASa,GAAOC,MAInC,OAEEZ,KAAKI,KAAKG,SAAQ,SAAUM,GAC1BA,EAAGC,MAAMC,QAAU,UAIvB,QAEExB,QAAQC,IAAI,QAASQ,KAAKC,KAE1B,MAAMe,EAAMhB,KAAKC,IAAIgB,WAAU,GAE/B,OADAjB,KAAKC,IAAIiB,WAAWC,YAAYH,GACzBA,EAET,OAEEhB,KAAKI,KAAKG,SAAQ,SAAUM,GAC1BA,EAAGC,MAAMC,QAAU,MAKvB,IAAIlB,GAGF,MAAMuB,EAAWC,UACjB,OAAuB,GAAnBD,EAASE,OAEJtB,KAAKC,IAAI9B,OAEK,GAAnBiD,EAASE,QAEXtB,KAAKI,KAAKG,SAAQ,SAAUgB,GAC1BA,EAAIpD,MAAQ,KAIT6B,MAGT,SAASH,GASP,OAHAG,KAAKI,KAAKG,SAAQ,SAAUgB,GAC1BA,EAAIC,UAAUC,IAAI5B,MAEbG,KAGT,YAAYH,GASV,OAHAG,KAAKI,KAAKG,SAAQ,SAAUgB,GAC1BA,EAAIC,UAAUE,OAAO7B,MAEhBG,KAET,QAAQ2B,GACN,GAAmB,iBAARA,EAAkB,CAE3B,MAAMC,EAAW1B,SAAS2B,cAAc,OAIxC7B,KAAKI,KAAKG,SAAQ,SAAUM,GAC1B,IAEEA,EAAGM,YAAYS,GACff,EAAGiB,aAAaF,EAAUf,EAAGkB,YAC7BH,EAASI,UAAYL,EACrB,MAAOM,GACP1C,QAAQC,IAAI,2BAA4ByC,EAAKjC,KAAMa,QAM3D,OAEE,OADAtB,QAAQC,IAAI,sBAAuB6B,UAAUC,QACxB,GAAlBD,UAAUC,OAEJtB,KAAKC,IAAIiC,aAGhBlC,KAAKC,IAAIiC,YAAcb,UAAU,GAE1BrB,MAIX,KAAKD,GAGH,OAAO,IAAID,EAASE,KAAKC,IAAII,iBAAiBN,IAEhD,OAAO4B,GAEL,GAAmB,iBAARA,EAAkB,CAE3B,MAAMC,EAAW1B,SAAS2B,cAAc,OACxCD,EAASO,UAAYR,EAGrB3B,KAAKI,KAAKG,SAAQ,SAAUM,GAC1B,IACEA,EAAGM,YAAYS,GACf,MAAOK,GACP1C,QAAQC,IAAI,2BAA4ByC,EAAKjC,KAAMa,QAM3D,GAAGuB,EAAKC,EAAKC,GAaX,OAVAtC,KAAKC,IAAIsC,iBAAiBH,GAAK,SAAUI,GAEvC,IADA,IAAIpE,EAAIoE,EAAMC,OACPrE,GAAKA,IAAM4B,MACZ5B,EAAEsE,QAAQL,IAEZC,EAAQjF,KAAKe,EAAGoE,GAElBpE,EAAIA,EAAE8C,cAGHlB,KAGT,SAASH,GACP,OAAOG,KAAKC,IAAIuB,UAAUmB,SAAS9C,GAErC,OAEE,MAAMuB,EAAWC,UACjB,OAAuB,GAAnBD,EAASE,OACJtB,KAAKC,IAAIkC,UAEK,GAAnBf,EAASE,QAEXtB,KAAKC,IAAIkC,UAAYf,EAAS,GAEvBpB,WAJT,EAQF,UAGE,OAFAT,QAAQC,IAAIQ,KAAMA,KAAKI,MAEpBJ,KAAKI,KAAKkB,OACJ1B,EAAII,KAAKI,KAAKJ,KAAKI,KAAKkB,OAAS,IAEnC,KAGT,OACE,MAAMF,EAAWC,UAIjB,OAHuB,GAAnBD,EAASE,QACX/B,QAAQC,IAAI,kBAES,GAAnB4B,EAASE,OACJtB,KAAKC,IAAI2C,aAAaxB,EAAS,KAEjB,GAAnBA,EAASE,QACXtB,KAAKI,KAAKG,SAAQ,SAAUM,GAC1BA,EAAGgC,aAAazB,EAAS,GAAIA,EAAS,OAInCpB,MAOT,SAEET,QAAQC,IAAI,cAAeQ,KAAKC,KAChCD,KAAKC,IAAIyB,SAEX,SAEE,OAAO9B,EAAII,KAAKC,IAAIiB,YAEtB,QAEE,OAAOlB,KAAKC,IAGd,WAEE,OADAV,QAAQC,IAAI,wBAAyBQ,KAAKC,IAAI6C,YACvClD,EAAII,KAAKC,IAAI6C,YAEtB,YACE,IACIC,EADAC,EAAOhD,KAAKC,IACLgD,EAAM,GACjB,GAAkB,iBAARD,GAAqC,QAAjBA,EAAKE,SACjC,IAAI,IAAIhG,EAAE,EAAGA,GAAG8F,EAAKG,SAAS7B,OAAO,EAAGpE,IAEtC,IADA6F,EAAQC,EAAKG,SAASjG,IACbO,MAAsB,QAAdsF,EAAMK,MAAgC,SAAdL,EAAMK,KAC7C,GAAiB,mBAAdL,EAAMK,KACP,IAAI,IAAIC,EAAE,EAAGA,GAAGL,EAAKG,SAASjG,GAAGoG,QAAQhC,OAAO,EAAG+B,IAC9CN,EAAMO,QAAQD,GAAGE,WAClBN,GAAS,IAAMF,EAAMtF,KAAO,IAAM+F,mBAAmBT,EAAMO,QAAQD,GAAGlF,OAAOsF,QAAQ,OAAO,UAK9E,UAAdV,EAAMK,MAAkC,UAAdL,EAAMK,OAChB,YAAdL,EAAMK,MAAoC,SAAdL,EAAMK,MAAoBL,EAAMW,WAC9DT,GAAS,IAAMF,EAAMtF,KAAO,IAAM+F,mBAAmBT,EAAM5E,OAAOsF,QAAQ,OAAO,MAO7F,OAAOR,EAAMU,OAAO,KAIxB,SAASrD,EAAWsD,GAClB,IAAIC,EAAajG,OAAOkB,UAAUgF,SAASzG,KAAKuG,GAEhD,MAAwB,iBAAVA,GACZ,gDAAgDG,KAAKF,IAC5B,iBAAjBD,EAAMtC,SACI,IAAjBsC,EAAMtC,QAAqC,iBAAbsC,EAAM,IAAmBA,EAAM,GAAGI,SAAW,GAIhF,OAAO,IAAIlE,EAASD,I,sKAYtBoE,OAAOC,QAAU,SAASC,GACxB,IAAIC,EAAQ,CACV,KAAO,MACP,IAAM,IACN,KAAO,GACP,QAAU,MAGTD,IACDC,EAAQxG,OAAOyG,OAAOD,EAAOD,IAG/B,IAAIG,EAAM,IAAIC,eAEdD,EAAIE,KAAKJ,EAAMhB,KAAMgB,EAAMK,KAC3B,IAAIC,EAAY,IAAIC,SAGpB,IAAM,IAAIlG,KAAO2F,EAAMQ,KACrBF,EAAUG,OAAOpG,EAAK2F,EAAMQ,KAAKnG,IAInC6F,EAAIQ,KAAKJ,GACTJ,EAAI/B,iBAAiB,QAErB,SAAuBwC,GAGH,KAAdT,EAAIU,QAKHZ,EAAMa,SACPb,EAAMa,QAAQF,EAAG/E,UAUzBiE,OAAOiB,cAAgB,SAAUC,EAAM1G,GAIrC,GAAI0G,EAAKC,QAAQ3G,EAAM,MAAQ,EAAG,CAEhC,IAEI4G,EADQ,IAAI3F,OADH,OAASjB,EAAM,gBAERkB,KAAKwF,GAIzB,GAAe,MAAXE,EAIF,OAAIA,EAAQ,GACAA,EAAQ,GAAG5B,QAAQ,KAAM,IAG5B,KAUfQ,OAAOqB,cAAgB,SAAUH,EAAM1G,EAAKN,GAM1C,IAAIc,EAAIkG,EACJI,GANJ9G,EAAM+E,mBAAmB/E,IAMR,KALjBN,EAAQqF,mBAAmBrF,IAOvBH,EAAI,IAAI0B,OAAO,UAAYjB,EAAM,UAOjC+G,EAAW,GAcf,IAhBAvG,EAAIA,EAAEwE,QAAQzF,EAAG,KAAOuH,IAGlBH,QAAQ3G,EAAM,MAAQ,IAKxB+G,EADEvG,EAAEmG,QAAQ,MAAQ,EACT,IAAMG,EAEN,IAAMA,EAEnBtG,GAAKuG,GAIM,OAATrH,EAAgB,CAClB,IAAIsH,EAAa,IAAI/F,OAAO,QAAYjB,EAAM,IAAMN,GACpDc,EAAIA,EAAEwE,QAAQgC,EAAY,IAM5B,OAAOxG,GC5ZTyG,OAAO5G,UAAU6G,UAAU,SAAS/E,EAAOgF,GAEzC,OAAO5F,KAAK2D,OAAO,EAAG/C,GAASgF,EAAS5F,KAAK2D,OAAO/C,I,IAIhDiF,E,WAEJ,c,4FAAc,SAGZtG,QAAQC,IAAI,CAACI,QAIbI,KAAK8F,Y,2DAOL,IAAMC,EAAY7F,SAASC,cAAc,qBACnC6F,EAAwB9F,SAASC,cAAc,2BAC/C8F,EAAc/F,SAASgG,eAAe,aA2E5C,SAASC,IACP5G,QAAQC,IAAI,mBACX4G,IACD7G,QAAQC,IAAI,0CAA6CI,EAAI,kCAG/D,SAASwG,IAEPxG,EAAI,iCAAiCyG,MAAK,SAACpG,EAAKW,GAC9CrB,QAAQC,IAAI,SAAUS,EAAKW,GAE3BX,EAAIqG,KAAK,eAAgB1F,GAGzBX,EAAIsG,KAAK,iBAAiBF,MAAK,SAAAG,GAC7BjH,QAAQC,IAAI,cAAegH,GAG3B,IAAIC,EAAgB,CAClBC,MAAO,IAETD,EAAcC,MAAM9F,GAAS,GAC7B6F,EAAcC,MAAM9F,GAAO4F,EAASF,KAAK,eAAiB,YAC1DE,EAASF,KAAK,sBAAuBK,KAAKC,UAAUH,UAO1D,SAASI,EAAqBC,EAAmBC,GAG/C,IAAIC,EAAkBF,EAKlBG,EAAuBD,EAAgBE,SAFzB,sBAMZC,EAAoBC,MAAMC,KAAKJ,GAMrC1H,QAAQC,IAAI,sBAAuB2H,GACnC,IAAK,IAAIjK,EAAIiK,EAAkB7F,OAAQ,EAAGpE,GAAG,EAAGA,IAAK,CACnD,IAAMoK,EAAmBH,EAAkBjK,GAC3CqC,QAAQC,IAAI,sBAAuB8H,GACnC,IAAIC,EAAuBD,EAAiB,GAExCE,EAAe,GAEfC,EAAQvI,EAA0B,aAAcoI,GAEjDpI,EAA0B,UAAWoI,KACtCE,EAAetI,EAA0B,UAAWoI,IAEtD,IAAII,EAAWF,EAEZT,EAAgBU,KACjBC,EAAWX,EAAgBU,IAK7BF,GADAA,GADAA,EAAuBA,EAAqB9D,QAAQ,eAAeiE,IACvBjE,QAAQ,QAAS,KACjBA,QAAQ,QAAS,IAK7DuD,GAFAA,EAAkBA,EAAgBvD,QAAQ6D,EAAiB,GAAG,KAE5B3B,UAAU2B,EAAiB1G,MAAO2G,GAatE,OAFAP,GADAA,EAAkBA,EAAgBvD,QAAQ,QAAS,KACjBA,QAAQ,QAAS,IA5JrDkE,YAAW,WACTC,OAAO,+BAA+BC,SAAS,CAE7C,SAAY,EACZC,cAAe,6GACfC,gBAAiB,6GAEjBC,iBAAkB,WAChBzI,QAAQC,IAAI,oBACZ2G,SASJ,KACFJ,EAAUxD,iBAAiB,UAAU,SAAU0F,GAmB7C,OAjBAhC,EAAY9H,MAAQwI,KAAKC,UFrCI,EAACb,EAAWE,KAE7C,IAAIiC,EAAU,CACZxB,MAAO,IAGT,MAAMyB,EAAsB,CAACC,EAAWC,EAAaC,UACb,IAA3BF,EAAUC,KACnBD,EAAUC,GAAe,IAE3BD,EAAUC,GAAezK,OAAOyG,OAAO+D,EAAUC,GAAcC,IA2CjE,OAxCAvC,EAAU1F,iBAAiB,0BAA0BE,SAAQ,SAAUgI,GACrE,IAAIC,EAAWD,EAAYpK,MAC3B,IACE,IAAIsI,EAAgB8B,EAAY3F,aAAa,uBAE7C,GAAI6D,EAAe,CAGjBA,EAAgBA,EAAchD,QAAQ,YAAa+E,GACnD,IAAIC,EAAU9B,KAAK+B,MAAMjC,GAErBA,EAAcrB,QAAQ,SAAW,EACnCqD,EAAQ/B,MAAMnG,QAAQ,CAACoI,EAAS/H,KAC9B,GAAI6H,EAAQ/B,MAAM9F,GAAQ,CAExB,IAAIgI,EAAWhL,OAAOiL,KAAKJ,EAAQ/B,MAAM9F,IAAQ,GAGH,iBAAnC6H,EAAQ/B,MAAM9F,GAAOgI,GAC9BT,EAAoBD,EAAQxB,MAAM9F,GAAQgI,EAAUH,EAAQ/B,MAAM9F,GAAOgI,IAEzET,EAAoBD,EAAQxB,MAAO9F,EAAO6H,EAAQ/B,MAAM9F,OAM9DhD,OAAOiL,KAAKJ,GAASlI,QAAQuI,IACtBZ,EAAQY,KACXZ,EAAQY,GAAW,IAErBZ,EAAQY,GAAWlL,OAAOyG,OAAO6D,EAAQY,GAAUL,EAAQK,OAKjE,MAAO7G,GACP1C,QAAQC,IAAI,UAAWyC,OAGpBiG,GEhBgCa,CAAoBhD,IAEvD9B,OAAOC,QAAQ,CACb,KAAO,OACP,IAAMD,OAAO+E,QACb,KAAO,CACN,OAAU/E,OAAOgF,wBAAwBC,eACzC,SAAYjD,EAAY9H,MACvB,kBAAqB+G,cAAcjB,OAAOkF,SAASC,KAAM,sBAG3D,QAAW,WACT7J,QAAQC,IAAI,kBAIhByI,EAAGoB,kBACI,KAGTzJ,EAAIM,UAAUoJ,GAAG,QAAQ,kCAyHzB,SAAqBvE,GAKnB,IAAIwE,EAAK3J,EAAII,MAETuJ,EAAGC,SAAS,mBAGZD,EAAGC,SAAS,iBAEdjK,QAAQC,IAAI,kEAAoEqH,EAAqB4C,uBAAuBC,aAAc,KAC1I9J,EAAIoG,GAAuBnB,OAAOgC,EAAqB4C,uBAAuBC,aAAc,KAE5FnK,QAAQC,IAAI,QAEZ2G,QA/HJ,WACE5G,QAAQC,IAAII,EAAI,cAAc+J,OAC9B,IAAIC,EAAchK,EAAI,cAAc+J,MAEpC,IAEE,IAAIE,EAAiBlD,KAAK+B,MAAMkB,GAChCrK,QAAQC,IAAI,CAACqK,mBAEbA,EAAenD,MAAMnG,SAAQ,SAAAuJ,GAE3BlK,EAAIoG,GAAuBnB,OAAOgC,EAAqB4C,uBAAuBC,aAAcI,OAE/F,MAAM7H,GACL1C,QAAQC,IAAIyC,IAnBd8H,GAEA3D,S,gCAoJNnC,OAAO1B,iBAAiB,oBAAoB,SAACC,GAC3CjD,QAAQC,IAAI,+BAGH,IAAIqG","file":"inc/layout-builder/js/layout-builder.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 22);\n","export const getHtmlAttributeWithRegex = (attributeLabel, htmlInput) => {\n\n  var result = null;\n\n  var regexString = attributeLabel+'=\"([\\\\s|\\\\S]*?)\"';\n  console.log();\n  var aux = (new RegExp(regexString)).exec(htmlInput);\n\n  if(aux&&aux[1]){\n    result = aux[1];\n  }\n  return result\n}\n\nexport const serializeFormToJson = ($theForm_, $theOutput_) => {\n\n  var foutObj = {\n    items: [],\n  };\n\n  const assignToFinalObject = (foutItems, targetIndex, targetJsonObj) => {\n    if (typeof foutItems[targetIndex] === 'undefined') {\n      foutItems[targetIndex] = {};\n    }\n    foutItems[targetIndex] = Object.assign(foutItems[targetIndex], targetJsonObj)\n\n  }\n  $theForm_.querySelectorAll('*[data-json-structure]').forEach(function ($inputForm_) {\n    var theValue = $inputForm_.value;\n    try {\n      var jsonStructure = $inputForm_.getAttribute('data-json-structure');\n\n      if (jsonStructure) {\n\n        // -- sanitize for json\n        jsonStructure = jsonStructure.replace('the-value', theValue);\n        var jsonObj = JSON.parse(jsonStructure);\n\n        if (jsonStructure.indexOf('items') > 0) {\n          jsonObj.items.forEach((thisVal, index) => {\n            if (jsonObj.items[index]) {\n\n              var firstKey = Object.keys(jsonObj.items[index])[0];\n\n\n              if (typeof jsonObj.items[index][firstKey] === 'object') {\n                assignToFinalObject(foutObj.items[index], firstKey, jsonObj.items[index][firstKey]);\n              } else {\n                assignToFinalObject(foutObj.items, index, jsonObj.items[index]);\n              }\n            }\n          })\n\n        } else {\n          Object.keys(jsonObj).forEach(jsonKey => {\n            if (!foutObj[jsonKey]) {\n              foutObj[jsonKey] = {};\n            }\n            foutObj[jsonKey] = Object.assign(foutObj[jsonKey], jsonObj[jsonKey]);\n          });\n        }\n      }\n\n    } catch (err) {\n      console.log('er r - ', err);\n    }\n  })\n  return foutObj;\n}","\n\n/**\n * jQuery, but in es6\n * @param query selector\n * @returns {esJquery}\n */\nexport const $es = (arg) => {\n  // todo: actually convert to a class maybe..\n\n\n\n  let esJquery = class {\n    constructor(selector) {\n\n      // console.log('%c typeof selector - ','color: #aaaaaa;', typeof selector, selector);\n      if (typeof selector == 'string') {\n\n        this.$el = document.querySelector(selector);\n        this.$els = document.querySelectorAll(selector);\n      } else {\n\n        this.$el = selector;\n\n        if(isNodeList(selector)){\n          this.$el = selector[0];\n        }\n        this.$els = [];\n\n        if(isNodeList(selector)){\n\n          selector.forEach((_el)=>{\n\n            this.$els.push(_el);\n          })\n        }else{\n\n          this.$els.push(this.$el);\n        }\n\n\n      }\n    }\n\n    each(callbackFn){\n      this.$els.forEach(function ($el_, index) {\n        callbackFn(new esJquery($el_), index);\n      });\n    }\n\n    hide() {\n\n      this.$els.forEach(function (el) {\n        el.style.display = 'none';\n      });\n    }\n\n    clone() {\n      // -- @only works on first element\n      console.log('clone', this.$el);\n\n      const cln = this.$el.cloneNode(true);\n      this.$el.parentNode.appendChild(cln)\n      return cln;\n    }\n    show() {\n\n      this.$els.forEach(function (el) {\n        el.style.display = '';\n      });\n    }\n\n\n    val(arg) {\n\n\n      const attrArgs = arguments;\n      if (attrArgs.length == 0) {\n\n        return this.$el.value;\n      }\n      if (attrArgs.length == 1) {\n\n        this.$els.forEach(function (el3) {\n          el3.value = (arg);\n        });\n      }\n\n      return this;\n    }\n\n    addClass(arg) {\n\n      // console.log('addClass',this.$el, this.$els, arg);\n      // this.$el.classList.add(arg);\n\n\n      this.$els.forEach(function (el3) {\n        el3.classList.add(arg);\n      });\n      return this;\n    }\n\n    removeClass(arg) {\n\n      // console.log('addClass',this.$el, this.$els, arg);\n      // this.$el.classList.add(arg);\n\n\n      this.$els.forEach(function (el3) {\n        el3.classList.remove(arg);\n      });\n      return this;\n    }\n    prepend(html) {\n      if (typeof html == 'string') {\n\n        const _tempKid = document.createElement(\"div\");\n        // _tempKid.innerHTML = html;\n\n\n        this.$els.forEach(function (el) {\n          try {\n\n            el.appendChild(_tempKid);\n            el.insertBefore(_tempKid, el.firstChild);\n            _tempKid.outerHTML = html;\n          } catch (err) {\n            console.log('something went wrong .. ', err, this, el);\n          }\n        })\n      }\n    }\n\n    text(){\n      console.log('arguments.length - ', arguments.length);\n      if(arguments.length==0){\n\n        return this.$el.textContent;\n      }else{\n\n        this.$el.textContent = arguments[0];\n\n        return this;\n      }\n    }\n\n    find(selector) {\n\n      // console.log('this.$el.querySelectorAll(selector) - ',this.$el.querySelectorAll(selector));\n      return new esJquery(this.$el.querySelectorAll(selector));\n    }\n    append(html) {\n      // console.log('html - ' ,html, typeof html, this.$els)\n      if (typeof html == 'string') {\n\n        const _tempKid = document.createElement(\"div\");\n        _tempKid.innerHTML = html;\n\n\n        this.$els.forEach(function (el) {\n          try {\n            el.appendChild(_tempKid);\n          } catch (err) {\n            console.log('something went wrong .. ', err, this, el);\n          }\n        })\n      }\n    }\n\n    on(evt, sel, handler) {\n\n      // console.log(evt,sel,handler,this.$el);\n      this.$el.addEventListener(evt, function (event) {\n        var t = event.target;\n        while (t && t !== this) {\n          if (t.matches(sel)) {\n            // console.log('t - ', t);\n            handler.call(t, event);\n          }\n          t = t.parentNode;\n        }\n      });\n      return this;\n    }\n\n    hasClass(arg) {\n      return this.$el.classList.contains(arg);\n    }\n    html() {\n\n      const attrArgs = arguments;\n      if (attrArgs.length == 0) {\n        return this.$el.innerHTML;\n      }\n      if (attrArgs.length == 1) {\n\n        this.$el.innerHTML = attrArgs[0];\n\n        return this;\n      }\n    }\n\n    getLast() {\n      console.log(this, this.$els);\n\n      if(this.$els.length){\n        return $es(this.$els[this.$els.length - 1]);\n      }\n      return null;\n      // return\n    }\n    attr() {\n      const attrArgs = arguments;\n      if (attrArgs.length == 0) {\n        console.log('no attrArgs.. ');\n      }\n      if (attrArgs.length == 1) {\n        return this.$el.getAttribute(attrArgs[0]);\n      }\n      if (attrArgs.length == 2) {\n        this.$els.forEach(function (el) {\n          el.setAttribute(attrArgs[0], attrArgs[1]);\n        });\n      }\n\n      return this;\n      // console.log('addClass',this.$el, this.$els, arg);\n      // this.$el.classList.add(arg);\n\n\n    }\n\n    remove() {\n\n      console.log('this.$el - ', this.$el);\n      this.$el.remove();\n    }\n    parent() {\n\n      return $es(this.$el.parentNode);\n    }\n    getEl() {\n\n      return this.$el;\n    }\n\n    children() {\n      console.log('this.$el.childNodes -', this.$el.childNodes);\n      return $es(this.$el.childNodes);\n    }\n    serialize( ){\n      var form = this.$el;\n      var field, query='';\n      if(typeof form == 'object' && form.nodeName == \"FORM\"){\n        for(var i=0; i<=form.elements.length-1; i++){\n          field = form.elements[i];\n          if(field.name && field.type != 'file' && field.type != 'reset'){\n            if(field.type == 'select-multiple'){\n              for(var j=0; j<=form.elements[i].options.length-1; j++){\n                if(field.options[j].selected){\n                  query += '&' + field.name + \"=\" + encodeURIComponent(field.options[j].value).replace(/%20/g,'+');\n                }\n              }\n            }\n            else{\n              if((field.type != 'submit' && field.type != 'button')){\n                if((field.type != 'checkbox' && field.type != 'radio') || field.checked){\n                  query += '&' + field.name + \"=\" + encodeURIComponent(field.value).replace(/%20/g,'+');\n                }\n              }\n            }\n          }\n        }\n      }\n      return query.substr(1);\n    }\n  };\n\n  function isNodeList(nodes) {\n    var stringRepr = Object.prototype.toString.call(nodes);\n\n    return typeof nodes === 'object' &&\n      /^\\[object (HTMLCollection|NodeList|Object)\\]$/.test(stringRepr) &&\n      (typeof nodes.length === 'number') &&\n      (nodes.length === 0 || (typeof nodes[0] === \"object\" && nodes[0].nodeType > 0));\n  }\n\n\n  return new esJquery(arg)\n  // return document.querySelector(arg);\n};\n\n/** call ajax function\n * {\n    'type':'GET',\n    'url':'/',\n    'data':{},\n    'success':null\n  }\n */\nwindow.es_ajax = function(pargs) {\n  var margs = {\n    'type':'GET',\n    'url':'/',\n    'data':{},\n    'success':null\n  };\n\n  if(pargs){\n    margs = Object.assign(margs, pargs);\n  }\n\n  let xhr = new XMLHttpRequest();\n\n  xhr.open(margs.type, margs.url);\n  var form_data = new FormData();\n\n  // console.log('margs.data - ', margs.data,pargs,margs);\n  for ( var key in margs.data ) {\n    form_data.append(key, margs.data[key]);\n  }\n  // console.log('form_data - ', form_data);\n\n  xhr.send(form_data);\n  xhr.addEventListener('load', handle_loaded);\n\n  function handle_loaded(e){\n\n    // console.log('laded xhr - ',e,xhr);\n    if (xhr.status != 200) {\n\n      // console.log('this no status - ', this,e);\n    } else { // show the result\n      // console.log('this - ', this,e);\n      if(margs.success){\n        margs.success(e, this);\n      }\n    }\n  }\n\n\n}\n\n\n\nwindow.get_query_arg = function (purl, key) {\n  //console.info(purl);\n\n  // console.info(\"THIS\", purl, key);\n  if (purl.indexOf(key + '=') > -1) {\n    //faconsole.log('testtt');\n    var regexS = \"[?&]\" + key + \"(.+?)(?=&|$)\";\n    var regex = new RegExp(regexS);\n    var regtest = regex.exec(purl);\n\n\n    //console.info(regex, regtest);\n    if (regtest != null) {\n      //var splitterS = regtest;\n\n\n      if (regtest[1]) {\n        var aux = regtest[1].replace(/=/g, '');\n        return aux;\n      } else {\n        return '';\n      }\n\n\n    }\n    //$('.zoombox').eq\n  }\n}\n\n\nwindow.add_query_arg = function (purl, key, value) {\n  key = encodeURIComponent(key);\n  value = encodeURIComponent(value);\n\n  //if(window.console) { console.info(key, value); };\n\n  var s = purl;\n  var pair = key + \"=\" + value;\n\n  var r = new RegExp(\"(&|\\\\?)\" + key + \"=[^\\&]*\");\n\n\n  //console.info(pair);\n\n  s = s.replace(r, \"$1\" + pair);\n  //console.log(s, pair);\n  var addition = '';\n  if (s.indexOf(key + '=') > -1) {\n\n\n  } else {\n    if (s.indexOf('?') > -1) {\n      addition = '&' + pair;\n    } else {\n      addition = '?' + pair;\n    }\n    s += addition;\n  }\n\n  //if value NaN we remove this field from the url\n  if (value == 'NaN') {\n    var regex_attr = new RegExp('[\\?|\\&]' + key + '=' + value);\n    s = s.replace(regex_attr, '');\n  }\n\n\n  //if(!RegExp.$1) {s += (s.length>0 ? '&' : '?') + kvp;};\n\n  return s;\n}\n","// var $es = require('./js_common/_esjquery').$es;\nimport {serializeFormToJson, getHtmlAttributeWithRegex} from './js_common/_helpers';\nString.prototype.insert_at=function(index, string)\n{\n  return this.substr(0, index) + string + this.substr(index);\n}\nimport {$es} from './js_common/_esjquery';\n\nclass LayoutBuilder{\n\n  constructor() {\n\n\n    console.log({$es});\n\n\n\n    this.classInit();\n\n  }\n\n  classInit(){\n\n    // window.layout_builder_settings = JSON.parse(window.layout_builder_settings);\n    const $theForm_ = document.querySelector('.layout--main-con');\n    const $layoutBuilderLayers_ = document.querySelector('.layout-builder--layers');\n    const $theOutput_ = document.getElementById('lb-output');\n\n\n\n    setTimeout(function(){\n      jQuery('#layout-builder--layers-con').nestable({\n\n        'maxDepth': 4,\n        expandBtnHTML: '<button class=\"collapse-btn\" data-action=\"expand\" type=\"button\"><i class=\"fa fa-caret-down\" ></i></button>',\n        collapseBtnHTML: '<button class=\"collapse-btn\" data-action=\"collapse\" type=\"button\"><i class=\"fa fa-caret-up\" ></i></button>',\n\n        action_drag_stop: function () {\n          console.log('action_drag_stop');\n          handleReorder();\n          // arrange_layers({\n          //   calledFrom: 'order_stop'\n          // });\n          // update_to_editor({\n          //   'call_from': 'arrange_layers'\n          // });\n        }\n      });\n    },1000);\n    $theForm_.addEventListener('submit', function (ev) {\n\n      $theOutput_.value = JSON.stringify(serializeFormToJson($theForm_, $theOutput_));\n\n      window.es_ajax({\n        'type':'POST',\n        'url':window.ajaxurl,\n        'data':{\n         'action': window.layout_builder_settings.ajaxActionName,\n         'postdata': $theOutput_.value,\n          'layout_builder_id': get_query_arg(window.location.href, 'layout_builder_id'),\n         // 'postdata': 'ab',\n        },\n        'success': function(){\n          console.log('successssss');\n        }\n      })\n\n      ev.preventDefault();\n      return false;\n    });\n\n    $es(document).on('click','.add-element, .btn-save-layout', handleClick);\n\n\n    handleInit();\n    function handleInit(){\n\n      mapInitialConfigToItems();\n\n      mapJsonStructureToInputs();\n    }\n\n    function mapInitialConfigToItems(){\n      console.log($es('#lb-output').val());\n      var initialFeed = $es('#lb-output').val();\n\n      try{\n\n        var initialFeedObj = JSON.parse(initialFeed);\n        console.log({initialFeedObj});\n\n        initialFeedObj.items.forEach(item=>{\n\n          $es($layoutBuilderLayers_).append(mapBuilderItemToHtml(layoutBuilderStructure.builder_item, item));\n        })\n      }catch(err){\n        console.log(err);\n      }\n    }\n\n\n    function handleReorder(){\n      console.log('handleReorder()');\n       mapJsonStructureToInputs();\n      console.log('$es(\\'.layout-builder--builder-item\\') - ', $es('.layout-builder--builder-item'));\n    }\n\n    function mapJsonStructureToInputs(){\n\n      $es('.layout-builder--builder-item').each(($el, index)=>{\n        console.log('$el - ', $el, index);\n\n        $el.attr('data-lbindex', index);\n\n\n        $el.find('*[data-lbkey]').each($elInput => {\n          console.log('$elInput - ', $elInput);\n\n\n          let jsonStructure = {\n            items: []\n          };\n          jsonStructure.items[index] = {};\n          jsonStructure.items[index][$elInput.attr('data-lbkey')] = 'the-value';\n          $elInput.attr('data-json-structure', JSON.stringify(jsonStructure))\n        })\n\n\n      })\n    }\n\n    function mapBuilderItemToHtml(builderItemString, builderItemArgs){\n\n      // console.log('builderItemString -', builderItemString);\n      let builderItemHtml = builderItemString;\n\n\n      var regexItems = (/-><-[\\s|\\S]*?-<>-/g);\n\n      var regexItemsResultsAux = builderItemHtml.matchAll(regexItems);\n\n\n      // const regexItemsResults = [];\n      const regexItemsResults = Array.from(regexItemsResultsAux);\n      // for (const regexItemsResult of regexItemsResultsAux) {\n      //   regexItemsResults.push(regexItemsResult);\n      // }\n\n      // console.log({regexItemsResult});\n      console.log('regexItemsResults -', regexItemsResults);\n      for (let i = regexItemsResults.length -1; i>=0; i--) {\n        const regexItemsResult = regexItemsResults[i];\n        console.log('regexItemsResult - ', regexItemsResult);\n        let regexItemsResultHtml = regexItemsResult[0];\n\n        var defaultValue = '';\n\n        var lbKey = getHtmlAttributeWithRegex('data-lbkey', regexItemsResult);\n\n        if(getHtmlAttributeWithRegex('default', regexItemsResult)){\n          defaultValue = getHtmlAttributeWithRegex('default', regexItemsResult);\n        }\n        var setValue = defaultValue;\n\n        if(builderItemArgs[lbKey]){\n          setValue = builderItemArgs[lbKey];\n        }\n\n        regexItemsResultHtml = regexItemsResultHtml.replace('{{thevalue}}',setValue);\n        regexItemsResultHtml = regexItemsResultHtml.replace(/-><-/g, '');\n        regexItemsResultHtml = regexItemsResultHtml.replace(/-<>-/g, '');\n\n        // builderItemHtml = builderItemHtml.substring(0,regexItemsResult.index)+regexItemsResultHtml+builderItemHtml.substring(regexItemsResult.index + regexItemsResult[0].length, builderItemHtml.length);\n        builderItemHtml = builderItemHtml.replace(regexItemsResult[0],'');\n\n        builderItemHtml = builderItemHtml.insert_at(regexItemsResult.index, regexItemsResultHtml);\n\n        // builderItemHtml = builderItemHtml.replace('{{thevalue}}', setValue);\n\n\n\n\n        // console.log(getHtmlAttributeWithRegex('default', regexItemsResult));\n      }\n\n      builderItemHtml = builderItemHtml.replace(/-><-/g, '');\n      builderItemHtml = builderItemHtml.replace(/-<>-/g, '');\n\n      return builderItemHtml\n\n    }\n\n    function handleClick(e) {\n\n      // console.log(e);\n\n\n      var $t = $es(this);\n\n      if ($t.hasClass('btn-save-layout')) {\n\n      }\n      if ($t.hasClass('add-element')) {\n\n        console.log('mapBuilderItemToHtml(layoutBuilderStructure.builder_item, {}) -' , mapBuilderItemToHtml(layoutBuilderStructure.builder_item, {}));\n        $es($layoutBuilderLayers_).append(mapBuilderItemToHtml(layoutBuilderStructure.builder_item, {}));\n\n        console.log(\"CEVA\");\n\n        handleReorder();\n\n        // _builderLayers.append(dzswtl_settings.struct_layer_element);\n        //\n        // listeners_add_for_layer();\n        //\n        // arrange_layers();\n        //\n        // update_to_editor({\n        //   'call_from': 'add-element'\n        // });\n      }\n    }\n  }\n\n\n}\n\nwindow.addEventListener('DOMContentLoaded', (event) => {\n  console.log('DOM fully loaded and parsed');\n\n\n  var lb = new LayoutBuilder();\n});"],"sourceRoot":""}